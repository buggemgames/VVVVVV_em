var Module=void 0!==Module?Module:{},ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="undefined"!=typeof WorkerGlobalScope,ENVIRONMENT_IS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&"renderer"!=process.type,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER,necessaryPreJSTasks=(Module.expectedDataFileDownloads??=0,Module.expectedDataFileDownloads++,(()=>{var metadata,packageName,packageSize,callback,errback,REMOTE_PACKAGE_SIZE,fetchedCallback,fetched,isPthread="undefined"!=typeof ENVIRONMENT_IS_PTHREAD&&ENVIRONMENT_IS_PTHREAD,isWasmWorker="undefined"!=typeof ENVIRONMENT_IS_WASM_WORKER&&ENVIRONMENT_IS_WASM_WORKER;function runWithFS(Module){function assert(check,msg){if(!check)throw msg+(new Error).stack}function DataRequest(start,end,audio){this.start=start,this.end=end,this.audio=audio}Module.FS_createPath("/","fonts",!0,!0),Module.FS_createPath("/","lang",!0,!0),Module.FS_createPath("/lang","ar",!0,!0),Module.FS_createPath("/lang/ar","graphics",!0,!0),Module.FS_createPath("/lang","ca",!0,!0),Module.FS_createPath("/lang/ca","graphics",!0,!0),Module.FS_createPath("/lang","cy",!0,!0),Module.FS_createPath("/lang/cy","graphics",!0,!0),Module.FS_createPath("/lang","de",!0,!0),Module.FS_createPath("/lang/de","graphics",!0,!0),Module.FS_createPath("/lang","en",!0,!0),Module.FS_createPath("/lang","eo",!0,!0),Module.FS_createPath("/lang/eo","graphics",!0,!0),Module.FS_createPath("/lang","es",!0,!0),Module.FS_createPath("/lang/es","graphics",!0,!0),Module.FS_createPath("/lang","es_419",!0,!0),Module.FS_createPath("/lang/es_419","graphics",!0,!0),Module.FS_createPath("/lang","es_AR",!0,!0),Module.FS_createPath("/lang/es_AR","graphics",!0,!0),Module.FS_createPath("/lang","fr",!0,!0),Module.FS_createPath("/lang/fr","graphics",!0,!0),Module.FS_createPath("/lang","ga",!0,!0),Module.FS_createPath("/lang/ga","graphics",!0,!0),Module.FS_createPath("/lang","it",!0,!0),Module.FS_createPath("/lang/it","graphics",!0,!0),Module.FS_createPath("/lang","ja",!0,!0),Module.FS_createPath("/lang/ja","graphics",!0,!0),Module.FS_createPath("/lang","ko",!0,!0),Module.FS_createPath("/lang/ko","graphics",!0,!0),Module.FS_createPath("/lang","nl",!0,!0),Module.FS_createPath("/lang/nl","graphics",!0,!0),Module.FS_createPath("/lang","pl",!0,!0),Module.FS_createPath("/lang/pl","graphics",!0,!0),Module.FS_createPath("/lang","pt_BR",!0,!0),Module.FS_createPath("/lang/pt_BR","graphics",!0,!0),Module.FS_createPath("/lang","pt_PT",!0,!0),Module.FS_createPath("/lang/pt_PT","graphics",!0,!0),Module.FS_createPath("/lang","ru",!0,!0),Module.FS_createPath("/lang/ru","graphics",!0,!0),Module.FS_createPath("/lang","szl",!0,!0),Module.FS_createPath("/lang/szl","graphics",!0,!0),Module.FS_createPath("/lang","tr",!0,!0),Module.FS_createPath("/lang/tr","graphics",!0,!0),Module.FS_createPath("/lang","uk",!0,!0),Module.FS_createPath("/lang/uk","graphics",!0,!0),Module.FS_createPath("/lang","zh",!0,!0),Module.FS_createPath("/lang/zh","graphics",!0,!0),Module.FS_createPath("/lang","zh_TW",!0,!0),Module.FS_createPath("/lang/zh_TW","graphics",!0,!0),DataRequest.prototype={requests:{},open:function(mode,name){this.name=name,this.requests[name]=this,Module.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var byteArray=this.byteArray.subarray(this.start,this.end);this.finish(byteArray)},finish:function(byteArray){Module.FS_createDataFile(this.name,null,byteArray,!0,!0,!0),Module.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var files=metadata.files,i=0;i<files.length;++i)new DataRequest(files[i].start,files[i].end,files[i].audio||0).open("GET",files[i].filename);function processPackageData(arrayBuffer){assert(arrayBuffer,"Loading data file failed."),assert(arrayBuffer.constructor.name===ArrayBuffer.name,"bad input to processPackageData");for(var arrayBuffer=new Uint8Array(arrayBuffer),files=(DataRequest.prototype.byteArray=arrayBuffer,metadata.files),i=0;i<files.length;++i)DataRequest.prototype.requests[files[i].filename].onload();Module.removeRunDependency("datafile_VVVVVV.data")}Module.addRunDependency("datafile_VVVVVV.data"),Module.preloadResults??={},Module.preloadResults["VVVVVV.data"]={fromCache:!1},fetched?(processPackageData(fetched),fetched=null):fetchedCallback=processPackageData}isPthread||isWasmWorker||(isPthread="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,metadata={files:[{filename:"/data.zip",start:0,end:61404595},{filename:"/fonts/README.txt",start:61404595,end:61408488},{filename:"/fonts/buttons_10x10.fontmeta",start:61408488,end:61408818},{filename:"/fonts/buttons_10x10.png",start:61408818,end:61411099},{filename:"/fonts/buttons_12x12.fontmeta",start:61411099,end:61411429},{filename:"/fonts/buttons_12x12.png",start:61411429,end:61414075},{filename:"/fonts/buttons_8x8.fontmeta",start:61414075,end:61414403},{filename:"/fonts/buttons_8x8.png",start:61414403,end:61416807},{filename:"/fonts/font.fontmeta",start:61416807,end:61421409},{filename:"/fonts/font.png",start:61421409,end:61425902},{filename:"/fonts/font_ar.fontmeta",start:61425902,end:61426522},{filename:"/fonts/font_ar.png",start:61426522,end:61429379},{filename:"/fonts/font_ja.fontmeta",start:61429379,end:61616870},{filename:"/fonts/font_ja.png",start:61616870,end:61685078},{filename:"/fonts/font_ko.fontmeta",start:61685078,end:61873597},{filename:"/fonts/font_ko.png",start:61873597,end:61969431},{filename:"/fonts/font_ko_license.txt",start:61969431,end:61973839},{filename:"/fonts/font_sc.fontmeta",start:61973839,end:62122351},{filename:"/fonts/font_sc.png",start:62122351,end:62367192},{filename:"/fonts/font_sc_tc_license.txt",start:62367192,end:62386106},{filename:"/fonts/font_tc.fontmeta",start:62386106,end:62534618},{filename:"/fonts/font_tc.png",start:62534618,end:62779740},{filename:"/lang/README-programmers.txt",start:62779740,end:62788897},{filename:"/lang/README-translators.txt",start:62788897,end:62816158},{filename:"/lang/ar/cutscenes.xml",start:62816158,end:62918839},{filename:"/lang/ar/graphics/flipsprites.png",start:62918839,end:62921316},{filename:"/lang/ar/graphics/sprites.png",start:62921316,end:62923759},{filename:"/lang/ar/graphics/spritesmask.xml",start:62923759,end:62924156},{filename:"/lang/ar/meta.xml",start:62924156,end:62925776},{filename:"/lang/ar/numbers.xml",start:62925776,end:62939203},{filename:"/lang/ar/roomnames.xml",start:62939203,end:62980814},{filename:"/lang/ar/roomnames_special.xml",start:62980814,end:62989708},{filename:"/lang/ar/strings.xml",start:62989708,end:63121376},{filename:"/lang/ar/strings_plural.xml",start:63121376,end:63126360},{filename:"/lang/ca/cutscenes.xml",start:63126360,end:63219055},{filename:"/lang/ca/graphics/flipsprites.png",start:63219055,end:63220784},{filename:"/lang/ca/graphics/sprites.png",start:63220784,end:63222511},{filename:"/lang/ca/graphics/spritesmask.xml",start:63222511,end:63222809},{filename:"/lang/ca/meta.xml",start:63222809,end:63224380},{filename:"/lang/ca/numbers.xml",start:63224380,end:63233179},{filename:"/lang/ca/roomnames.xml",start:63233179,end:63273604},{filename:"/lang/ca/roomnames_special.xml",start:63273604,end:63281552},{filename:"/lang/ca/strings.xml",start:63281552,end:63395733},{filename:"/lang/ca/strings_plural.xml",start:63395733,end:63398686},{filename:"/lang/cy/cutscenes.xml",start:63398686,end:63493905},{filename:"/lang/cy/graphics/flipsprites.png",start:63493905,end:63495590},{filename:"/lang/cy/graphics/sprites.png",start:63495590,end:63497285},{filename:"/lang/cy/graphics/spritesmask.xml",start:63497285,end:63497583},{filename:"/lang/cy/meta.xml",start:63497583,end:63499140},{filename:"/lang/cy/numbers.xml",start:63499140,end:63508063},{filename:"/lang/cy/roomnames.xml",start:63508063,end:63547897},{filename:"/lang/cy/roomnames_special.xml",start:63547897,end:63555690},{filename:"/lang/cy/strings.xml",start:63555690,end:63669793},{filename:"/lang/cy/strings_plural.xml",start:63669793,end:63672826},{filename:"/lang/de/cutscenes.xml",start:63672826,end:63768072},{filename:"/lang/de/graphics/flipsprites.png",start:63768072,end:63769779},{filename:"/lang/de/graphics/sprites.png",start:63769779,end:63771495},{filename:"/lang/de/graphics/spritesmask.xml",start:63771495,end:63771793},{filename:"/lang/de/meta.xml",start:63771793,end:63773345},{filename:"/lang/de/numbers.xml",start:63773345,end:63782364},{filename:"/lang/de/roomnames.xml",start:63782364,end:63822234},{filename:"/lang/de/roomnames_special.xml",start:63822234,end:63830014},{filename:"/lang/de/strings.xml",start:63830014,end:63943062},{filename:"/lang/de/strings_plural.xml",start:63943062,end:63946023},{filename:"/lang/en/cutscenes.xml",start:63946023,end:64014869},{filename:"/lang/en/meta.xml",start:64014869,end:64016380},{filename:"/lang/en/numbers.xml",start:64016380,end:64024170},{filename:"/lang/en/roomnames.xml",start:64024170,end:64060704},{filename:"/lang/en/roomnames_special.xml",start:64060704,end:64067491},{filename:"/lang/en/strings.xml",start:64067491,end:64159876},{filename:"/lang/en/strings_plural.xml",start:64159876,end:64162307},{filename:"/lang/eo/cutscenes.xml",start:64162307,end:64253282},{filename:"/lang/eo/graphics/flipsprites.png",start:64253282,end:64255622},{filename:"/lang/eo/graphics/sprites.png",start:64255622,end:64257961},{filename:"/lang/eo/graphics/spritesmask.xml",start:64257961,end:64258358},{filename:"/lang/eo/meta.xml",start:64258358,end:64259909},{filename:"/lang/eo/numbers.xml",start:64259909,end:64268587},{filename:"/lang/eo/roomnames.xml",start:64268587,end:64308078},{filename:"/lang/eo/roomnames_special.xml",start:64308078,end:64315793},{filename:"/lang/eo/strings.xml",start:64315793,end:64427852},{filename:"/lang/eo/strings_plural.xml",start:64427852,end:64430813},{filename:"/lang/es/cutscenes.xml",start:64430813,end:64524362},{filename:"/lang/es/graphics/flipsprites.png",start:64524362,end:64526086},{filename:"/lang/es/graphics/sprites.png",start:64526086,end:64527811},{filename:"/lang/es/graphics/spritesmask.xml",start:64527811,end:64528109},{filename:"/lang/es/meta.xml",start:64528109,end:64529697},{filename:"/lang/es/numbers.xml",start:64529697,end:64541503},{filename:"/lang/es/roomnames.xml",start:64541503,end:64581469},{filename:"/lang/es/roomnames_special.xml",start:64581469,end:64589337},{filename:"/lang/es/strings.xml",start:64589337,end:64703588},{filename:"/lang/es/strings_plural.xml",start:64703588,end:64706481},{filename:"/lang/es_419/cutscenes.xml",start:64706481,end:64799740},{filename:"/lang/es_419/graphics/flipsprites.png",start:64799740,end:64801464},{filename:"/lang/es_419/graphics/sprites.png",start:64801464,end:64803189},{filename:"/lang/es_419/graphics/spritesmask.xml",start:64803189,end:64803487},{filename:"/lang/es_419/meta.xml",start:64803487,end:64805082},{filename:"/lang/es_419/numbers.xml",start:64805082,end:64816888},{filename:"/lang/es_419/roomnames.xml",start:64816888,end:64856873},{filename:"/lang/es_419/roomnames_special.xml",start:64856873,end:64864762},{filename:"/lang/es_419/strings.xml",start:64864762,end:64978990},{filename:"/lang/es_419/strings_plural.xml",start:64978990,end:64981865},{filename:"/lang/es_AR/cutscenes.xml",start:64981865,end:65075159},{filename:"/lang/es_AR/graphics/flipsprites.png",start:65075159,end:65076883},{filename:"/lang/es_AR/graphics/sprites.png",start:65076883,end:65078608},{filename:"/lang/es_AR/graphics/spritesmask.xml",start:65078608,end:65078906},{filename:"/lang/es_AR/meta.xml",start:65078906,end:65080499},{filename:"/lang/es_AR/numbers.xml",start:65080499,end:65092305},{filename:"/lang/es_AR/roomnames.xml",start:65092305,end:65132318},{filename:"/lang/es_AR/roomnames_special.xml",start:65132318,end:65140214},{filename:"/lang/es_AR/strings.xml",start:65140214,end:65254626},{filename:"/lang/es_AR/strings_plural.xml",start:65254626,end:65257489},{filename:"/lang/fr/cutscenes.xml",start:65257489,end:65357683},{filename:"/lang/fr/graphics/flipsprites.png",start:65357683,end:65359421},{filename:"/lang/fr/graphics/sprites.png",start:65359421,end:65361138},{filename:"/lang/fr/graphics/spritesmask.xml",start:65361138,end:65361436},{filename:"/lang/fr/meta.xml",start:65361436,end:65362995},{filename:"/lang/fr/numbers.xml",start:65362995,end:65372002},{filename:"/lang/fr/roomnames.xml",start:65372002,end:65412052},{filename:"/lang/fr/roomnames_special.xml",start:65412052,end:65420036},{filename:"/lang/fr/strings.xml",start:65420036,end:65535484},{filename:"/lang/fr/strings_plural.xml",start:65535484,end:65538463},{filename:"/lang/ga/cutscenes.xml",start:65538463,end:65634180},{filename:"/lang/ga/graphics/flipsprites.png",start:65634180,end:65636195},{filename:"/lang/ga/graphics/sprites.png",start:65636195,end:65638166},{filename:"/lang/ga/graphics/spritesmask.xml",start:65638166,end:65638517},{filename:"/lang/ga/meta.xml",start:65638517,end:65640098},{filename:"/lang/ga/numbers.xml",start:65640098,end:65647888},{filename:"/lang/ga/roomnames.xml",start:65647888,end:65687760},{filename:"/lang/ga/roomnames_special.xml",start:65687760,end:65695597},{filename:"/lang/ga/strings.xml",start:65695597,end:65811104},{filename:"/lang/ga/strings_plural.xml",start:65811104,end:65816568},{filename:"/lang/it/cutscenes.xml",start:65816568,end:65908171},{filename:"/lang/it/graphics/flipsprites.png",start:65908171,end:65909876},{filename:"/lang/it/graphics/sprites.png",start:65909876,end:65911597},{filename:"/lang/it/graphics/spritesmask.xml",start:65911597,end:65911895},{filename:"/lang/it/meta.xml",start:65911895,end:65913482},{filename:"/lang/it/numbers.xml",start:65913482,end:65922273},{filename:"/lang/it/roomnames.xml",start:65922273,end:65962094},{filename:"/lang/it/roomnames_special.xml",start:65962094,end:65969965},{filename:"/lang/it/strings.xml",start:65969965,end:66083193},{filename:"/lang/it/strings_plural.xml",start:66083193,end:66086133},{filename:"/lang/ja/cutscenes.xml",start:66086133,end:66191828},{filename:"/lang/ja/graphics/flipsprites.png",start:66191828,end:66193939},{filename:"/lang/ja/graphics/sprites.png",start:66193939,end:66196067},{filename:"/lang/ja/graphics/spritesmask.xml",start:66196067,end:66196409},{filename:"/lang/ja/meta.xml",start:66196409,end:66198005},{filename:"/lang/ja/numbers.xml",start:66198005,end:66205795},{filename:"/lang/ja/roomnames.xml",start:66205795,end:66248072},{filename:"/lang/ja/roomnames_special.xml",start:66248072,end:66256355},{filename:"/lang/ja/strings.xml",start:66256355,end:66385536},{filename:"/lang/ja/strings_plural.xml",start:66385536,end:66388030},{filename:"/lang/ko/cutscenes.xml",start:66388030,end:66482169},{filename:"/lang/ko/graphics/flipsprites.png",start:66482169,end:66484145},{filename:"/lang/ko/graphics/sprites.png",start:66484145,end:66486110},{filename:"/lang/ko/graphics/spritesmask.xml",start:66486110,end:66486454},{filename:"/lang/ko/meta.xml",start:66486454,end:66488017},{filename:"/lang/ko/numbers.xml",start:66488017,end:66495807},{filename:"/lang/ko/roomnames.xml",start:66495807,end:66535627},{filename:"/lang/ko/roomnames_special.xml",start:66535627,end:66543432},{filename:"/lang/ko/strings.xml",start:66543432,end:66668330},{filename:"/lang/ko/strings_plural.xml",start:66668330,end:66670892},{filename:"/lang/nl/cutscenes.xml",start:66670892,end:66764500},{filename:"/lang/nl/graphics/flipsprites.png",start:66764500,end:66764909},{filename:"/lang/nl/graphics/sprites.png",start:66764909,end:66765316},{filename:"/lang/nl/graphics/spritesmask.xml",start:66765316,end:66765569},{filename:"/lang/nl/meta.xml",start:66765569,end:66767127},{filename:"/lang/nl/numbers.xml",start:66767127,end:66778782},{filename:"/lang/nl/roomnames.xml",start:66778782,end:66818508},{filename:"/lang/nl/roomnames_special.xml",start:66818508,end:66826327},{filename:"/lang/nl/strings.xml",start:66826327,end:66939310},{filename:"/lang/nl/strings_plural.xml",start:66939310,end:66942280},{filename:"/lang/pl/cutscenes.xml",start:66942280,end:67034923},{filename:"/lang/pl/graphics/flipsprites.png",start:67034923,end:67036881},{filename:"/lang/pl/graphics/sprites.png",start:67036881,end:67038849},{filename:"/lang/pl/graphics/spritesmask.xml",start:67038849,end:67039200},{filename:"/lang/pl/meta.xml",start:67039200,end:67040754},{filename:"/lang/pl/numbers.xml",start:67040754,end:67050369},{filename:"/lang/pl/roomnames.xml",start:67050369,end:67090055},{filename:"/lang/pl/roomnames_special.xml",start:67090055,end:67097815},{filename:"/lang/pl/strings.xml",start:67097815,end:67210244},{filename:"/lang/pl/strings_plural.xml",start:67210244,end:67215462},{filename:"/lang/pt_BR/cutscenes.xml",start:67215462,end:67307844},{filename:"/lang/pt_BR/graphics/flipsprites.png",start:67307844,end:67309744},{filename:"/lang/pt_BR/graphics/sprites.png",start:67309744,end:67311648},{filename:"/lang/pt_BR/graphics/spritesmask.xml",start:67311648,end:67311992},{filename:"/lang/pt_BR/meta.xml",start:67311992,end:67313585},{filename:"/lang/pt_BR/numbers.xml",start:67313585,end:67324189},{filename:"/lang/pt_BR/roomnames.xml",start:67324189,end:67363945},{filename:"/lang/pt_BR/roomnames_special.xml",start:67363945,end:67371821},{filename:"/lang/pt_BR/strings.xml",start:67371821,end:67485811},{filename:"/lang/pt_BR/strings_plural.xml",start:67485811,end:67488753},{filename:"/lang/pt_PT/cutscenes.xml",start:67488753,end:67581405},{filename:"/lang/pt_PT/graphics/flipsprites.png",start:67581405,end:67582978},{filename:"/lang/pt_PT/graphics/sprites.png",start:67582978,end:67584531},{filename:"/lang/pt_PT/graphics/spritesmask.xml",start:67584531,end:67584829},{filename:"/lang/pt_PT/meta.xml",start:67584829,end:67586391},{filename:"/lang/pt_PT/numbers.xml",start:67586391,end:67594181},{filename:"/lang/pt_PT/roomnames.xml",start:67594181,end:67633895},{filename:"/lang/pt_PT/roomnames_special.xml",start:67633895,end:67641680},{filename:"/lang/pt_PT/strings.xml",start:67641680,end:67754575},{filename:"/lang/pt_PT/strings_plural.xml",start:67754575,end:67757495},{filename:"/lang/ru/cutscenes.xml",start:67757495,end:67868712},{filename:"/lang/ru/graphics/flipsprites.png",start:67868712,end:67870257},{filename:"/lang/ru/graphics/sprites.png",start:67870257,end:67871802},{filename:"/lang/ru/graphics/spritesmask.xml",start:67871802,end:67872100},{filename:"/lang/ru/meta.xml",start:67872100,end:67873734},{filename:"/lang/ru/numbers.xml",start:67873734,end:67881524},{filename:"/lang/ru/roomnames.xml",start:67881524,end:67924385},{filename:"/lang/ru/roomnames_special.xml",start:67924385,end:67933003},{filename:"/lang/ru/strings.xml",start:67933003,end:68063695},{filename:"/lang/ru/strings_plural.xml",start:68063695,end:68067538},{filename:"/lang/szl/cutscenes.xml",start:68067538,end:68159965},{filename:"/lang/szl/graphics/flipsprites.png",start:68159965,end:68161928},{filename:"/lang/szl/graphics/sprites.png",start:68161928,end:68163884},{filename:"/lang/szl/graphics/spritesmask.xml",start:68163884,end:68164235},{filename:"/lang/szl/meta.xml",start:68164235,end:68165796},{filename:"/lang/szl/numbers.xml",start:68165796,end:68175428},{filename:"/lang/szl/roomnames.xml",start:68175428,end:68215118},{filename:"/lang/szl/roomnames_special.xml",start:68215118,end:68222940},{filename:"/lang/szl/strings.xml",start:68222940,end:68335350},{filename:"/lang/szl/strings_plural.xml",start:68335350,end:68340460},{filename:"/lang/tr/cutscenes.xml",start:68340460,end:68433255},{filename:"/lang/tr/graphics/flipsprites.png",start:68433255,end:68435317},{filename:"/lang/tr/graphics/sprites.png",start:68435317,end:68437391},{filename:"/lang/tr/graphics/spritesmask.xml",start:68437391,end:68437788},{filename:"/lang/tr/meta.xml",start:68437788,end:68439332},{filename:"/lang/tr/numbers.xml",start:68439332,end:68448074},{filename:"/lang/tr/roomnames.xml",start:68448074,end:68487794},{filename:"/lang/tr/roomnames_special.xml",start:68487794,end:68495460},{filename:"/lang/tr/strings.xml",start:68495460,end:68608551},{filename:"/lang/tr/strings_plural.xml",start:68608551,end:68611488},{filename:"/lang/uk/cutscenes.xml",start:68611488,end:68716222},{filename:"/lang/uk/graphics/flipsprites.png",start:68716222,end:68718175},{filename:"/lang/uk/graphics/sprites.png",start:68718175,end:68720125},{filename:"/lang/uk/graphics/spritesmask.xml",start:68720125,end:68720476},{filename:"/lang/uk/meta.xml",start:68720476,end:68722121},{filename:"/lang/uk/numbers.xml",start:68722121,end:68729965},{filename:"/lang/uk/roomnames.xml",start:68729965,end:68772275},{filename:"/lang/uk/roomnames_special.xml",start:68772275,end:68780761},{filename:"/lang/uk/strings.xml",start:68780761,end:68908513},{filename:"/lang/uk/strings_plural.xml",start:68908513,end:68912462},{filename:"/lang/zh/cutscenes.xml",start:68912462,end:69005406},{filename:"/lang/zh/graphics/flipsprites.png",start:69005406,end:69007714},{filename:"/lang/zh/graphics/sprites.png",start:69007714,end:69010045},{filename:"/lang/zh/graphics/spritesmask.xml",start:69010045,end:69010389},{filename:"/lang/zh/meta.xml",start:69010389,end:69011925},{filename:"/lang/zh/numbers.xml",start:69011925,end:69020504},{filename:"/lang/zh/roomnames.xml",start:69020504,end:69059629},{filename:"/lang/zh/roomnames_special.xml",start:69059629,end:69067335},{filename:"/lang/zh/strings.xml",start:69067335,end:69186970},{filename:"/lang/zh/strings_plural.xml",start:69186970,end:69189465},{filename:"/lang/zh_TW/cutscenes.xml",start:69189465,end:69282180},{filename:"/lang/zh_TW/graphics/flipsprites.png",start:69282180,end:69284488},{filename:"/lang/zh_TW/graphics/sprites.png",start:69284488,end:69286819},{filename:"/lang/zh_TW/graphics/spritesmask.xml",start:69286819,end:69287163},{filename:"/lang/zh_TW/meta.xml",start:69287163,end:69288718},{filename:"/lang/zh_TW/numbers.xml",start:69288718,end:69297297},{filename:"/lang/zh_TW/roomnames.xml",start:69297297,end:69336419},{filename:"/lang/zh_TW/roomnames_special.xml",start:69336419,end:69344137},{filename:"/lang/zh_TW/strings.xml",start:69344137,end:69463784},{filename:"/lang/zh_TW/strings_plural.xml",start:69463784,end:69466279}],remote_package_size:69466279},"object"==typeof window?window.encodeURIComponent(window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))+"/"):"undefined"==typeof process&&"undefined"!=typeof location&&encodeURIComponent(location.pathname.substring(0,location.pathname.lastIndexOf("/"))+"/"),isWasmWorker=Module.locateFile?Module.locateFile("VVVVVV.data",""):"VVVVVV.data",REMOTE_PACKAGE_SIZE=metadata.remote_package_size,fetchedCallback=null,(fetched=Module.getPreloadedPackage?Module.getPreloadedPackage(isWasmWorker,REMOTE_PACKAGE_SIZE):null)||(packageName=isWasmWorker,packageSize=REMOTE_PACKAGE_SIZE,callback=data=>{fetchedCallback?(fetchedCallback(data),fetchedCallback=null):fetched=data},errback=function(error){console.error("package error:",error)},isPthread?require("fs").readFile(packageName,(err,contents)=>{err?errback(err):callback(contents.buffer)}):(Module.dataFileDownloads??={},fetch(packageName).catch(cause=>Promise.reject(new Error("Network Error: "+packageName,{cause:cause}))).then(response=>{if(!response.ok)return Promise.reject(new Error(response.status+": "+response.url));if(!response.body&&response.arrayBuffer)return response.arrayBuffer().then(callback);let reader=response.body.getReader(),iterate=()=>reader.read().then(handleChunk).catch(cause=>Promise.reject(new Error(`Unexpected error while handling : ${response.url} `+cause,{cause:cause}))),chunks=[];var headers=response.headers;let total=Number(headers.get("Content-Length")??packageSize),loaded=0,handleChunk=({done,value})=>{if(!done){chunks.push(value),loaded+=value.length,Module.dataFileDownloads[packageName]={loaded:loaded,total:total};let totalLoaded=0,totalSize=0;for(var download of Object.values(Module.dataFileDownloads))totalLoaded+=download.loaded,totalSize+=download.total;return Module.setStatus?.(`Downloading data... (${totalLoaded}/${totalSize})`),iterate()}{var chunk,packageData=new Uint8Array(chunks.map(c=>c.length).reduce((a,b)=>a+b,0));let offset=0;for(chunk of chunks)packageData.set(chunk,offset),offset+=chunk.length;callback(packageData.buffer)}};return Module.setStatus?.("Downloading data..."),iterate()}))),Module.calledRun?runWithFS(Module):(Module.preRun??=[]).push(runWithFS))})(),(Module.$ww||"undefined"!=typeof ENVIRONMENT_IS_PTHREAD&&ENVIRONMENT_IS_PTHREAD)&&(Module.preRun=[]),Module.preRun.slice());if(!Module.preRun)throw"Module.preRun should exist because file support used it; did a pre-js delete it?";necessaryPreJSTasks.forEach(task=>{if(Module.preRun.indexOf(task)<0)throw"All preRun tasks that exist before user pre-js code should remain after; did you replace Module or modify Module.preRun?"});var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(status,toThrow)=>{throw toThrow},scriptDirectory="";function locateFile(path){return Module.locateFile?Module.locateFile(path,scriptDirectory):scriptDirectory+path}if(ENVIRONMENT_IS_NODE){if("undefined"==typeof process||!process.release||"node"!==process.release.name)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var nodeVersion=process.versions.node,numericVersion=nodeVersion.split(".").slice(0,3),minVersion=16e4;if((numericVersion=1e4*numericVersion[0]+100*numericVersion[1]+ +numericVersion[2].split("-")[0])<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+nodeVersion+")");var fs=require("fs"),nodePath=require("path"),scriptDirectory=__dirname+"/",readBinary=filename=>{filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename);filename=fs.readFileSync(filename);return assert(filename.buffer),filename},readAsync=(filename,binary=!0)=>(filename=isFileURI(filename)?new URL(filename):nodePath.normalize(filename),new Promise((resolve,reject)=>{fs.readFile(filename,binary?void 0:"utf8",(err,data)=>{err?reject(err):resolve(binary?data.buffer:data)})}));!Module.thisProgram&&1<process.argv.length&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),quit_=(status,toThrow)=>{throw process.exitCode=status,toThrow}}else if(ENVIRONMENT_IS_SHELL){if("object"==typeof process&&"function"==typeof require||"object"==typeof window||"undefined"!=typeof WorkerGlobalScope)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw new Error("environment detection error");if(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:"undefined"!=typeof document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.startsWith("blob:")?"":scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),"object"!=typeof window&&"undefined"==typeof WorkerGlobalScope)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");ENVIRONMENT_IS_WORKER&&(readBinary=url=>{var xhr=new XMLHttpRequest;return xhr.open("GET",url,!1),xhr.responseType="arraybuffer",xhr.send(null),new Uint8Array(xhr.response)}),readAsync=url=>isFileURI(url)?new Promise((resolve,reject)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="arraybuffer",xhr.onload=()=>{200==xhr.status||0==xhr.status&&xhr.response?resolve(xhr.response):reject(xhr.status)},xhr.onerror=reject,xhr.send(null)}):fetch(url,{credentials:"same-origin"}).then(response=>response.ok?response.arrayBuffer():Promise.reject(new Error(response.status+" : "+response.url)))}var wasmMemory,out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console),IDBFS=(Object.assign(Module,moduleOverrides),moduleOverrides=null,checkIncomingModuleAPI(),Module.arguments&&(arguments_=Module.arguments),legacyModuleProp("arguments","arguments_"),Module.thisProgram&&(thisProgram=Module.thisProgram),legacyModuleProp("thisProgram","thisProgram"),assert(void 0===Module.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),assert(void 0===Module.read,"Module.read option was removed"),assert(void 0===Module.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),assert(void 0===Module.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),assert(void 0===Module.setWindowTitle,"Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),assert(void 0===Module.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),legacyModuleProp("asm","wasmExports"),legacyModuleProp("readAsync","readAsync"),legacyModuleProp("readBinary","readBinary"),legacyModuleProp("setWindowTitle","setWindowTitle"),"IDBFS is no longer included by default; build with -lidbfs.js"),PROXYFS="PROXYFS is no longer included by default; build with -lproxyfs.js",WORKERFS="WORKERFS is no longer included by default; build with -lworkerfs.js",FETCHFS="FETCHFS is no longer included by default; build with -lfetchfs.js",ICASEFS="ICASEFS is no longer included by default; build with -licasefs.js",JSFILEFS="JSFILEFS is no longer included by default; build with -ljsfilefs.js",OPFS="OPFS is no longer included by default; build with -lopfs.js",NODEFS="NODEFS is no longer included by default; build with -lnodefs.js",wasmBinary=(assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable."),Module.wasmBinary);function intArrayFromBase64(s){var buf;if(void 0!==ENVIRONMENT_IS_NODE&&ENVIRONMENT_IS_NODE)return buf=Buffer.from(s,"base64"),new Uint8Array(buf.buffer,buf.byteOffset,buf.length);for(var decoded=atob(s),bytes=new Uint8Array(decoded.length),i=0;i<decoded.length;++i)bytes[i]=decoded.charCodeAt(i);return bytes}function tryParseAsDataURI(filename){if(isDataURI(filename))return intArrayFromBase64(filename.slice(dataURIPrefix.length))}legacyModuleProp("wasmBinary","wasmBinary"),"object"!=typeof WebAssembly&&err("no native wasm support detected");var EXITSTATUS,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,ABORT=!1;function assert(condition,text){condition||abort("Assertion failed"+(text?": "+text:""))}function _free(){abort("free() called but not included in the build - add `_free` to EXPORTED_FUNCTIONS")}function updateMemoryViews(){var b=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(b),Module.HEAP16=HEAP16=new Int16Array(b),Module.HEAPU8=HEAPU8=new Uint8Array(b),Module.HEAPU16=HEAPU16=new Uint16Array(b),Module.HEAP32=HEAP32=new Int32Array(b),Module.HEAPU32=HEAPU32=new Uint32Array(b),Module.HEAPF32=HEAPF32=new Float32Array(b),Module.HEAPF64=HEAPF64=new Float64Array(b)}function writeStackCookie(){var max=_emscripten_stack_get_end();assert(0==(3&max)),0==max&&(max+=4),HEAPU32[max>>2]=34821223,HEAPU32[max+4>>2]=2310721022,HEAPU32[0]=1668509029}function checkStackCookie(){var max,cookie1,cookie2;ABORT||(0==(max=_emscripten_stack_get_end())&&(max+=4),cookie1=HEAPU32[max>>2],cookie2=HEAPU32[max+4>>2],34821223==cookie1&&2310721022==cookie2||abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} `+ptrToString(cookie1)),1668509029!=HEAPU32[0]&&abort("Runtime error: The application has corrupted its heap memory area (address zero)!"))}assert(!Module.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),assert(!Module.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),assert(!Module.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){assert(!runtimeInitialized),runtimeInitialized=!0,checkStackCookie(),Module.noFSInit||FS.initialized||FS.init(),FS.ignorePermissions=!1,TTY.init(),callRuntimeCallbacks(__ATINIT__)}function preMain(){checkStackCookie(),callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(checkStackCookie(),Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPreMain(cb){__ATMAIN__.unshift(cb)}function addOnExit(cb){}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null,runDependencyTracking={};function getUniqueRunDependency(id){for(var orig=id;;){if(!runDependencyTracking[id])return id;id=orig+Math.random()}}function addRunDependency(id){runDependencies++,Module.monitorRunDependencies?.(runDependencies),id?(assert(!runDependencyTracking[id]),runDependencyTracking[id]=1,null===runDependencyWatcher&&"undefined"!=typeof setInterval&&(runDependencyWatcher=setInterval(()=>{if(ABORT)clearInterval(runDependencyWatcher),runDependencyWatcher=null;else{var dep,shown=!1;for(dep in runDependencyTracking)shown||(shown=!0,err("still waiting on run dependencies:")),err("dependency: "+dep);shown&&err("(end of list)")}},1e4))):err("warning: run dependency added without ID")}function removeRunDependency(id){runDependencies--,Module.monitorRunDependencies?.(runDependencies),id?(assert(runDependencyTracking[id]),delete runDependencyTracking[id]):err("warning: run dependency removed without ID"),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)&&(id=dependenciesFulfilled,dependenciesFulfilled=null,id())}function abort(what){throw Module.onAbort?.(what),err(what="Aborted("+what+")"),ABORT=!0,new WebAssembly.RuntimeError(what)}var wasmBinaryFile,tempDouble,tempI64,dataURIPrefix="data:application/octet-stream;base64,",isDataURI=filename=>filename.startsWith(dataURIPrefix),isFileURI=filename=>filename.startsWith("file://");function createExportWrapper(name,nargs){return(...args)=>{assert(runtimeInitialized,`native function \`${name}\` called before runtime initialization`);var f=wasmExports[name];return assert(f,`exported native function \`${name}\` not found`),assert(args.length<=nargs,`native function \`${name}\` called with ${args.length} args but expects `+nargs),f(...args)}}function findWasmBinary(){var f="VVVVVV.wasm";return isDataURI(f)?f:locateFile(f)}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(file);throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(binaryFile){return wasmBinary?Promise.resolve().then(()=>getBinarySync(binaryFile)):readAsync(binaryFile).then(response=>new Uint8Array(response),()=>getBinarySync(binaryFile))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(binary=>WebAssembly.instantiate(binary,imports)).then(receiver,reason=>{err("failed to asynchronously prepare wasm: "+reason),isFileURI(wasmBinaryFile)&&err(`warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),abort(reason)})}function instantiateAsync(binary,binaryFile,imports,callback){return binary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(binaryFile)||isFileURI(binaryFile)||ENVIRONMENT_IS_NODE||"function"!=typeof fetch?instantiateArrayBuffer(binaryFile,imports,callback):fetch(binaryFile,{credentials:"same-origin"}).then(response=>WebAssembly.instantiateStreaming(response,imports).then(callback,function(reason){return err("wasm streaming compile failed: "+reason),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(binaryFile,imports,callback)}))}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports}}function createWasm(){function receiveInstance(instance,module){return wasmExports=instance.exports,assert(wasmMemory=wasmExports.memory,"memory not found in wasm exports"),updateMemoryViews(),assert(wasmTable=wasmExports.__indirect_function_table,"table not found in wasm exports"),addOnInit(wasmExports.__wasm_call_ctors),removeRunDependency("wasm-instantiate"),wasmExports}addRunDependency("wasm-instantiate");var trueModule=Module;var info=getWasmImports();if(Module.instantiateWasm)try{return Module.instantiateWasm(info,receiveInstance)}catch(e){return err("Module.instantiateWasm callback failed with error: "+e),!1}return wasmBinaryFile??=findWasmBinary(),instantiateAsync(wasmBinary,wasmBinaryFile,info,function(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),trueModule=null,receiveInstance(result.instance)}),{}}if((()=>{var h16=new Int16Array(1),h8=new Int8Array(h16.buffer);if(h16[0]=25459,115!==h8[0]||99!==h8[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),Module.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function legacyModuleProp(prop,newName,incoming=!0){Object.getOwnPropertyDescriptor(Module,prop)||Object.defineProperty(Module,prop,{configurable:!0,get(){abort(`\`Module.${prop}\` has been replaced by \`${newName}\``+(incoming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":""))}})}function ignoredModuleProp(prop){Object.getOwnPropertyDescriptor(Module,prop)&&abort(`\`Module.${prop}\` was supplied but \`${prop}\` not included in INCOMING_MODULE_JS_API`)}function isExportedByForceFilesystem(name){return"FS_createPath"===name||"FS_createDataFile"===name||"FS_createPreloadedFile"===name||"FS_unlink"===name||"addRunDependency"===name||"FS_createLazyFile"===name||"FS_createDevice"===name||"removeRunDependency"===name}function hookGlobalSymbolAccess(sym,func){"undefined"==typeof globalThis||Object.getOwnPropertyDescriptor(globalThis,sym)||Object.defineProperty(globalThis,sym,{configurable:!0,get(){func()}})}function missingGlobal(sym,msg){hookGlobalSymbolAccess(sym,()=>{warnOnce(`\`${sym}\` is not longer defined by emscripten. `+msg)})}function missingLibrarySymbol(sym){hookGlobalSymbolAccess(sym,()=>{var msg=`\`${sym}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,librarySymbol=sym;msg+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${librarySymbol=sym.startsWith("_")?librarySymbol:"$"+sym}')`,isExportedByForceFilesystem(sym)&&(msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),warnOnce(msg)}),unexportedRuntimeSymbol(sym)}function unexportedRuntimeSymbol(sym){Object.getOwnPropertyDescriptor(Module,sym)||Object.defineProperty(Module,sym,{configurable:!0,get(){var msg=`'${sym}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;isExportedByForceFilesystem(sym)&&(msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),abort(msg)}})}function dbg(...args){console.warn(...args)}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),missingGlobal("asm","Please use wasmExports instead");var ASM_CONSTS={1470840:()=>{FS.syncfs(!1,function(err){err&&(console.warn("Error saving:",err),alert("Error saving. Check console for more information."))})},1470985:$0=>{$0=UTF8ToString($0)+"\n\nAbort/Retry/Ignore/AlwaysIgnore? [ariA] :",$0=window.prompt($0,"i");return null===$0&&($0="i"),allocate(intArrayFromString($0),"i8",ALLOC_NORMAL)},1471210:()=>"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext,1471357:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||void 0!==navigator.webkitGetUserMedia,1471591:$0=>{void 0===Module.SDL2&&(Module.SDL2={});var SDL2=Module.SDL2;return $0?SDL2.capture={}:SDL2.audio={},SDL2.audioContext||("undefined"!=typeof AudioContext?SDL2.audioContext=new AudioContext:"undefined"!=typeof webkitAudioContext&&(SDL2.audioContext=new webkitAudioContext),SDL2.audioContext&&void 0===navigator.userActivation&&autoResumeAudioContext(SDL2.audioContext)),void 0===SDL2.audioContext?-1:0},1472143:()=>Module.SDL2.audioContext.sampleRate,1472211:($0,$1,$2,$3)=>{function have_microphone(stream){void 0!==SDL2.capture.silenceTimer&&(clearInterval(SDL2.capture.silenceTimer),SDL2.capture.silenceTimer=void 0,SDL2.capture.silenceBuffer=void 0),SDL2.capture.mediaStreamNode=SDL2.audioContext.createMediaStreamSource(stream),SDL2.capture.scriptProcessorNode=SDL2.audioContext.createScriptProcessor($1,$0,1),SDL2.capture.scriptProcessorNode.onaudioprocess=function(audioProcessingEvent){void 0!==SDL2&&void 0!==SDL2.capture&&(audioProcessingEvent.outputBuffer.getChannelData(0).fill(0),SDL2.capture.currentCaptureBuffer=audioProcessingEvent.inputBuffer,dynCall("vi",$2,[$3]))},SDL2.capture.mediaStreamNode.connect(SDL2.capture.scriptProcessorNode),SDL2.capture.scriptProcessorNode.connect(SDL2.audioContext.destination),SDL2.capture.stream=stream}function no_microphone(error){}var SDL2=Module.SDL2;SDL2.capture.silenceBuffer=SDL2.audioContext.createBuffer($0,$1,SDL2.audioContext.sampleRate),SDL2.capture.silenceBuffer.getChannelData(0).fill(0);SDL2.capture.silenceTimer=setInterval(function(){SDL2.capture.currentCaptureBuffer=SDL2.capture.silenceBuffer,dynCall("vi",$2,[$3])},$1/SDL2.audioContext.sampleRate*1e3),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(have_microphone).catch(no_microphone):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},have_microphone,no_microphone)},1473904:($0,$1,$2,$3)=>{var SDL2=Module.SDL2;SDL2.audio.scriptProcessorNode=SDL2.audioContext.createScriptProcessor($1,0,$0),SDL2.audio.scriptProcessorNode.onaudioprocess=function(e){void 0!==SDL2&&void 0!==SDL2.audio&&(void 0!==SDL2.audio.silenceTimer&&(clearInterval(SDL2.audio.silenceTimer),SDL2.audio.silenceTimer=void 0,SDL2.audio.silenceBuffer=void 0),SDL2.audio.currentOutputBuffer=e.outputBuffer,dynCall("vi",$2,[$3]))},SDL2.audio.scriptProcessorNode.connect(SDL2.audioContext.destination),"suspended"===SDL2.audioContext.state&&(SDL2.audio.silenceBuffer=SDL2.audioContext.createBuffer($0,$1,SDL2.audioContext.sampleRate),SDL2.audio.silenceBuffer.getChannelData(0).fill(0),SDL2.audio.silenceTimer=setInterval(function(){void 0!==navigator.userActivation&&navigator.userActivation.hasBeenActive&&SDL2.audioContext.resume(),SDL2.audio.currentOutputBuffer=SDL2.audio.silenceBuffer,dynCall("vi",$2,[$3]),SDL2.audio.currentOutputBuffer=void 0},$1/SDL2.audioContext.sampleRate*1e3))},1475079:($0,$1)=>{for(var SDL2=Module.SDL2,numChannels=SDL2.capture.currentCaptureBuffer.numberOfChannels,c=0;c<numChannels;++c){var channelData=SDL2.capture.currentCaptureBuffer.getChannelData(c);if(channelData.length!=$1)throw"Web Audio capture buffer length mismatch! Destination size: "+channelData.length+" samples vs expected "+$1+" samples!";if(1==numChannels)for(var j=0;j<$1;++j)setValue($0+4*j,channelData[j],"float");else for(j=0;j<$1;++j)setValue($0+4*(j*numChannels+c),channelData[j],"float")}},1475684:($0,$1)=>{for(var SDL2=Module.SDL2,buf=$0>>>2,numChannels=SDL2.audio.currentOutputBuffer.numberOfChannels,c=0;c<numChannels;++c){var channelData=SDL2.audio.currentOutputBuffer.getChannelData(c);if(channelData.length!=$1)throw"Web Audio output buffer length mismatch! Destination size: "+channelData.length+" samples vs expected "+$1+" samples!";for(var j=0;j<$1;++j)channelData[j]=HEAPF32[buf+(j*numChannels+c)]}},1476173:$0=>{var SDL2=Module.SDL2;if($0){if(void 0!==SDL2.capture.silenceTimer&&clearInterval(SDL2.capture.silenceTimer),void 0!==SDL2.capture.stream)for(var tracks=SDL2.capture.stream.getAudioTracks(),i=0;i<tracks.length;i++)SDL2.capture.stream.removeTrack(tracks[i]);void 0!==SDL2.capture.scriptProcessorNode&&(SDL2.capture.scriptProcessorNode.onaudioprocess=function(audioProcessingEvent){},SDL2.capture.scriptProcessorNode.disconnect()),void 0!==SDL2.capture.mediaStreamNode&&SDL2.capture.mediaStreamNode.disconnect(),SDL2.capture=void 0}else null!=SDL2.audio.scriptProcessorNode&&SDL2.audio.scriptProcessorNode.disconnect(),void 0!==SDL2.audio.silenceTimer&&clearInterval(SDL2.audio.silenceTimer),SDL2.audio=void 0;void 0!==SDL2.audioContext&&void 0===SDL2.audio&&void 0===SDL2.capture&&(SDL2.audioContext.close(),SDL2.audioContext=void 0)},1477179:($0,$1,$2)=>{Module.SDL2||(Module.SDL2={});var SDL2=Module.SDL2,data=(SDL2.ctxCanvas!==Module.canvas&&(SDL2.ctx=Module.createContext(Module.canvas,!1,!0),SDL2.ctxCanvas=Module.canvas),SDL2.w===$0&&SDL2.h===$1&&SDL2.imageCtx===SDL2.ctx||(SDL2.image=SDL2.ctx.createImageData($0,$1),SDL2.w=$0,SDL2.h=$1,SDL2.imageCtx=SDL2.ctx),SDL2.image.data),src=$2/4,dst=0;if("undefined"!=typeof CanvasPixelArray&&data instanceof CanvasPixelArray)for(num=data.length;dst<num;){var val=HEAP32[src];data[dst]=255&val,data[dst+1]=val>>8&255,data[dst+2]=val>>16&255,data[dst+3]=255,src++,dst+=4}else{SDL2.data32Data!==data&&(SDL2.data32=new Int32Array(data.buffer),SDL2.data8=new Uint8Array(data.buffer),SDL2.data32Data=data);var $0=SDL2.data32,num=$0.length,data8=($0.set(HEAP32.subarray(src,src+num)),SDL2.data8),i=3,j=i+4*num;if(num%8==0)for(;i<j;)data8[i]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,data8[i=i+4|0]=255,i=i+4|0;else for(;i<j;)data8[i]=255,i=i+4|0}SDL2.ctx.putImageData(SDL2.image,0,0)},1478647:($0,$1,$2,$3,$4)=>{var canvas=document.createElement("canvas"),ctx=(canvas.width=$0,canvas.height=$1,canvas.getContext("2d")),$0=ctx.createImageData($0,$1),data=$0.data,src=$4/4,dst=0;if("undefined"!=typeof CanvasPixelArray&&data instanceof CanvasPixelArray)for(num=data.length;dst<num;){var val=HEAP32[src];data[dst]=255&val,data[dst+1]=val>>8&255,data[dst+2]=val>>16&255,data[dst+3]=val>>24&255,src++,dst+=4}else{var $1=new Int32Array(data.buffer),num=$1.length;$1.set(HEAP32.subarray(src,src+num))}ctx.putImageData($0,0,0);$4=0===$2&&0===$3?"url("+canvas.toDataURL()+"), auto":"url("+canvas.toDataURL()+") "+$2+" "+$3+", auto",$1=_malloc($4.length+1);return stringToUTF8($4,$1,$4.length+1),$1},1479635:$0=>{Module.canvas&&(Module.canvas.style.cursor=UTF8ToString($0))},1479718:()=>{Module.canvas&&(Module.canvas.style.cursor="none")},1479787:()=>window.innerWidth,1479817:()=>window.innerHeight,1479848:($0,$1)=>{alert(UTF8ToString($0)+"\n\n"+UTF8ToString($1))}};class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`,this.status=status}}var callRuntimeCallbacks=callbacks=>{for(;0<callbacks.length;)callbacks.shift()(Module)};function getValue(ptr,type="i8"){switch(type=type.endsWith("*")?"*":type){case"i1":case"i8":return HEAP8[ptr];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type)}}var noExitRuntime=Module.noExitRuntime||!0,ptrToString=ptr=>(assert("number"==typeof ptr),"0x"+(ptr>>>=0).toString(16).padStart(8,"0"));function setValue(ptr,value,type="i8"){switch(type=type.endsWith("*")?"*":type){case"i1":case"i8":HEAP8[ptr]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;case"*":HEAPU32[ptr>>2]=value;break;default:abort("invalid type for setValue: "+type)}}var stackRestore=val=>__emscripten_stack_restore(val),stackSave=()=>_emscripten_stack_get_current(),warnOnce=text=>{warnOnce.shown||={},warnOnce.shown[text]||(warnOnce.shown[text]=1,err(text=ENVIRONMENT_IS_NODE?"warning: "+text:text))},UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder:void 0,UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead=NaN)=>{for(var endIdx=idx+maxBytesToRead,endPtr=idx;heapOrArray[endPtr]&&!(endIdx<=endPtr);)++endPtr;if(16<endPtr-idx&&heapOrArray.buffer&&UTF8Decoder)return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));for(var str="";idx<endPtr;){var u2,u1,u0=heapOrArray[idx++];128&u0?(u1=63&heapOrArray[idx++],192==(224&u0)?str+=String.fromCharCode((31&u0)<<6|u1):(u2=63&heapOrArray[idx++],(u0=224==(240&u0)?(15&u0)<<12|u1<<6|u2:(240!=(248&u0)&&warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),(7&u0)<<18|u1<<12|u2<<6|63&heapOrArray[idx++]))<65536?str+=String.fromCharCode(u0):(u1=u0-65536,str+=String.fromCharCode(55296|u1>>10,56320|1023&u1)))):str+=String.fromCharCode(u0)}return str},UTF8ToString=(ptr,maxBytesToRead)=>(assert("number"==typeof ptr,`UTF8ToString expects a number (got ${typeof ptr})`),ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""),___assert_fail=(condition,filename,line,func)=>{abort(`Assertion failed: ${UTF8ToString(condition)}, at: `+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"])},PATH={isAbs:path=>"/"===path.charAt(0),splitPath:filename=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(filename).slice(1),normalizeArray:(parts,allowAboveRoot)=>{for(var up=0,i=parts.length-1;0<=i;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up;up--)parts.unshift("..");return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash="/"===path.substr(-1);return(path=(path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/"))||isAbsolute?path:".")&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},dirname:path=>{var path=PATH.splitPath(path),root=path[0],path=path[1];return root||path?root+(path=path&&path.substr(0,path.length-1)):"."},basename:path=>{var lastSlash;return"/"===path?"/":-1===(lastSlash=(path=(path=PATH.normalize(path)).replace(/\/$/,"")).lastIndexOf("/"))?path:path.substr(lastSlash+1)},join:(...paths)=>PATH.normalize(paths.join("/")),join2:(l,r)=>PATH.normalize(l+"/"+r)},initRandomFill=()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return view=>crypto.getRandomValues(view);if(ENVIRONMENT_IS_NODE)try{var randomBytes,crypto_module=require("crypto");return crypto_module.randomFillSync?view=>crypto_module.randomFillSync(view):(randomBytes=crypto_module.randomBytes,view=>(view.set(randomBytes(view.byteLength)),view))}catch(e){}abort("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")},randomFill=view=>(randomFill=initRandomFill())(view),PATH_FS={resolve:(...args)=>{for(var resolvedPath="",resolvedAbsolute=!1,i=args.length-1;-1<=i&&!resolvedAbsolute;i--){var path=0<=i?args[i]:FS.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");if(!path)return"";resolvedPath=path+"/"+resolvedPath,resolvedAbsolute=PATH.isAbs(path)}return(resolvedAbsolute?"/":"")+(resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/"))||"."},relative:(from,to)=>{function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;0<=end&&""===arr[end];end--);return end<start?[]:arr.slice(start,end-start+1)}from=PATH_FS.resolve(from).substr(1),to=PATH_FS.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")}},FS_stdin_getChar_buffer=[],lengthBytesUTF8=str=>{for(var len=0,i=0;i<str.length;++i){var c=str.charCodeAt(i);c<=127?len++:c<=2047?len+=2:55296<=c&&c<=57343?(len+=4,++i):len+=3}return len},stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(assert("string"==typeof str,`stringToUTF8Array expects a string (got ${typeof str})`),!(0<maxBytesToWrite))return 0;for(var startIdx=outIdx,endIdx=outIdx+maxBytesToWrite-1,i=0;i<str.length;++i){var u=str.charCodeAt(i);if((u=55296<=u&&u<=57343?65536+((1023&u)<<10)|1023&str.charCodeAt(++i):u)<=127){if(endIdx<=outIdx)break;heap[outIdx++]=u}else{if(u<=2047){if(endIdx<=outIdx+1)break;heap[outIdx++]=192|u>>6}else{if(u<=65535){if(endIdx<=outIdx+2)break;heap[outIdx++]=224|u>>12}else{if(endIdx<=outIdx+3)break;1114111<u&&warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),heap[outIdx++]=240|u>>18,heap[outIdx++]=128|u>>12&63}heap[outIdx++]=128|u>>6&63}heap[outIdx++]=128|63&u}}return heap[outIdx]=0,outIdx-startIdx};function intArrayFromString(stringy,dontAddNull,length){length=0<length?length:lengthBytesUTF8(stringy)+1,length=new Array(length),stringy=stringToUTF8Array(stringy,length,0,length.length);return dontAddNull&&(length.length=stringy),length}var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var buf=Buffer.alloc(256),bytesRead=0,fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf,0,256)}catch(e){if(!e.toString().includes("EOF"))throw e;bytesRead=0}0<bytesRead&&(result=buf.slice(0,bytesRead).toString("utf-8"))}else"undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(result=window.prompt("Input: "))&&(result+="\n");if(!result)return null;FS_stdin_getChar_buffer=intArrayFromString(result,!0)}return FS_stdin_getChar_buffer.shift()},TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops},FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty)throw new FS.ErrnoError(43);stream.tty=tty,stream.seekable=!1},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char)throw new FS.ErrnoError(60);for(var result,bytesRead=0,i=0;i<length;i++){try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(void 0===result&&0===bytesRead)throw new FS.ErrnoError(6);if(null==result)break;bytesRead++,buffer[offset+i]=result}return bytesRead&&(stream.node.timestamp=Date.now()),bytesRead},write(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char)throw new FS.ErrnoError(60);try{for(var i=0;i<length;i++)stream.tty.ops.put_char(stream.tty,buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}return length&&(stream.node.timestamp=Date.now()),i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){null===val||10===val?(out(UTF8ArrayToString(tty.output)),tty.output=[]):0!=val&&tty.output.push(val)},fsync(tty){tty.output&&0<tty.output.length&&(out(UTF8ArrayToString(tty.output)),tty.output=[])},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){null===val||10===val?(err(UTF8ArrayToString(tty.output)),tty.output=[]):0!=val&&tty.output.push(val)},fsync(tty){tty.output&&0<tty.output.length&&(err(UTF8ArrayToString(tty.output)),tty.output=[])}}},zeroMemory=(address,size)=>{HEAPU8.fill(0,address,address+size)},alignMemory=(size,alignment)=>(assert(alignment,"alignment argument is required"),Math.ceil(size/alignment)*alignment),mmapAlloc=size=>{abort("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16895,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode))throw new FS.ErrnoError(63);MEMFS.ops_table||={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}};mode=FS.createNode(parent,name,mode,dev);return FS.isDir(mode.mode)?(mode.node_ops=MEMFS.ops_table.dir.node,mode.stream_ops=MEMFS.ops_table.dir.stream,mode.contents={}):FS.isFile(mode.mode)?(mode.node_ops=MEMFS.ops_table.file.node,mode.stream_ops=MEMFS.ops_table.file.stream,mode.usedBytes=0,mode.contents=null):FS.isLink(mode.mode)?(mode.node_ops=MEMFS.ops_table.link.node,mode.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(mode.mode)&&(mode.node_ops=MEMFS.ops_table.chrdev.node,mode.stream_ops=MEMFS.ops_table.chrdev.stream),mode.timestamp=Date.now(),parent&&(parent.contents[name]=mode,parent.timestamp=mode.timestamp),mode},getFileDataAsTypedArray(node){return node.contents?node.contents.subarray?node.contents.subarray(0,node.usedBytes):new Uint8Array(node.contents):new Uint8Array(0)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;newCapacity<=prevCapacity||(newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<1048576?2:1.125)>>>0),0!=prevCapacity&&(newCapacity=Math.max(newCapacity,256)),prevCapacity=node.contents,node.contents=new Uint8Array(newCapacity),0<node.usedBytes&&node.contents.set(prevCapacity.subarray(0,node.usedBytes),0))},resizeFileStorage(node,newSize){var oldContents;node.usedBytes!=newSize&&(0==newSize?(node.contents=null,node.usedBytes=0):(oldContents=node.contents,node.contents=new Uint8Array(newSize),oldContents&&node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes))),node.usedBytes=newSize))},node_ops:{getattr(node){var attr={};return attr.dev=FS.isChrdev(node.mode)?node.id:1,attr.ino=node.id,attr.mode=node.mode,attr.nlink=1,attr.uid=0,attr.gid=0,attr.rdev=node.rdev,FS.isDir(node.mode)?attr.size=4096:FS.isFile(node.mode)?attr.size=node.usedBytes:FS.isLink(node.mode)?attr.size=node.link.length:attr.size=0,attr.atime=new Date(node.timestamp),attr.mtime=new Date(node.timestamp),attr.ctime=new Date(node.timestamp),attr.blksize=4096,attr.blocks=Math.ceil(attr.size/attr.blksize),attr},setattr(node,attr){void 0!==attr.mode&&(node.mode=attr.mode),void 0!==attr.timestamp&&(node.timestamp=attr.timestamp),void 0!==attr.size&&MEMFS.resizeFileStorage(node,attr.size)},lookup(parent,name){throw new FS.ErrnoError(44)},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node)for(var i in new_node.contents)throw new FS.ErrnoError(55)}delete old_node.parent.contents[old_node.name],old_node.parent.timestamp=Date.now(),old_node.name=new_name,new_dir.contents[new_name]=old_node,new_dir.timestamp=old_node.parent.timestamp},unlink(parent,name){delete parent.contents[name],parent.timestamp=Date.now()},rmdir(parent,name){for(var i in FS.lookupNode(parent,name).contents)throw new FS.ErrnoError(55);delete parent.contents[name],parent.timestamp=Date.now()},readdir(node){var key,entries=[".",".."];for(key of Object.keys(node.contents))entries.push(key);return entries},symlink(parent,newname,oldpath){parent=MEMFS.createNode(parent,newname,41471,0);return parent.link=oldpath,parent},readlink(node){if(FS.isLink(node.mode))return node.link;throw new FS.ErrnoError(28)}},stream_ops:{read(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(assert(0<=size),8<size&&contents.subarray)buffer.set(contents.subarray(position,position+size),offset);else for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i];return size},write(stream,buffer,offset,length,position,canOwn){if(assert(!(buffer instanceof ArrayBuffer)),!length)return 0;var node=stream.node;if(node.timestamp=Date.now(),buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn)return assert(0===position,"canOwn must imply no weird position inside the file"),node.contents=buffer.subarray(offset,offset+length),node.usedBytes=length;if(0===node.usedBytes&&0===position)return node.contents=buffer.slice(offset,offset+length),node.usedBytes=length;if(position+length<=node.usedBytes)return node.contents.set(buffer.subarray(offset,offset+length),position),length}if(MEMFS.expandFileStorage(node,position+length),node.contents.subarray&&buffer.subarray)node.contents.set(buffer.subarray(offset,offset+length),position);else for(var i=0;i<length;i++)node.contents[position+i]=buffer[offset+i];return node.usedBytes=Math.max(node.usedBytes,position+length),length},llseek(stream,offset,whence){if(1===whence?offset+=stream.position:2===whence&&FS.isFile(stream.node.mode)&&(offset+=stream.node.usedBytes),offset<0)throw new FS.ErrnoError(28);return offset},allocate(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length),stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap(stream,length,position,prot,flags){if(!FS.isFile(stream.node.mode))throw new FS.ErrnoError(43);var ptr,allocated,stream=stream.node.contents;if(2&flags||!stream||stream.buffer!==HEAP8.buffer){if(allocated=!0,!(ptr=mmapAlloc(length)))throw new FS.ErrnoError(48);stream&&((0<position||position+length<stream.length)&&(stream=stream.subarray?stream.subarray(position,position+length):Array.prototype.slice.call(stream,position,position+length)),HEAP8.set(stream,ptr))}else allocated=!1,ptr=stream.byteOffset;return{ptr:ptr,allocated:allocated}},msync(stream,buffer,offset,length,mmapFlags){return MEMFS.stream_ops.write(stream,buffer,0,length,offset,!1),0}}},asyncLoad=(url,onload,onerror,noRunDep)=>{var dep=noRunDep?"":getUniqueRunDependency("al "+url);readAsync(url).then(arrayBuffer=>{assert(arrayBuffer,`Loading data file "${url}" failed (no arrayBuffer).`),onload(new Uint8Array(arrayBuffer)),dep&&removeRunDependency(dep)},err=>{if(!onerror)throw`Loading data file "${url}" failed.`;onerror()}),dep&&addRunDependency(dep)},FS_createDataFile=(parent,name,fileData,canRead,canWrite,canOwn)=>{FS.createDataFile(parent,name,fileData,canRead,canWrite,canOwn)},preloadPlugins=Module.preloadPlugins||[],FS_handledByPreloadPlugin=(byteArray,fullname,finish,onerror)=>{void 0!==Browser&&Browser.init();var handled=!1;return preloadPlugins.forEach(plugin=>{handled||plugin.canHandle(fullname)&&(plugin.handle(byteArray,fullname,finish,onerror),handled=!0)}),handled},FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent,dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){preFinish?.(),dontCreateFile||FS_createDataFile(parent,name,byteArray,canRead,canWrite,canOwn),onload?.(),removeRunDependency(dep)}FS_handledByPreloadPlugin(byteArray,fullname,finish,()=>{onerror?.(),removeRunDependency(dep)})||finish(byteArray)}addRunDependency(dep),"string"==typeof url?asyncLoad(url,processData,onerror):processData(url)},FS_modeStringToFlags=str=>{var flags={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[str];if(void 0===flags)throw new Error("Unknown file open mode: "+str);return flags},FS_getMode=(canRead,canWrite)=>{var mode=0;return canRead&&(mode|=365),canWrite&&(mode|=146),mode},strError=errno=>UTF8ToString(_strerror(errno)),ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class extends Error{name="ErrnoError";constructor(errno){for(var key in super(runtimeInitialized?strError(errno):""),this.errno=errno,ERRNO_CODES)if(ERRNO_CODES[key]===errno){this.code=key;break}}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{shared={};get object(){return this.node}set object(val){this.node=val}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return 0!=(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(val){this.shared.flags=val}get position(){return this.shared.position}set position(val){this.shared.position=val}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(parent,name,mode,rdev){this.parent=parent=parent||this,this.mount=parent.mount,this.id=FS.nextInode++,this.name=name,this.mode=mode,this.rdev=rdev}get read(){return(this.mode&this.readMode)===this.readMode}set read(val){val?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(val){val?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(path,opts={}){if(!(path=PATH_FS.resolve(path)))return{path:"",node:null};if(8<(opts=Object.assign({follow_mount:!0,recurse_count:0},opts)).recurse_count)throw new FS.ErrnoError(32);for(var parts=path.split("/").filter(p=>!!p),current=FS.root,current_path="/",i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent)break;if(current=FS.lookupNode(current,parts[i]),current_path=PATH.join2(current_path,parts[i]),!FS.isMountpoint(current)||islast&&!opts.follow_mount||(current=current.mounted.root),!islast||opts.follow)for(var count=0;FS.isLink(current.mode);){var link=FS.readlink(current_path),current_path=PATH_FS.resolve(PATH.dirname(current_path),link),current=FS.lookupPath(current_path,{recurse_count:opts.recurse_count+1}).node;if(40<count++)throw new FS.ErrnoError(32)}}return{path:current_path,node:current}},getPath(node){for(var path,mount;;){if(FS.isRoot(node))return mount=node.mount.mountpoint,path?"/"!==mount[mount.length-1]?mount+"/"+path:mount+path:mount;path=path?node.name+"/"+path:node.name,node=node.parent}},hashName(parentid,name){for(var hash=0,i=0;i<name.length;i++)hash=(hash<<5)-hash+name.charCodeAt(i)|0;return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash],FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node)FS.nameTable[hash]=node.name_next;else for(var current=FS.nameTable[hash];current;){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode)throw new FS.ErrnoError(errCode);for(var errCode=FS.hashName(parent.id,name),node=FS.nameTable[errCode];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name)return node}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){assert("object"==typeof parent);parent=new FS.FSNode(parent,name,mode,rdev);return FS.hashAddNode(parent),parent},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return 32768==(61440&mode)},isDir(mode){return 16384==(61440&mode)},isLink(mode){return 40960==(61440&mode)},isChrdev(mode){return 8192==(61440&mode)},isBlkdev(mode){return 24576==(61440&mode)},isFIFO(mode){return 4096==(61440&mode)},isSocket(mode){return 49152==(49152&mode)},flagsToPermissionString(flag){var perms=["r","w","rw"][3&flag];return 512&flag&&(perms+="w"),perms},nodePermissions(node,perms){return FS.ignorePermissions||(!perms.includes("r")||292&node.mode)&&(!perms.includes("w")||146&node.mode)&&(!perms.includes("x")||73&node.mode)?0:2},mayLookup(dir){return FS.isDir(dir.mode)?FS.nodePermissions(dir,"x")||(dir.node_ops.lookup?0:2):54},mayCreate(dir,name){try{FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}name=FS.nodePermissions(dir,"wx");if(name)return name;if(isdir){if(!FS.isDir(node.mode))return 54;if(FS.isRoot(node)||FS.getPath(node)===FS.cwd())return 10}else if(FS.isDir(node.mode))return 31;return 0},mayOpen(node,flags){return node?FS.isLink(node.mode)?32:FS.isDir(node.mode)&&("r"!==FS.flagsToPermissionString(flags)||512&flags)?31:FS.nodePermissions(node,FS.flagsToPermissionString(flags)):44},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++)if(!FS.streams[fd])return fd;throw new FS.ErrnoError(33)},getStreamChecked(fd){fd=FS.getStream(fd);if(fd)return fd;throw new FS.ErrnoError(8)},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){return assert(-1<=fd),stream=Object.assign(new FS.FSStream,stream),-1==fd&&(fd=FS.nextfd()),stream.fd=fd,FS.streams[fd]=stream},closeStream(fd){FS.streams[fd]=null},dupStream(origStream,fd=-1){origStream=FS.createStream(origStream,fd);return origStream.stream_ops?.dup?.(origStream),origStream},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops,stream.stream_ops.open?.(stream)},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>255&dev,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){for(var mounts=[],check=[mount];check.length;){var m=check.pop();mounts.push(m),check.push(...m.mounts)}return mounts},syncfs(populate,callback){"function"==typeof populate&&(callback=populate,populate=!1),FS.syncFSRequests++,1<FS.syncFSRequests&&err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var mounts=FS.getMounts(FS.root.mount),completed=0;function doCallback(errCode){return assert(0<FS.syncFSRequests),FS.syncFSRequests--,callback(errCode)}function done(errCode){if(errCode)return done.errored?void 0:(done.errored=!0,doCallback(errCode));++completed>=mounts.length&&doCallback(null)}mounts.forEach(mount=>{if(!mount.type.syncfs)return done(null);mount.type.syncfs(mount,populate,done)})},mount(type,opts,mountpoint){if("string"==typeof type)throw type;var node,root="/"===mountpoint,pseudo=!mountpoint;if(root&&FS.root)throw new FS.ErrnoError(10);if(!root&&!pseudo){pseudo=FS.lookupPath(mountpoint,{follow_mount:!1});if(mountpoint=pseudo.path,FS.isMountpoint(node=pseudo.node))throw new FS.ErrnoError(10);if(!FS.isDir(node.mode))throw new FS.ErrnoError(54)}pseudo={type:type,opts:opts,mountpoint:mountpoint,mounts:[]},opts=type.mount(pseudo);return(opts.mount=pseudo).root=opts,root?FS.root=opts:node&&(node.mounted=pseudo,node.mount)&&node.mount.mounts.push(pseudo),opts},unmount(mountpoint){mountpoint=FS.lookupPath(mountpoint,{follow_mount:!1});if(!FS.isMountpoint(mountpoint.node))throw new FS.ErrnoError(28);var mountpoint=mountpoint.node,mount=mountpoint.mounted,mounts=FS.getMounts(mount),mount=(Object.keys(FS.nameTable).forEach(hash=>{for(var current=FS.nameTable[hash];current;){var next=current.name_next;mounts.includes(current.mount)&&FS.destroyNode(current),current=next}}),mountpoint.mounted=null,mountpoint.mount.mounts.indexOf(mount));assert(-1!==mount),mountpoint.mount.mounts.splice(mount,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var parent=FS.lookupPath(path,{parent:!0}).node,path=PATH.basename(path);if(!path||"."===path||".."===path)throw new FS.ErrnoError(28);var errCode=FS.mayCreate(parent,path);if(errCode)throw new FS.ErrnoError(errCode);if(parent.node_ops.mknod)return parent.node_ops.mknod(parent,path,mode,dev);throw new FS.ErrnoError(63)},create(path,mode){return FS.mknod(path,mode=(mode=void 0!==mode?mode:438)&4095|32768,0)},mkdir(path,mode){return FS.mknod(path,mode=(mode=void 0!==mode?mode:511)&1023|16384,0)},mkdirTree(path,mode){for(var dirs=path.split("/"),d="",i=0;i<dirs.length;++i)if(dirs[i]){d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(20!=e.errno)throw e}}},mkdev(path,mode,dev){return void 0===dev&&(dev=mode,mode=438),FS.mknod(path,mode|=8192,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath))throw new FS.ErrnoError(44);var parent=FS.lookupPath(newpath,{parent:!0}).node;if(!parent)throw new FS.ErrnoError(44);var newpath=PATH.basename(newpath),errCode=FS.mayCreate(parent,newpath);if(errCode)throw new FS.ErrnoError(errCode);if(parent.node_ops.symlink)return parent.node_ops.symlink(parent,newpath,oldpath);throw new FS.ErrnoError(63)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path),new_dirname=PATH.dirname(new_path),old_name=PATH.basename(old_path),new_name=PATH.basename(new_path),lookup=FS.lookupPath(old_path,{parent:!0}),lookup=lookup.node,new_dir=FS.lookupPath(new_path,{parent:!0}).node;if(!lookup||!new_dir)throw new FS.ErrnoError(44);if(lookup.mount!==new_dir.mount)throw new FS.ErrnoError(75);var new_node,old_node=FS.lookupNode(lookup,old_name),old_path=PATH_FS.relative(old_path,new_dirname);if("."!==old_path.charAt(0))throw new FS.ErrnoError(28);if("."!==(old_path=PATH_FS.relative(new_path,old_dirname)).charAt(0))throw new FS.ErrnoError(55);try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node!==new_node){new_dirname=FS.isDir(old_node.mode),new_path=FS.mayDelete(lookup,old_name,new_dirname);if(new_path)throw new FS.ErrnoError(new_path);if(new_path=new_node?FS.mayDelete(new_dir,new_name,new_dirname):FS.mayCreate(new_dir,new_name))throw new FS.ErrnoError(new_path);if(!lookup.node_ops.rename)throw new FS.ErrnoError(63);if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node))throw new FS.ErrnoError(10);if(new_dir!==lookup&&(new_path=FS.nodePermissions(lookup,"w")))throw new FS.ErrnoError(new_path);FS.hashRemoveNode(old_node);try{lookup.node_ops.rename(old_node,new_dir,new_name),old_node.parent=new_dir}catch(e){throw e}finally{FS.hashAddNode(old_node)}}},rmdir(path){var parent=FS.lookupPath(path,{parent:!0}).node,path=PATH.basename(path),node=FS.lookupNode(parent,path),errCode=FS.mayDelete(parent,path,!0);if(errCode)throw new FS.ErrnoError(errCode);if(!parent.node_ops.rmdir)throw new FS.ErrnoError(63);if(FS.isMountpoint(node))throw new FS.ErrnoError(10);parent.node_ops.rmdir(parent,path),FS.destroyNode(node)},readdir(path){path=FS.lookupPath(path,{follow:!0}).node;if(path.node_ops.readdir)return path.node_ops.readdir(path);throw new FS.ErrnoError(54)},unlink(path){var parent=FS.lookupPath(path,{parent:!0}).node;if(!parent)throw new FS.ErrnoError(44);var path=PATH.basename(path),node=FS.lookupNode(parent,path),errCode=FS.mayDelete(parent,path,!1);if(errCode)throw new FS.ErrnoError(errCode);if(!parent.node_ops.unlink)throw new FS.ErrnoError(63);if(FS.isMountpoint(node))throw new FS.ErrnoError(10);parent.node_ops.unlink(parent,path),FS.destroyNode(node)},readlink(path){path=FS.lookupPath(path).node;if(!path)throw new FS.ErrnoError(44);if(path.node_ops.readlink)return PATH_FS.resolve(FS.getPath(path.parent),path.node_ops.readlink(path));throw new FS.ErrnoError(28)},stat(path,dontFollow){path=FS.lookupPath(path,{follow:!dontFollow}).node;if(!path)throw new FS.ErrnoError(44);if(path.node_ops.getattr)return path.node_ops.getattr(path);throw new FS.ErrnoError(63)},lstat(path){return FS.stat(path,!0)},chmod(path,mode,dontFollow){if(!(dontFollow="string"==typeof path?FS.lookupPath(path,{follow:!dontFollow}).node:path).node_ops.setattr)throw new FS.ErrnoError(63);dontFollow.node_ops.setattr(dontFollow,{mode:4095&mode|-4096&dontFollow.mode,timestamp:Date.now()})},lchmod(path,mode){FS.chmod(path,mode,!0)},fchmod(fd,mode){fd=FS.getStreamChecked(fd);FS.chmod(fd.node,mode)},chown(path,uid,gid,dontFollow){if(!(dontFollow="string"==typeof path?FS.lookupPath(path,{follow:!dontFollow}).node:path).node_ops.setattr)throw new FS.ErrnoError(63);dontFollow.node_ops.setattr(dontFollow,{timestamp:Date.now()})},lchown(path,uid,gid){FS.chown(path,uid,gid,!0)},fchown(fd,uid,gid){fd=FS.getStreamChecked(fd);FS.chown(fd.node,uid,gid)},truncate(path,len){if(len<0)throw new FS.ErrnoError(28);if(!(path="string"==typeof path?FS.lookupPath(path,{follow:!0}).node:path).node_ops.setattr)throw new FS.ErrnoError(63);if(FS.isDir(path.mode))throw new FS.ErrnoError(31);if(!FS.isFile(path.mode))throw new FS.ErrnoError(28);var errCode=FS.nodePermissions(path,"w");if(errCode)throw new FS.ErrnoError(errCode);path.node_ops.setattr(path,{size:len,timestamp:Date.now()})},ftruncate(fd,len){fd=FS.getStreamChecked(fd);if(0==(2097155&fd.flags))throw new FS.ErrnoError(28);FS.truncate(fd.node,len)},utime(path,atime,mtime){path=FS.lookupPath(path,{follow:!0}).node;path.node_ops.setattr(path,{timestamp:Math.max(atime,mtime)})},open(path,flags,mode){if(""===path)throw new FS.ErrnoError(44);if(mode=64&(flags="string"==typeof flags?FS_modeStringToFlags(flags):flags)?4095&(mode=void 0===mode?438:mode)|32768:0,"object"==typeof path)node=path;else{path=PATH.normalize(path);try{var node=FS.lookupPath(path,{follow:!(131072&flags)}).node}catch(e){}}var created=!1;if(64&flags)if(node){if(128&flags)throw new FS.ErrnoError(20)}else node=FS.mknod(path,mode,0),created=!0;if(!node)throw new FS.ErrnoError(44);if(FS.isChrdev(node.mode)&&(flags&=-513),65536&flags&&!FS.isDir(node.mode))throw new FS.ErrnoError(54);if(!created){mode=FS.mayOpen(node,flags);if(mode)throw new FS.ErrnoError(mode)}512&flags&&!created&&FS.truncate(node,0),flags&=-131713;mode=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:!0,position:0,stream_ops:node.stream_ops,ungotten:[],error:!1});return mode.stream_ops.open&&mode.stream_ops.open(mode),!Module.logReadFiles||1&flags||path in FS.readFiles||(FS.readFiles[path]=1),mode},close(stream){if(FS.isClosed(stream))throw new FS.ErrnoError(8);stream.getdents&&(stream.getdents=null);try{stream.stream_ops.close&&stream.stream_ops.close(stream)}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return null===stream.fd},llseek(stream,offset,whence){if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(!stream.seekable||!stream.stream_ops.llseek)throw new FS.ErrnoError(70);if(0!=whence&&1!=whence&&2!=whence)throw new FS.ErrnoError(28);return stream.position=stream.stream_ops.llseek(stream,offset,whence),stream.ungotten=[],stream.position},read(stream,buffer,offset,length,position){if(assert(0<=offset),length<0||position<0)throw new FS.ErrnoError(28);if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(1==(2097155&stream.flags))throw new FS.ErrnoError(8);if(FS.isDir(stream.node.mode))throw new FS.ErrnoError(31);if(!stream.stream_ops.read)throw new FS.ErrnoError(28);var seeking=void 0!==position;if(seeking){if(!stream.seekable)throw new FS.ErrnoError(70)}else position=stream.position;buffer=stream.stream_ops.read(stream,buffer,offset,length,position);return seeking||(stream.position+=buffer),buffer},write(stream,buffer,offset,length,position,canOwn){if(assert(0<=offset),length<0||position<0)throw new FS.ErrnoError(28);if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(0==(2097155&stream.flags))throw new FS.ErrnoError(8);if(FS.isDir(stream.node.mode))throw new FS.ErrnoError(31);if(!stream.stream_ops.write)throw new FS.ErrnoError(28);stream.seekable&&1024&stream.flags&&FS.llseek(stream,0,2);var seeking=void 0!==position;if(seeking){if(!stream.seekable)throw new FS.ErrnoError(70)}else position=stream.position;buffer=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);return seeking||(stream.position+=buffer),buffer},allocate(stream,offset,length){if(FS.isClosed(stream))throw new FS.ErrnoError(8);if(offset<0||length<=0)throw new FS.ErrnoError(28);if(0==(2097155&stream.flags))throw new FS.ErrnoError(8);if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode))throw new FS.ErrnoError(43);if(!stream.stream_ops.allocate)throw new FS.ErrnoError(138);stream.stream_ops.allocate(stream,offset,length)},mmap(stream,length,position,prot,flags){if(0!=(2&prot)&&0==(2&flags)&&2!=(2097155&stream.flags))throw new FS.ErrnoError(2);if(1==(2097155&stream.flags))throw new FS.ErrnoError(2);if(!stream.stream_ops.mmap)throw new FS.ErrnoError(43);if(length)return stream.stream_ops.mmap(stream,length,position,prot,flags);throw new FS.ErrnoError(28)},msync(stream,buffer,offset,length,mmapFlags){return assert(0<=offset),stream.stream_ops.msync?stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags):0},ioctl(stream,cmd,arg){if(stream.stream_ops.ioctl)return stream.stream_ops.ioctl(stream,cmd,arg);throw new FS.ErrnoError(59)},readFile(path,opts={}){if(opts.flags=opts.flags||0,opts.encoding=opts.encoding||"binary","utf8"!==opts.encoding&&"binary"!==opts.encoding)throw new Error(`Invalid encoding type "${opts.encoding}"`);var ret,stream=FS.open(path,opts.flags),path=FS.stat(path).size,buf=new Uint8Array(path);return FS.read(stream,buf,0,path,0),"utf8"===opts.encoding?ret=UTF8ArrayToString(buf):"binary"===opts.encoding&&(ret=buf),FS.close(stream),ret},writeFile(path,data,opts={}){opts.flags=opts.flags||577;path=FS.open(path,opts.flags,opts.mode);if("string"==typeof data){var buf=new Uint8Array(lengthBytesUTF8(data)+1),actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(path,buf,0,actualNumBytes,void 0,opts.canOwn)}else{if(!ArrayBuffer.isView(data))throw new Error("Unsupported data type");FS.write(path,data,0,data.byteLength,void 0,opts.canOwn)}FS.close(path)},cwd:()=>FS.currentPath,chdir(path){path=FS.lookupPath(path,{follow:!0});if(null===path.node)throw new FS.ErrnoError(44);if(!FS.isDir(path.node.mode))throw new FS.ErrnoError(54);var errCode=FS.nodePermissions(path.node,"x");if(errCode)throw new FS.ErrnoError(errCode);FS.currentPath=path.path},createDefaultDirectories(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length,pos)=>length,llseek:()=>0}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0,randomByte=()=>(0===randomLeft&&(randomLeft=randomFill(randomBuffer).byteLength),randomBuffer[--randomLeft]);FS.createDevice("/dev","random",randomByte),FS.createDevice("/dev","urandom",randomByte),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd"),FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16895,73);return node.node_ops={lookup(parent,name){var stream=FS.getStreamChecked(+name),name={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path}};return name.parent=name}},node}},{},"/proc/self/fd")},createStandardStreams(input,output,error){input?FS.createDevice("/dev","stdin",input):FS.symlink("/dev/tty","/dev/stdin"),output?FS.createDevice("/dev","stdout",null,output):FS.symlink("/dev/tty","/dev/stdout"),error?FS.createDevice("/dev","stderr",null,error):FS.symlink("/dev/tty1","/dev/stderr");input=FS.open("/dev/stdin",0),output=FS.open("/dev/stdout",1),error=FS.open("/dev/stderr",1);assert(0===input.fd,`invalid handle for stdin (${input.fd})`),assert(1===output.fd,`invalid handle for stdout (${output.fd})`),assert(2===error.fd,`invalid handle for stderr (${error.fd})`)},staticInit(){FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS}},init(input,output,error){assert(!FS.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.initialized=!0,input??=Module.stdin,output??=Module.stdout,error??=Module.stderr,FS.createStandardStreams(input,output,error)},quit(){FS.initialized=!1,_fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];stream&&FS.close(stream)}},findObject(path,dontResolveLastLink){path=FS.analyzePath(path,dontResolveLastLink);return path.exists?path.object:null},analyzePath(path,dontResolveLastLink){try{path=(lookup=FS.lookupPath(path,{follow:!dontResolveLastLink})).path}catch(e){}var ret={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:!0});ret.parentExists=!0,ret.parentPath=lookup.path,ret.parentObject=lookup.node,ret.name=PATH.basename(path),lookup=FS.lookupPath(path,{follow:!dontResolveLastLink}),ret.exists=!0,ret.path=lookup.path,ret.object=lookup.node,ret.name=lookup.node.name,ret.isRoot="/"===lookup.path}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent="string"==typeof parent?parent:FS.getPath(parent);for(var parts=path.split("/").reverse();parts.length;){var part=parts.pop();if(part){var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}}return current},createFile(parent,name,properties,canRead,canWrite){parent=PATH.join2("string"==typeof parent?parent:FS.getPath(parent),name),name=FS_getMode(canRead,canWrite);return FS.create(parent,name)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name,name=(parent&&(parent="string"==typeof parent?parent:FS.getPath(parent),path=name?PATH.join2(parent,name):parent),FS_getMode(canRead,canWrite)),parent=FS.create(path,name);if(data){if("string"==typeof data){for(var arr=new Array(data.length),i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(parent,146|name);canRead=FS.open(parent,577);FS.write(canRead,data,0,data.length,0,canOwn),FS.close(canRead),FS.chmod(parent,name)}},createDevice(parent,name,input,output){var parent=PATH.join2("string"==typeof parent?parent:FS.getPath(parent),name),name=FS_getMode(!!input,!!output),dev=(FS.createDevice.major??=64,FS.makedev(FS.createDevice.major++,0));return FS.registerDevice(dev,{open(stream){stream.seekable=!1},close(stream){output?.buffer?.length&&output(10)},read(stream,buffer,offset,length,pos){for(var result,bytesRead=0,i=0;i<length;i++){try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(void 0===result&&0===bytesRead)throw new FS.ErrnoError(6);if(null==result)break;bytesRead++,buffer[offset+i]=result}return bytesRead&&(stream.node.timestamp=Date.now()),bytesRead},write(stream,buffer,offset,length,pos){for(var i=0;i<length;i++)try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}return length&&(stream.node.timestamp=Date.now()),i}}),FS.mkdev(parent,name,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{obj.contents=readBinary(obj.url),obj.usedBytes=obj.contents.length}catch(e){throw new FS.ErrnoError(29)}},createLazyFile(parent,name,url,canRead,canWrite){class LazyUint8Array{lengthKnown=!1;chunks=[];get(idx){var chunkOffset;if(!(idx>this.length-1||idx<0))return chunkOffset=idx%this.chunkSize,idx=idx/this.chunkSize|0,this.getter(idx)[chunkOffset]}setDataGetter(getter){this.getter=getter}cacheLength(){var xhr=new XMLHttpRequest;if(xhr.open("HEAD",url,!1),xhr.send(null),!(200<=xhr.status&&xhr.status<300||304===xhr.status))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var header,datalength=Number(xhr.getResponseHeader("Content-length")),hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&"bytes"===header,xhr=(header=xhr.getResponseHeader("Content-Encoding"))&&"gzip"===header,chunkSize=1048576,lazyArray=(hasByteServing||(chunkSize=datalength),this);lazyArray.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize,end=(chunkNum+1)*chunkSize-1,end=Math.min(end,datalength-1);if(void 0===lazyArray.chunks[chunkNum]&&(lazyArray.chunks[chunkNum]=((from,to)=>{if(to<from)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(datalength-1<to)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;if(xhr.open("GET",url,!1),datalength!==chunkSize&&xhr.setRequestHeader("Range","bytes="+from+"-"+to),xhr.responseType="arraybuffer",xhr.overrideMimeType&&xhr.overrideMimeType("text/plain; charset=x-user-defined"),xhr.send(null),200<=xhr.status&&xhr.status<300||304===xhr.status)return void 0!==xhr.response?new Uint8Array(xhr.response||[]):intArrayFromString(xhr.responseText||"",!0);throw new Error("Couldn't load "+url+". Status: "+xhr.status)})(start,end)),void 0===lazyArray.chunks[chunkNum])throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]}),!xhr&&datalength||(chunkSize=datalength=1,datalength=this.getter(0).length,chunkSize=datalength,out("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=datalength,this._chunkSize=chunkSize,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if("undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var properties={isDevice:!1,contents:new LazyUint8Array}}else properties={isDevice:!1,url:url};var node=FS.createFile(parent,name,properties,canRead,canWrite),stream_ops=(properties.contents?node.contents=properties.contents:properties.url&&(node.contents=null,node.url=properties.url),Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}}),{});function writeChunks(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(assert(0<=size),contents.slice)for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i];else for(i=0;i<size;i++)buffer[offset+i]=contents.get(position+i);return size}return Object.keys(node.stream_ops).forEach(key=>{var fn=node.stream_ops[key];stream_ops[key]=(...args)=>(FS.forceLoadFile(node),fn(...args))}),stream_ops.read=(stream,buffer,offset,length,position)=>(FS.forceLoadFile(node),writeChunks(stream,buffer,offset,length,position)),stream_ops.mmap=(stream,length,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc(length);if(ptr)return writeChunks(stream,HEAP8,ptr,length,position),{ptr:ptr,allocated:!0};throw new FS.ErrnoError(48)},node.stream_ops=stream_ops,node},absolutePath(){abort("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){abort("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){abort("FS.createLink has been removed; use FS.symlink instead")},joinPath(){abort("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){abort("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){abort("FS.standardizePath has been removed; use PATH.normalize instead")}},SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path))return path;if(dirfd=-100===dirfd?FS.cwd():SYSCALLS.getStreamFromFD(dirfd).path,0!=path.length)return PATH.join2(dirfd,path);if(allowEmpty)return dirfd;throw new FS.ErrnoError(44)},doStat(func,path,buf){var func=func(path),path=(HEAP32[buf>>2]=func.dev,HEAP32[buf+4>>2]=func.mode,HEAPU32[buf+8>>2]=func.nlink,HEAP32[buf+12>>2]=func.uid,HEAP32[buf+16>>2]=func.gid,HEAP32[buf+20>>2]=func.rdev,tempI64=[func.size>>>0,(tempDouble=func.size,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+24>>2]=tempI64[0],HEAP32[buf+28>>2]=tempI64[1],HEAP32[buf+32>>2]=4096,HEAP32[buf+36>>2]=func.blocks,func.atime.getTime()),mtime=func.mtime.getTime(),ctime=func.ctime.getTime();return tempI64=[Math.floor(path/1e3)>>>0,(tempDouble=Math.floor(path/1e3),1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1],HEAPU32[buf+48>>2]=path%1e3*1e3*1e3,tempI64=[Math.floor(mtime/1e3)>>>0,(tempDouble=Math.floor(mtime/1e3),1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+56>>2]=tempI64[0],HEAP32[buf+60>>2]=tempI64[1],HEAPU32[buf+64>>2]=mtime%1e3*1e3*1e3,tempI64=[Math.floor(ctime/1e3)>>>0,(tempDouble=Math.floor(ctime/1e3),1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+72>>2]=tempI64[0],HEAP32[buf+76>>2]=tempI64[1],HEAPU32[buf+80>>2]=ctime%1e3*1e3*1e3,tempI64=[func.ino>>>0,(tempDouble=func.ino,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+88>>2]=tempI64[0],HEAP32[buf+92>>2]=tempI64[1],0},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode))throw new FS.ErrnoError(43);if(2&flags)return 0;addr=HEAPU8.slice(addr,addr+len);FS.msync(stream,addr,offset,len,flags)},getStreamFromFD(fd){return FS.getStreamChecked(fd)},varargs:void 0,getStr(ptr){return UTF8ToString(ptr)}};function ___syscall_faccessat(dirfd,path,amode,flags){try{var node,perms;return(path=SYSCALLS.getStr(path),assert(0===flags||512==flags),path=SYSCALLS.calculateAt(dirfd,path),-8&amode)?-28:(node=FS.lookupPath(path,{follow:!0}).node)?(perms="",4&amode&&(perms+="r"),2&amode&&(perms+="w"),1&amode&&(perms+="x"),perms&&FS.nodePermissions(node,perms)?-2:0):-44}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var syscallGetVarargI=()=>{assert(null!=SYSCALLS.varargs);var ret=HEAP32[+SYSCALLS.varargs>>2];return SYSCALLS.varargs+=4,ret},syscallGetVarargP=syscallGetVarargI;function ___syscall_fcntl64(fd,cmd,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:if((arg=syscallGetVarargI())<0)return-28;for(;FS.streams[arg];)arg++;return FS.dupStream(stream,arg).fd;case 1:case 2:return 0;case 3:return stream.flags;case 4:var arg=syscallGetVarargI();return stream.flags|=arg,0;case 12:arg=syscallGetVarargP();return HEAP16[arg+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_fstat64(fd,buf){try{var stream=SYSCALLS.getStreamFromFD(fd);return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var stringToUTF8=(str,outPtr,maxBytesToWrite)=>(assert("number"==typeof maxBytesToWrite,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite));function ___syscall_getdents64(fd,dirp,count){try{for(var stream=SYSCALLS.getStreamFromFD(fd),pos=(stream.getdents||=FS.readdir(stream.path),0),off=FS.llseek(stream,0,1),idx=Math.floor(off/280);idx<stream.getdents.length&&pos+280<=count;){var id,type,child,name=stream.getdents[idx];type="."===name?(id=stream.node.id,4):".."===name?(id=FS.lookupPath(stream.path,{parent:!0}).node.id,4):(id=(child=FS.lookupNode(stream.node,name)).id,FS.isChrdev(child.mode)?2:FS.isDir(child.mode)?4:FS.isLink(child.mode)?10:8),assert(id),tempI64=[id>>>0,(tempDouble=id,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[dirp+pos>>2]=tempI64[0],HEAP32[dirp+pos+4>>2]=tempI64[1],tempI64=[280*(idx+1)>>>0,(tempDouble=280*(idx+1),1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[dirp+pos+8>>2]=tempI64[0],HEAP32[dirp+pos+12>>2]=tempI64[1],HEAP16[dirp+pos+16>>1]=280,HEAP8[dirp+pos+18]=type,stringToUTF8(name,dirp+pos+19,256),pos+=280,idx+=1}return FS.llseek(stream,280*idx,0),pos}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_ioctl(fd,op,varargs){SYSCALLS.varargs=varargs;try{var winsize,stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:return stream.tty?0:-59;case 21505:if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream),argp=syscallGetVarargP();HEAP32[argp>>2]=termios.c_iflag||0,HEAP32[argp+4>>2]=termios.c_oflag||0,HEAP32[argp+8>>2]=termios.c_cflag||0,HEAP32[argp+12>>2]=termios.c_lflag||0;for(var i=0;i<32;i++)HEAP8[argp+i+17]=termios.c_cc[i]||0}return 0;case 21510:case 21511:case 21512:return stream.tty?0:-59;case 21506:case 21507:case 21508:if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){for(var argp=syscallGetVarargP(),c_iflag=HEAP32[argp>>2],c_oflag=HEAP32[argp+4>>2],c_cflag=HEAP32[argp+8>>2],c_lflag=HEAP32[argp+12>>2],c_cc=[],i=0;i<32;i++)c_cc.push(HEAP8[argp+i+17]);return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag:c_iflag,c_oflag:c_oflag,c_cflag:c_cflag,c_lflag:c_lflag,c_cc:c_cc})}return 0;case 21519:return stream.tty?(argp=syscallGetVarargP(),HEAP32[argp>>2]=0):-59;case 21520:return stream.tty?-28:-59;case 21531:argp=syscallGetVarargP();return FS.ioctl(stream,op,argp);case 21523:return stream.tty?(stream.tty.ops.ioctl_tiocgwinsz&&(winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty),argp=syscallGetVarargP(),HEAP16[argp>>1]=winsize[0],HEAP16[argp+2>>1]=winsize[1]),0):-59;case 21524:case 21515:return stream.tty?0:-59;default:return-28}}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_lstat64(path,buf){try{return path=SYSCALLS.getStr(path),SYSCALLS.doStat(FS.lstat,path,buf)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_mkdirat(dirfd,path,mode){try{return path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path),"/"===(path=PATH.normalize(path))[path.length-1]&&(path=path.substr(0,path.length-1)),FS.mkdir(path,mode,0),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_newfstatat(dirfd,path,buf,flags){try{path=SYSCALLS.getStr(path);var nofollow=256&flags,allowEmpty=4096&flags;return assert(!(flags&=-6401),"unknown flags in __syscall_newfstatat: "+flags),path=SYSCALLS.calculateAt(dirfd,path,allowEmpty),SYSCALLS.doStat(nofollow?FS.lstat:FS.stat,path,buf)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_openat(dirfd,path,flags,varargs){SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?syscallGetVarargI():0;return FS.open(path,flags,mode).fd}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_readlinkat(dirfd,path,buf,bufsize){try{var ret,len,endChar;return(path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path),bufsize<=0)?-28:(ret=FS.readlink(path),len=Math.min(bufsize,lengthBytesUTF8(ret)),endChar=HEAP8[buf+len],stringToUTF8(ret,buf,bufsize+1),HEAP8[buf+len]=endChar,len)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_rmdir(path){try{return path=SYSCALLS.getStr(path),FS.rmdir(path),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_stat64(path,buf){try{return path=SYSCALLS.getStr(path),SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}function ___syscall_unlinkat(dirfd,path,flags){try{return path=SYSCALLS.getStr(path),path=SYSCALLS.calculateAt(dirfd,path),0===flags?FS.unlink(path):512===flags?FS.rmdir(path):abort("Invalid flags passed to unlinkat"),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return-e.errno}}var __abort_js=()=>{abort("native code called abort()")},nowIsMonotonic=1,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic,__emscripten_memcpy_js=(dest,src,num)=>HEAPU8.copyWithin(dest,src,src+num),isLeapYear=year=>year%4==0&&(year%100!=0||year%400==0),MONTH_DAYS_LEAP_CUMULATIVE=[0,31,60,91,121,152,182,213,244,274,305,335],MONTH_DAYS_REGULAR_CUMULATIVE=[0,31,59,90,120,151,181,212,243,273,304,334],ydayFromDate=date=>(isLeapYear(date.getFullYear())?MONTH_DAYS_LEAP_CUMULATIVE:MONTH_DAYS_REGULAR_CUMULATIVE)[date.getMonth()]+date.getDate()-1,convertI32PairToI53Checked=(lo,hi)=>(assert(lo==lo>>>0||lo==(0|lo)),assert(hi===(0|hi)),hi+2097152>>>0<4194305-!!lo?(lo>>>0)+4294967296*hi:NaN);function __localtime_js(time_low,time_high,tmPtr){var time_low=convertI32PairToI53Checked(time_low,time_high),time_high=new Date(1e3*time_low),time_low=(HEAP32[tmPtr>>2]=time_high.getSeconds(),HEAP32[tmPtr+4>>2]=time_high.getMinutes(),HEAP32[tmPtr+8>>2]=time_high.getHours(),HEAP32[tmPtr+12>>2]=time_high.getDate(),HEAP32[tmPtr+16>>2]=time_high.getMonth(),HEAP32[tmPtr+20>>2]=time_high.getFullYear()-1900,HEAP32[tmPtr+24>>2]=time_high.getDay(),0|ydayFromDate(time_high)),time_low=(HEAP32[tmPtr+28>>2]=time_low,HEAP32[tmPtr+36>>2]=-60*time_high.getTimezoneOffset(),new Date(time_high.getFullYear(),0,1)),summerOffset=new Date(time_high.getFullYear(),6,1).getTimezoneOffset(),time_low=time_low.getTimezoneOffset(),time_high=0|(summerOffset!=time_low&&time_high.getTimezoneOffset()==Math.min(time_low,summerOffset));HEAP32[tmPtr+32>>2]=time_high}var GLctx,wasmTable,setTempRet0=val=>__emscripten_tempret_set(val),_setTempRet0=setTempRet0,__mktime_js=function(tmPtr){date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0),dst=HEAP32[tmPtr+32>>2],guessedOffset=date.getTimezoneOffset(),start=new Date(date.getFullYear(),0,1),summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset(),start=start.getTimezoneOffset(),dstOffset=Math.min(start,summerOffset),dst<0?HEAP32[tmPtr+32>>2]=Number(summerOffset!=start&&dstOffset==guessedOffset):0<dst!=(dstOffset==guessedOffset)&&(start=Math.max(start,summerOffset),summerOffset=0<dst?dstOffset:start,date.setTime(date.getTime()+6e4*(summerOffset-guessedOffset))),HEAP32[tmPtr+24>>2]=date.getDay(),dst=0|ydayFromDate(date),HEAP32[tmPtr+28>>2]=dst,HEAP32[tmPtr>>2]=date.getSeconds(),HEAP32[tmPtr+4>>2]=date.getMinutes(),HEAP32[tmPtr+8>>2]=date.getHours(),HEAP32[tmPtr+12>>2]=date.getDate(),HEAP32[tmPtr+16>>2]=date.getMonth(),HEAP32[tmPtr+20>>2]=date.getYear(),dstOffset=date.getTime();var date,dst,guessedOffset,summerOffset,dstOffset,start=isNaN(dstOffset)?-1:dstOffset/1e3;return setTempRet0((tempDouble=start,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)),start>>>0},__tzset_js=(timezone,daylight,std_name,dst_name)=>{var currentYear=(new Date).getFullYear(),winter=new Date(currentYear,0,1),currentYear=new Date(currentYear,6,1),winter=winter.getTimezoneOffset(),currentYear=currentYear.getTimezoneOffset(),stdTimezoneOffset=Math.max(winter,currentYear),timezone=(HEAPU32[timezone>>2]=60*stdTimezoneOffset,HEAP32[daylight>>2]=Number(winter!=currentYear),timezoneOffset=>{var sign=0<=timezoneOffset?"-":"+",timezoneOffset=Math.abs(timezoneOffset);return"UTC"+sign+String(Math.floor(timezoneOffset/60)).padStart(2,"0")+String(timezoneOffset%60).padStart(2,"0")}),stdTimezoneOffset=timezone(winter),daylight=timezone(currentYear);assert(stdTimezoneOffset),assert(daylight),assert(lengthBytesUTF8(stdTimezoneOffset)<=16,`timezone name truncated to fit in TZNAME_MAX (${stdTimezoneOffset})`),assert(lengthBytesUTF8(daylight)<=16,`timezone name truncated to fit in TZNAME_MAX (${daylight})`),currentYear<winter?(stringToUTF8(stdTimezoneOffset,std_name,17),stringToUTF8(daylight,dst_name,17)):(stringToUTF8(stdTimezoneOffset,dst_name,17),stringToUTF8(daylight,std_name,17))},handleException=e=>{if(e instanceof ExitStatus||"unwind"==e)return EXITSTATUS;checkStackCookie(),e instanceof WebAssembly.RuntimeError&&_emscripten_stack_get_current()<=0&&err("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)"),quit_(1,e)},runtimeKeepaliveCounter=0,keepRuntimeAlive=()=>noExitRuntime||0<runtimeKeepaliveCounter,_proc_exit=code=>{EXITSTATUS=code,keepRuntimeAlive()||(Module.onExit?.(code),ABORT=!0),quit_(code,new ExitStatus(code))},exitJS=(status,implicit)=>{EXITSTATUS=status,checkUnflushedContent(),keepRuntimeAlive()&&!implicit&&err(`program exited (with status: ${status}), but keepRuntimeAlive() is set (counter=${runtimeKeepaliveCounter}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`),_proc_exit(status)},_exit=exitJS,maybeExit=()=>{if(!keepRuntimeAlive())try{_exit(EXITSTATUS)}catch(e){handleException(e)}},callUserCallback=func=>{if(ABORT)err("user callback triggered after runtime exited or application aborted.  Ignoring.");else try{func(),maybeExit()}catch(e){handleException(e)}},safeSetTimeout=(func,timeout)=>setTimeout(()=>{callUserCallback(func)},timeout),Browser={useWebGL:!1,isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],preloadedImages:{},preloadedAudios:{},init(){var audioPlugin;function pointerLockChange(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}Browser.initted||(Browser.initted=!0,preloadPlugins.push({canHandle:function(name){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp|webp)$/i.test(name)},handle:function(byteArray,name,onload,onerror){var b=new Blob([byteArray],{type:Browser.getMimetype(name)}),url=(b.size!==byteArray.length&&(b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})),URL.createObjectURL(b)),img=(assert("string"==typeof url,"createObjectURL must return a url as a string"),new Image);img.onload=()=>{assert(img.complete,`Image ${name} could not be decoded`);var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0),Browser.preloadedImages[name]=canvas,URL.revokeObjectURL(url),onload?.(byteArray)},img.onerror=event=>{err(`Image ${url} could not be decoded`),onerror?.()},img.src=url}}),(audioPlugin={canHandle:function(name){return!Module.noAudioDecoding&&name.substr(-4)in{".ogg":1,".wav":1,".mp3":1}}}).handle=function(byteArray,name,onload,onerror){var done=!1;function finish(audio){done||(done=!0,Browser.preloadedAudios[name]=audio,onload?.(byteArray))}var b=new Blob([byteArray],{type:Browser.getMimetype(name)}),b=URL.createObjectURL(b),audio=(assert("string"==typeof b,"createObjectURL must return a url as a string"),new Audio);audio.addEventListener("canplaythrough",()=>finish(audio),!1),audio.onerror=function(event){done||(err(`warning: browser could not fully decode audio ${name}, trying slower base64 approach`),audio.src="data:audio/x-"+name.substr(-3)+";base64,"+(data=>{for(var BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ret="",leftchar=0,leftbits=0,i=0;i<data.length;i++)for(leftchar=leftchar<<8|data[i],leftbits+=8;6<=leftbits;){var curr=leftchar>>leftbits-6&63;leftbits-=6,ret+=BASE[curr]}return 2==leftbits?ret=ret+BASE[(3&leftchar)<<4]+"==":4==leftbits&&(ret=ret+BASE[(15&leftchar)<<2]+"="),ret})(byteArray),finish(audio))},audio.src=b,safeSetTimeout(()=>{finish(audio)},1e4)},preloadPlugins.push(audioPlugin),(audioPlugin=Module.canvas)&&(audioPlugin.requestPointerLock=audioPlugin.requestPointerLock||audioPlugin.mozRequestPointerLock||audioPlugin.webkitRequestPointerLock||audioPlugin.msRequestPointerLock||(()=>{}),audioPlugin.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),audioPlugin.exitPointerLock=audioPlugin.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",pointerLockChange,!1),document.addEventListener("mozpointerlockchange",pointerLockChange,!1),document.addEventListener("webkitpointerlockchange",pointerLockChange,!1),document.addEventListener("mspointerlockchange",pointerLockChange,!1),Module.elementPointerLock)&&audioPlugin.addEventListener("click",ev=>{!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),ev.preventDefault())},!1))},createContext(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx,contextHandle;if(useWebGL){var contextAttributes={antialias:!1,alpha:!1,majorVersion:1};if(webGLContextAttributes)for(var attribute in webGLContextAttributes)contextAttributes[attribute]=webGLContextAttributes[attribute];void 0!==GL&&(contextHandle=GL.createContext(canvas,contextAttributes))&&(ctx=GL.getContext(contextHandle).GLctx)}else ctx=canvas.getContext("2d");return ctx?(setInModule&&(useWebGL||assert(void 0===GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=ctx,useWebGL&&GL.makeContextCurrent(contextHandle),Browser.useWebGL=useWebGL,Browser.moduleContextCreatedCallbacks.forEach(callback=>callback()),Browser.init()),ctx):null},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer,Browser.resizeCanvas=resizeCanvas,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1);var canvas=Module.canvas;function fullscreenChange(){Browser.isFullscreen=!1;var canvasContainer=canvas.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===canvasContainer?(canvas.exitFullscreen=Browser.exitFullscreen,Browser.lockPointer&&canvas.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas?Browser.setFullscreenCanvasSize():Browser.updateCanvasDimensions(canvas)):(canvasContainer.parentNode.insertBefore(canvas,canvasContainer),canvasContainer.parentNode.removeChild(canvasContainer),Browser.resizeCanvas?Browser.setWindowedCanvasSize():Browser.updateCanvasDimensions(canvas)),Module.onFullScreen?.(Browser.isFullscreen),Module.onFullscreen?.(Browser.isFullscreen)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",fullscreenChange,!1),document.addEventListener("mozfullscreenchange",fullscreenChange,!1),document.addEventListener("webkitfullscreenchange",fullscreenChange,!1),document.addEventListener("MSFullscreenChange",fullscreenChange,!1));var canvasContainer=document.createElement("div");canvas.parentNode.insertBefore(canvasContainer,canvas),canvasContainer.appendChild(canvas),canvasContainer.requestFullscreen=canvasContainer.requestFullscreen||canvasContainer.mozRequestFullScreen||canvasContainer.msRequestFullscreen||(canvasContainer.webkitRequestFullscreen?()=>canvasContainer.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(canvasContainer.webkitRequestFullScreen?()=>canvasContainer.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),canvasContainer.requestFullscreen()},requestFullScreen(){abort("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen(){return!!Browser.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0)},safeSetTimeout(func,timeout){return safeSetTimeout(func,timeout)},getMimetype(name){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[name.substr(name.lastIndexOf(".")+1)]},getUserMedia(func){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(func)},getMovementX(event){return event.movementX||event.mozMovementX||event.webkitMovementX||0},getMovementY(event){return event.movementY||event.mozMovementY||event.webkitMovementY||0},getMouseWheelDelta(event){var delta=0;switch(event.type){case"DOMMouseScroll":delta=event.detail/3;break;case"mousewheel":delta=event.wheelDelta/120;break;case"wheel":switch(delta=event.deltaY,event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw"unrecognized mouse wheel delta mode: "+event.deltaMode}break;default:throw"unrecognized mouse wheel event: "+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(pageX,pageY){var rect=Module.canvas.getBoundingClientRect(),cw=Module.canvas.width,ch=Module.canvas.height,scrollX=void 0!==window.scrollX?window.scrollX:window.pageXOffset,scrollY=void 0!==window.scrollY?window.scrollY:window.pageYOffset,pageX=(assert(void 0!==scrollX&&void 0!==scrollY,"Unable to retrieve scroll position, mouse positions likely broken."),pageX-(scrollX+rect.left)),scrollX=pageY-(scrollY+rect.top);return{x:pageX*=cw/rect.width,y:scrollX*=ch/rect.height}},setMouseCoords(pageX,pageY){var{x:pageX,y:pageY}=Browser.calculateMouseCoords(pageX,pageY);Browser.mouseMovementX=pageX-Browser.mouseX,Browser.mouseMovementY=pageY-Browser.mouseY,Browser.mouseX=pageX,Browser.mouseY=pageY},calculateMouseEvent(event){if(Browser.pointerLock)"mousemove"!=event.type&&"mozMovementX"in event?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(event),Browser.mouseMovementY=Browser.getMovementY(event)),Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY;else{var touch,coords,last;if("touchstart"===event.type||"touchend"===event.type||"touchmove"===event.type)return void 0===(touch=event.touch)?void 0:(coords=Browser.calculateMouseCoords(touch.pageX,touch.pageY),void("touchstart"===event.type?(Browser.lastTouches[touch.identifier]=coords,Browser.touches[touch.identifier]=coords):"touchend"!==event.type&&"touchmove"!==event.type||(last=Browser.touches[touch.identifier],Browser.lastTouches[touch.identifier]=last||=coords,Browser.touches[touch.identifier]=coords)));Browser.setMouseCoords(event.pageX,event.pageY)}},resizeListeners:[],updateResizeListeners(){var canvas=Module.canvas;Browser.resizeListeners.forEach(listener=>listener(canvas.width,canvas.height))},setCanvasSize(width,height,noUpdates){var canvas=Module.canvas;Browser.updateCanvasDimensions(canvas,width,height),noUpdates||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){var flags;"undefined"!=typeof SDL&&(flags=HEAPU32[SDL.screen>>2],HEAP32[SDL.screen>>2]=flags|=8388608),Browser.updateCanvasDimensions(Module.canvas),Browser.updateResizeListeners()},setWindowedCanvasSize(){var flags;"undefined"!=typeof SDL&&(flags=HEAPU32[SDL.screen>>2],HEAP32[SDL.screen>>2]=flags&=-8388609),Browser.updateCanvasDimensions(Module.canvas),Browser.updateResizeListeners()},updateCanvasDimensions(canvas,wNative,hNative){wNative&&hNative?(canvas.widthNative=wNative,canvas.heightNative=hNative):(wNative=canvas.widthNative,hNative=canvas.heightNative);var factor,w=wNative,h=hNative;Module.forcedAspectRatio&&0<Module.forcedAspectRatio&&(w/h<Module.forcedAspectRatio?w=Math.round(h*Module.forcedAspectRatio):h=Math.round(w/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===canvas.parentNode&&"undefined"!=typeof screen&&(factor=Math.min(screen.width/w,screen.height/h),w=Math.round(w*factor),h=Math.round(h*factor)),Browser.resizeCanvas?(canvas.width!=w&&(canvas.width=w),canvas.height!=h&&(canvas.height=h),void 0!==canvas.style&&(canvas.style.removeProperty("width"),canvas.style.removeProperty("height"))):(canvas.width!=wNative&&(canvas.width=wNative),canvas.height!=hNative&&(canvas.height=hNative),void 0!==canvas.style&&(w!=wNative||h!=hNative?(canvas.style.setProperty("width",w+"px","important"),canvas.style.setProperty("height",h+"px","important")):(canvas.style.removeProperty("width"),canvas.style.removeProperty("height"))))}},EGL={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode(code){EGL.errorCode=code},chooseConfig(display,attribList,config,config_size,numConfigs){if(62e3!=display)return EGL.setErrorCode(12296),0;if(attribList)for(;;){var param=HEAP32[attribList>>2];if(12321==param){var alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.alpha=0<alphaSize}else if(12325==param){alphaSize=HEAP32[attribList+4>>2];EGL.contextAttributes.depth=0<alphaSize}else if(12326==param){var stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.stencil=0<stencilSize}else if(12337==param){var samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=0<samples}else if(12338==param){samples=HEAP32[attribList+4>>2];EGL.contextAttributes.antialias=1==samples}else if(12544==param){stencilSize=HEAP32[attribList+4>>2];EGL.contextAttributes.lowLatency=12547!=stencilSize}else if(12344==param)break;attribList+=8}return config&&config_size||numConfigs?(numConfigs&&(HEAP32[numConfigs>>2]=1),config&&0<config_size&&(HEAPU32[config>>2]=62002),EGL.setErrorCode(12288),1):(EGL.setErrorCode(12300),0)}},_eglBindAPI=api=>12448==api?(EGL.setErrorCode(12288),1):(EGL.setErrorCode(12300),0),_eglChooseConfig=(display,attrib_list,configs,config_size,numConfigs)=>EGL.chooseConfig(display,attrib_list,configs,config_size,numConfigs),webgl_enable_ANGLE_instanced_arrays=ctx=>{var ext=ctx.getExtension("ANGLE_instanced_arrays");if(ext)return ctx.vertexAttribDivisor=(index,divisor)=>ext.vertexAttribDivisorANGLE(index,divisor),ctx.drawArraysInstanced=(mode,first,count,primcount)=>ext.drawArraysInstancedANGLE(mode,first,count,primcount),ctx.drawElementsInstanced=(mode,count,type,indices,primcount)=>ext.drawElementsInstancedANGLE(mode,count,type,indices,primcount),1},webgl_enable_OES_vertex_array_object=ctx=>{var ext=ctx.getExtension("OES_vertex_array_object");if(ext)return ctx.createVertexArray=()=>ext.createVertexArrayOES(),ctx.deleteVertexArray=vao=>ext.deleteVertexArrayOES(vao),ctx.bindVertexArray=vao=>ext.bindVertexArrayOES(vao),ctx.isVertexArray=vao=>ext.isVertexArrayOES(vao),1},webgl_enable_WEBGL_draw_buffers=ctx=>{var ext=ctx.getExtension("WEBGL_draw_buffers");if(ext)return ctx.drawBuffers=(n,bufs)=>ext.drawBuffersWEBGL(n,bufs),1},webgl_enable_EXT_polygon_offset_clamp=ctx=>!!(ctx.extPolygonOffsetClamp=ctx.getExtension("EXT_polygon_offset_clamp")),webgl_enable_EXT_clip_control=ctx=>!!(ctx.extClipControl=ctx.getExtension("EXT_clip_control")),webgl_enable_WEBGL_polygon_mode=ctx=>!!(ctx.webglPolygonMode=ctx.getExtension("WEBGL_polygon_mode")),webgl_enable_WEBGL_multi_draw=ctx=>!!(ctx.multiDrawWebgl=ctx.getExtension("WEBGL_multi_draw")),getEmscriptenSupportedExtensions=ctx=>{var supportedExtensions=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_clip_control","EXT_color_buffer_half_float","EXT_depth_clamp","EXT_float_blend","EXT_polygon_offset_clamp","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_blend_func_extended","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw","WEBGL_polygon_mode"];return(ctx.getSupportedExtensions()||[]).filter(ext=>supportedExtensions.includes(ext))},GL={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,unpackRowLength:0,recordError:errorCode=>{GL.lastError||(GL.lastError=errorCode)},getNewId:table=>{for(var ret=GL.counter++,i=table.length;i<ret;i++)table[i]=null;return ret},genObject:(n,buffers,createFunction,objectTable)=>{for(var i=0;i<n;i++){var buffer=GLctx[createFunction](),id=buffer&&GL.getNewId(objectTable);buffer?objectTable[buffer.name=id]=buffer:GL.recordError(1282),HEAP32[buffers+4*i>>2]=id}},getSource:(shader,count,string,length)=>{for(var source="",i=0;i<count;++i){var len=length?HEAPU32[length+4*i>>2]:void 0;source+=UTF8ToString(HEAPU32[string+4*i>>2],len)}return source},createContext:(canvas,webGLContextAttributes)=>{canvas.getContextSafariWebGL2Fixed||(canvas.getContextSafariWebGL2Fixed=canvas.getContext,canvas.getContext=function(ver,attrs){return attrs=canvas.getContextSafariWebGL2Fixed(ver,attrs),"webgl"==ver==attrs instanceof WebGLRenderingContext?attrs:null});var ctx=canvas.getContext("webgl",webGLContextAttributes);return ctx?GL.registerContext(ctx,webGLContextAttributes):0},registerContext:(ctx,webGLContextAttributes)=>{var handle=GL.getNewId(GL.contexts),context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};return ctx.canvas&&(ctx.canvas.GLctxObject=context),GL.contexts[handle]=context,void 0!==webGLContextAttributes.enableExtensionsByDefault&&!webGLContextAttributes.enableExtensionsByDefault||GL.initExtensions(context),handle},makeContextCurrent:contextHandle=>(GL.currentContext=GL.contexts[contextHandle],Module.ctx=GLctx=GL.currentContext?.GLctx,!(contextHandle&&!GLctx)),getContext:contextHandle=>GL.contexts[contextHandle],deleteContext:contextHandle=>{GL.currentContext===GL.contexts[contextHandle]&&(GL.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas),GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas&&(GL.contexts[contextHandle].GLctx.canvas.GLctxObject=void 0),GL.contexts[contextHandle]=null},initExtensions:context=>{var GLctx;(context||=GL.currentContext).initExtensionsDone||(context.initExtensionsDone=!0,webgl_enable_WEBGL_multi_draw(GLctx=context.GLctx),webgl_enable_EXT_polygon_offset_clamp(GLctx),webgl_enable_EXT_clip_control(GLctx),webgl_enable_WEBGL_polygon_mode(GLctx),webgl_enable_ANGLE_instanced_arrays(GLctx),webgl_enable_OES_vertex_array_object(GLctx),webgl_enable_WEBGL_draw_buffers(GLctx),GLctx.disjointTimerQueryExt=GLctx.getExtension("EXT_disjoint_timer_query"),getEmscriptenSupportedExtensions(GLctx).forEach(ext=>{ext.includes("lose_context")||ext.includes("debug")||GLctx.getExtension(ext)}))}},_eglCreateContext=(display,config,hmm,contextAttribs)=>{if(62e3!=display)return EGL.setErrorCode(12296),0;for(var glesContextVersion=1;;){var param=HEAP32[contextAttribs>>2];if(12440!=param){if(12344==param)break;return EGL.setErrorCode(12292),0}glesContextVersion=HEAP32[contextAttribs+4>>2],contextAttribs+=8}return 2!=glesContextVersion?(EGL.setErrorCode(12293),0):(EGL.contextAttributes.majorVersion=glesContextVersion-1,EGL.contextAttributes.minorVersion=0,EGL.context=GL.createContext(Module.canvas,EGL.contextAttributes),0!=EGL.context?(EGL.setErrorCode(12288),GL.makeContextCurrent(EGL.context),Browser.useWebGL=!0,Browser.moduleContextCreatedCallbacks.forEach(callback=>callback()),GL.makeContextCurrent(null),62004):(EGL.setErrorCode(12297),0))},_eglCreateWindowSurface=(display,config,win,attrib_list)=>62e3!=display?(EGL.setErrorCode(12296),0):62002!=config?(EGL.setErrorCode(12293),0):(EGL.setErrorCode(12288),62006),_eglDestroyContext=(display,context)=>62e3!=display?(EGL.setErrorCode(12296),0):62004!=context?(EGL.setErrorCode(12294),0):(GL.deleteContext(EGL.context),EGL.setErrorCode(12288),EGL.currentContext==context&&(EGL.currentContext=0),1),_eglDestroySurface=(display,surface)=>62e3!=display?(EGL.setErrorCode(12296),0):(62006!=surface?EGL.setErrorCode(12301):(EGL.currentReadSurface==surface&&(EGL.currentReadSurface=0),EGL.currentDrawSurface==surface&&(EGL.currentDrawSurface=0),EGL.setErrorCode(12288)),1),_eglGetConfigAttrib=(display,config,attribute,value)=>{if(62e3!=display)return EGL.setErrorCode(12296),0;if(62002!=config)return EGL.setErrorCode(12293),0;if(!value)return EGL.setErrorCode(12300),0;switch(EGL.setErrorCode(12288),attribute){case 12320:return HEAP32[value>>2]=EGL.contextAttributes.alpha?32:24,1;case 12321:return HEAP32[value>>2]=EGL.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return HEAP32[value>>2]=8,1;case 12325:return HEAP32[value>>2]=EGL.contextAttributes.depth?24:0,1;case 12326:return HEAP32[value>>2]=EGL.contextAttributes.stencil?8:0,1;case 12327:return HEAP32[value>>2]=12344,1;case 12328:return HEAP32[value>>2]=62002,1;case 12329:return HEAP32[value>>2]=0,1;case 12330:return HEAP32[value>>2]=4096,1;case 12331:return HEAP32[value>>2]=16777216,1;case 12332:return HEAP32[value>>2]=4096,1;case 12333:case 12334:return HEAP32[value>>2]=0,1;case 12335:return HEAP32[value>>2]=12344,1;case 12337:return HEAP32[value>>2]=EGL.contextAttributes.antialias?4:0,1;case 12338:return HEAP32[value>>2]=EGL.contextAttributes.antialias?1:0,1;case 12339:return HEAP32[value>>2]=4,1;case 12340:return HEAP32[value>>2]=12344,1;case 12341:case 12342:case 12343:return HEAP32[value>>2]=-1,1;case 12345:case 12346:case 12347:return HEAP32[value>>2]=0,1;case 12348:return HEAP32[value>>2]=1;case 12349:case 12350:return HEAP32[value>>2]=0,1;case 12351:return HEAP32[value>>2]=12430,1;case 12352:return HEAP32[value>>2]=4,1;case 12354:return HEAP32[value>>2]=0,1;default:return EGL.setErrorCode(12292),0}},_eglGetDisplay=nativeDisplayType=>(EGL.setErrorCode(12288),0!=nativeDisplayType&&1!=nativeDisplayType?0:62e3),_eglGetError=()=>EGL.errorCode,_eglInitialize=(display,majorVersion,minorVersion)=>62e3!=display?(EGL.setErrorCode(12296),0):(majorVersion&&(HEAP32[majorVersion>>2]=1),minorVersion&&(HEAP32[minorVersion>>2]=4),EGL.defaultDisplayInitialized=!0,EGL.setErrorCode(12288),1),_eglMakeCurrent=(display,draw,read,context)=>62e3!=display?(EGL.setErrorCode(12296),0):0!=context&&62004!=context?(EGL.setErrorCode(12294),0):0!=read&&62006!=read||0!=draw&&62006!=draw?(EGL.setErrorCode(12301),0):(GL.makeContextCurrent(context?EGL.context:null),EGL.currentContext=context,EGL.currentDrawSurface=draw,EGL.currentReadSurface=read,EGL.setErrorCode(12288),1),stringToNewUTF8=str=>{var size=lengthBytesUTF8(str)+1,ret=_malloc(size);return ret&&stringToUTF8(str,ret,size),ret},_eglQueryString=(display,name)=>{if(62e3!=display)return EGL.setErrorCode(12296),0;if(EGL.setErrorCode(12288),EGL.stringCache[name])return EGL.stringCache[name];var ret;switch(name){case 12371:ret=stringToNewUTF8("Emscripten");break;case 12372:ret=stringToNewUTF8("1.4 Emscripten EGL");break;case 12373:ret=stringToNewUTF8("");break;case 12429:ret=stringToNewUTF8("OpenGL_ES");break;default:return EGL.setErrorCode(12300),0}return EGL.stringCache[name]=ret},_eglSwapBuffers=(dpy,surface)=>{if(EGL.defaultDisplayInitialized)if(GLctx){if(!GLctx.isContextLost())return EGL.setErrorCode(12288),1;EGL.setErrorCode(12302)}else EGL.setErrorCode(12290);else EGL.setErrorCode(12289);return 0},_emscripten_get_now=()=>performance.now(),setMainLoop=(iterFunc,fps,simulateInfiniteLoop,arg,noSetTiming)=>{assert(!MainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),MainLoop.func=iterFunc,MainLoop.arg=arg;var thisMainLoopId=MainLoop.currentlyRunningMainloop;function checkIsRunning(){if(!(thisMainLoopId<MainLoop.currentlyRunningMainloop))return 1;maybeExit()}if(MainLoop.running=!1,MainLoop.runner=function(){var blocker,remaining,next;if(!ABORT)return 0<MainLoop.queue.length?(Date.now(),(blocker=MainLoop.queue.shift()).func(blocker.arg),MainLoop.remainingBlockers&&(next=(remaining=MainLoop.remainingBlockers)%1==0?remaining-1:Math.floor(remaining),blocker.counted?MainLoop.remainingBlockers=next:MainLoop.remainingBlockers=(8*remaining+(next+=.5))/9),MainLoop.updateStatus(),checkIsRunning()?void setTimeout(MainLoop.runner,0):void 0):void(checkIsRunning()&&(MainLoop.currentFrameNumber=MainLoop.currentFrameNumber+1|0,1==MainLoop.timingMode&&1<MainLoop.timingValue&&MainLoop.currentFrameNumber%MainLoop.timingValue!=0||(0==MainLoop.timingMode&&(MainLoop.tickStartTime=_emscripten_get_now()),"timeout"===MainLoop.method&&Module.ctx&&(warnOnce("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),MainLoop.method=""),MainLoop.runIter(iterFunc),checkIsRunning()))&&MainLoop.scheduler())},noSetTiming||(fps&&0<fps?_emscripten_set_main_loop_timing(0,1e3/fps):_emscripten_set_main_loop_timing(1,1),MainLoop.scheduler()),simulateInfiniteLoop)throw"unwind"},MainLoop={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){MainLoop.scheduler=null,MainLoop.currentlyRunningMainloop++},resume(){MainLoop.currentlyRunningMainloop++;var timingMode=MainLoop.timingMode,timingValue=MainLoop.timingValue,func=MainLoop.func;MainLoop.func=null,setMainLoop(func,0,!1,MainLoop.arg,!0),_emscripten_set_main_loop_timing(timingMode,timingValue),MainLoop.scheduler()},updateStatus(){var message,remaining;Module.setStatus&&(message=Module.statusMessage||"Please wait...",(remaining=MainLoop.remainingBlockers??0)?remaining<(MainLoop.expectedBlockers??0)?Module.setStatus("{message} ({expected - remaining}/{expected})"):Module.setStatus(message):Module.setStatus(""))},init(){Module.preMainLoop&&MainLoop.preMainLoop.push(Module.preMainLoop),Module.postMainLoop&&MainLoop.postMainLoop.push(Module.postMainLoop)},runIter(func){if(!ABORT){for(var pre of MainLoop.preMainLoop)if(!1===pre())return;callUserCallback(func);for(var post of MainLoop.postMainLoop)post();checkStackCookie()}},nextRAF:0,fakeRequestAnimationFrame(func){var now=Date.now();if(0===MainLoop.nextRAF)MainLoop.nextRAF=now+1e3/60;else for(;now+2>=MainLoop.nextRAF;)MainLoop.nextRAF+=1e3/60;var delay=Math.max(MainLoop.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame(func){("function"==typeof requestAnimationFrame?requestAnimationFrame:MainLoop.fakeRequestAnimationFrame)(func)}},_emscripten_set_main_loop_timing=(mode,value)=>{var setImmediates;return MainLoop.timingMode=mode,MainLoop.timingValue=value,MainLoop.func?(MainLoop.running||(MainLoop.running=!0),0==mode?(MainLoop.scheduler=function(){var timeUntilNextTick=0|Math.max(0,MainLoop.tickStartTime+value-_emscripten_get_now());setTimeout(MainLoop.runner,timeUntilNextTick)},MainLoop.method="timeout"):1==mode?(MainLoop.scheduler=function(){MainLoop.requestAnimationFrame(MainLoop.runner)},MainLoop.method="rAF"):2==mode&&(void 0===MainLoop.setImmediate&&("undefined"==typeof setImmediate?(setImmediates=[],addEventListener("message",event=>{"setimmediate"!==event.data&&"setimmediate"!==event.data.target||(event.stopPropagation(),setImmediates.shift()())},!0),MainLoop.setImmediate=func=>{setImmediates.push(func),ENVIRONMENT_IS_WORKER?(Module.setImmediates??=[],Module.setImmediates.push(func),postMessage({target:"setimmediate"})):postMessage("setimmediate","*")}):MainLoop.setImmediate=setImmediate),MainLoop.scheduler=function(){MainLoop.setImmediate(MainLoop.runner)},MainLoop.method="immediate"),0):(err("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1)},_eglSwapInterval=(display,interval)=>62e3!=display?(EGL.setErrorCode(12296),0):(0==interval?_emscripten_set_main_loop_timing(0,0):_emscripten_set_main_loop_timing(1,interval),EGL.setErrorCode(12288),1),_eglTerminate=display=>62e3!=display?(EGL.setErrorCode(12296),0):(EGL.currentContext=0,EGL.currentReadSurface=0,EGL.currentDrawSurface=0,EGL.defaultDisplayInitialized=!1,EGL.setErrorCode(12288),1),_eglWaitClient=()=>(EGL.setErrorCode(12288),1),_eglWaitGL=_eglWaitClient,_eglWaitNative=nativeEngineId=>(EGL.setErrorCode(12288),1),readEmAsmArgsArray=[],readEmAsmArgs=(sigPtr,buf)=>{var ch;for(assert(Array.isArray(readEmAsmArgsArray)),assert(buf%16==0),readEmAsmArgsArray.length=0;ch=HEAPU8[sigPtr++];){var chr=String.fromCharCode(ch),validChars=["d","f","i","p"],chr=(assert(validChars.includes(chr),`Invalid character ${ch}("${chr}") in readEmAsmArgs! Use only [${validChars}], and do not specify "v" for void return argument.`),105!=ch);buf+=(chr&=112!=ch)&&buf%8?4:0,readEmAsmArgsArray.push(112==ch?HEAPU32[buf>>2]:105==ch?HEAP32[buf>>2]:HEAPF64[buf>>3]),buf+=chr?8:4}return readEmAsmArgsArray},runEmAsmFunction=(code,sigPtr,argbuf)=>{sigPtr=readEmAsmArgs(sigPtr,argbuf);return assert(ASM_CONSTS.hasOwnProperty(code),`No EM_ASM constant found at address ${code}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),ASM_CONSTS[code](...sigPtr)},_emscripten_asm_const_int=(code,sigPtr,argbuf)=>runEmAsmFunction(code,sigPtr,argbuf),runMainThreadEmAsm=(emAsmAddr,sigPtr,argbuf,sync)=>{sigPtr=readEmAsmArgs(sigPtr,argbuf);return assert(ASM_CONSTS.hasOwnProperty(emAsmAddr),`No EM_ASM constant found at address ${emAsmAddr}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),ASM_CONSTS[emAsmAddr](...sigPtr)},_emscripten_asm_const_int_sync_on_main_thread=(emAsmAddr,sigPtr,argbuf)=>runMainThreadEmAsm(emAsmAddr,sigPtr,argbuf,1),_emscripten_asm_const_ptr_sync_on_main_thread=(emAsmAddr,sigPtr,argbuf)=>runMainThreadEmAsm(emAsmAddr,sigPtr,argbuf,1),_emscripten_cancel_main_loop=()=>{MainLoop.pause(),MainLoop.func=null},_emscripten_date_now=()=>Date.now(),JSEvents={memcpy(target,src,size){HEAP8.set(HEAP8.subarray(src,src+size),target)},removeAllEventListeners(){for(;JSEvents.eventHandlers.length;)JSEvents._removeHandler(JSEvents.eventHandlers.length-1);JSEvents.deferredCalls=[]},inEventHandler:0,deferredCalls:[],deferCall(targetFunction,precedence,argsList){for(var call of JSEvents.deferredCalls)if(call.targetFunction==targetFunction&&((arrA,arrB)=>{if(arrA.length==arrB.length){for(var i in arrA)if(arrA[i]!=arrB[i])return;return 1}})(call.argsList,argsList))return;JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList}),JSEvents.deferredCalls.sort((x,y)=>x.precedence<y.precedence)},removeDeferredCalls(targetFunction){JSEvents.deferredCalls=JSEvents.deferredCalls.filter(call=>call.targetFunction!=targetFunction)},canPerformEventHandlerRequests(){return navigator.userActivation?navigator.userActivation.isActive:JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls(){if(JSEvents.canPerformEventHandlerRequests()){var call,deferredCalls=JSEvents.deferredCalls;JSEvents.deferredCalls=[];for(call of deferredCalls)call.targetFunction(...call.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(target,eventTypeString)=>{for(var i=0;i<JSEvents.eventHandlers.length;++i)JSEvents.eventHandlers[i].target!=target||eventTypeString&&eventTypeString!=JSEvents.eventHandlers[i].eventTypeString||JSEvents._removeHandler(i--)},_removeHandler(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture),JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler(eventHandler){if(!eventHandler.target)return err("registerOrRemoveHandler: the target element for event handler registration does not exist, when processing the following event handler registration:"),console.dir(eventHandler),-4;if(eventHandler.callbackfunc)eventHandler.eventListenerFunc=function(event){++JSEvents.inEventHandler,JSEvents.currentEventHandler=eventHandler,JSEvents.runDeferredCalls(),eventHandler.handlerFunc(event),JSEvents.runDeferredCalls(),--JSEvents.inEventHandler},eventHandler.target.addEventListener(eventHandler.eventTypeString,eventHandler.eventListenerFunc,eventHandler.useCapture),JSEvents.eventHandlers.push(eventHandler);else for(var i=0;i<JSEvents.eventHandlers.length;++i)JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString&&JSEvents._removeHandler(i--);return 0},getNodeNameForTarget(target){return target?target==window?"#window":target==screen?"#screen":target?.nodeName||"":""},fullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},currentFullscreenStrategy={},maybeCStringToJsString=cString=>2<cString?UTF8ToString(cString):cString,specialHTMLTargets=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0],findEventTarget=target=>(target=maybeCStringToJsString(target),specialHTMLTargets[target]||("undefined"!=typeof document?document.querySelector(target):void 0)),findCanvasEventTarget=findEventTarget,_emscripten_get_canvas_element_size=(target,width,height)=>{target=findCanvasEventTarget(target);if(!target)return-4;HEAP32[width>>2]=target.width,HEAP32[height>>2]=target.height},stackAlloc=sz=>__emscripten_stack_alloc(sz),stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1,ret=stackAlloc(size);return stringToUTF8(str,ret,size),ret},getCanvasElementSize=target=>{var sp=stackSave(),w=stackAlloc(8),h=w+4,target=stringToUTF8OnStack(target.id),target=(_emscripten_get_canvas_element_size(target,w,h),[HEAP32[w>>2],HEAP32[h>>2]]);return stackRestore(sp),target},_emscripten_set_canvas_element_size=(target,width,height)=>{target=findCanvasEventTarget(target);return target?(target.width=width,target.height=height,0):-4},setCanvasElementSize=(target,width,height)=>{var sp,targetInt;target.controlTransferredOffscreen?(sp=stackSave(),targetInt=stringToUTF8OnStack(target.id),_emscripten_set_canvas_element_size(targetInt,width,height),stackRestore(sp)):(target.width=width,target.height=height)},wasmTableMirror=[],getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];return func||(funcPtr>=wasmTableMirror.length&&(wasmTableMirror.length=funcPtr+1),wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)),assert(wasmTable.get(funcPtr)==func,"JavaScript-side Wasm function table mirror is out of date!"),func},registerRestoreOldStyle=canvas=>{var canvasSize=getCanvasElementSize(canvas),oldWidth=canvasSize[0],oldHeight=canvasSize[1],oldCssWidth=canvas.style.width,oldCssHeight=canvas.style.height,oldBackgroundColor=canvas.style.backgroundColor,oldDocumentBackgroundColor=document.body.style.backgroundColor,oldPaddingLeft=canvas.style.paddingLeft,oldPaddingRight=canvas.style.paddingRight,oldPaddingTop=canvas.style.paddingTop,oldPaddingBottom=canvas.style.paddingBottom,oldMarginLeft=canvas.style.marginLeft,oldMarginRight=canvas.style.marginRight,oldMarginTop=canvas.style.marginTop,oldMarginBottom=canvas.style.marginBottom,oldDocumentBodyMargin=document.body.style.margin,oldDocumentOverflow=document.documentElement.style.overflow,oldDocumentScroll=document.body.scroll,oldImageRendering=canvas.style.imageRendering;function restoreOldStyle(){document.fullscreenElement||document.webkitFullscreenElement||(document.removeEventListener("fullscreenchange",restoreOldStyle),document.removeEventListener("webkitfullscreenchange",restoreOldStyle),setCanvasElementSize(canvas,oldWidth,oldHeight),canvas.style.width=oldCssWidth,canvas.style.height=oldCssHeight,canvas.style.backgroundColor=oldBackgroundColor,oldDocumentBackgroundColor||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=oldDocumentBackgroundColor,canvas.style.paddingLeft=oldPaddingLeft,canvas.style.paddingRight=oldPaddingRight,canvas.style.paddingTop=oldPaddingTop,canvas.style.paddingBottom=oldPaddingBottom,canvas.style.marginLeft=oldMarginLeft,canvas.style.marginRight=oldMarginRight,canvas.style.marginTop=oldMarginTop,canvas.style.marginBottom=oldMarginBottom,document.body.style.margin=oldDocumentBodyMargin,document.documentElement.style.overflow=oldDocumentOverflow,document.body.scroll=oldDocumentScroll,canvas.style.imageRendering=oldImageRendering,canvas.GLctxObject&&canvas.GLctxObject.GLctx.viewport(0,0,oldWidth,oldHeight),currentFullscreenStrategy.canvasResizedCallback&&getWasmTableEntry(currentFullscreenStrategy.canvasResizedCallback)(37,0,currentFullscreenStrategy.canvasResizedCallbackUserData))}return document.addEventListener("fullscreenchange",restoreOldStyle),document.addEventListener("webkitfullscreenchange",restoreOldStyle),restoreOldStyle},setLetterbox=(element,topBottom,leftRight)=>{element.style.paddingLeft=element.style.paddingRight=leftRight+"px",element.style.paddingTop=element.style.paddingBottom=topBottom+"px"},getBoundingClientRect=e=>specialHTMLTargets.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0},JSEvents_resizeCanvasForFullscreen=(target,strategy)=>{var restoreOldStyle=registerRestoreOldStyle(target),cssWidth=strategy.softFullscreen?innerWidth:screen.width,cssHeight=strategy.softFullscreen?innerHeight:screen.height,rect=getBoundingClientRect(target),windowedCssWidth=rect.width,rect=rect.height,canvasSize=getCanvasElementSize(target),windowedRttWidth=canvasSize[0],canvasSize=canvasSize[1],windowedCssWidth=(3==strategy.scaleMode?(setLetterbox(target,(cssHeight-rect)/2,(cssWidth-windowedCssWidth)/2),cssWidth=windowedCssWidth,cssHeight=rect):2==strategy.scaleMode&&(cssWidth*canvasSize<windowedRttWidth*cssHeight?(setLetterbox(target,(cssHeight-(windowedCssWidth=canvasSize*cssWidth/windowedRttWidth))/2,0),cssHeight=windowedCssWidth):(setLetterbox(target,0,(cssWidth-(rect=windowedRttWidth*cssHeight/canvasSize))/2),cssWidth=rect)),target.style.backgroundColor||="black",document.body.style.backgroundColor||="black",target.style.width=cssWidth+"px",target.style.height=cssHeight+"px",1==strategy.filteringMode&&(target.style.imageRendering="optimizeSpeed",target.style.imageRendering="-moz-crisp-edges",target.style.imageRendering="-o-crisp-edges",target.style.imageRendering="-webkit-optimize-contrast",target.style.imageRendering="optimize-contrast",target.style.imageRendering="crisp-edges",target.style.imageRendering="pixelated"),2==strategy.canvasResolutionScaleMode?devicePixelRatio:1);return 0!=strategy.canvasResolutionScaleMode&&(setCanvasElementSize(target,windowedRttWidth=cssWidth*windowedCssWidth|0,canvasSize=cssHeight*windowedCssWidth|0),target.GLctxObject)&&target.GLctxObject.GLctx.viewport(0,0,windowedRttWidth,canvasSize),restoreOldStyle},JSEvents_requestFullscreen=(target,strategy)=>{if(0==strategy.scaleMode&&0==strategy.canvasResolutionScaleMode||JSEvents_resizeCanvasForFullscreen(target,strategy),target.requestFullscreen)target.requestFullscreen();else{if(!target.webkitRequestFullscreen)return JSEvents.fullscreenEnabled()?-3:-1;target.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}return(currentFullscreenStrategy=strategy).canvasResizedCallback&&getWasmTableEntry(strategy.canvasResizedCallback)(37,0,strategy.canvasResizedCallbackUserData),0},_emscripten_exit_fullscreen=()=>{if(!JSEvents.fullscreenEnabled())return-1;JSEvents.removeDeferredCalls(JSEvents_requestFullscreen);var d=specialHTMLTargets[1];if(d.exitFullscreen)d.fullscreenElement&&d.exitFullscreen();else{if(!d.webkitExitFullscreen)return-1;d.webkitFullscreenElement&&d.webkitExitFullscreen()}return 0},requestPointerLock=target=>target.requestPointerLock?(target.requestPointerLock(),0):document.body.requestPointerLock?-3:-1,_emscripten_exit_pointerlock=()=>(JSEvents.removeDeferredCalls(requestPointerLock),document.exitPointerLock?(document.exitPointerLock(),0):-1),__emscripten_runtime_keepalive_clear=()=>{noExitRuntime=!1,runtimeKeepaliveCounter=0},_emscripten_force_exit=status=>{warnOnce("emscripten_force_exit cannot actually shut down the runtime, as the build does not have EXIT_RUNTIME set"),__emscripten_runtime_keepalive_clear(),_exit(status)},_emscripten_get_device_pixel_ratio=()=>"number"==typeof devicePixelRatio&&devicePixelRatio||1,_emscripten_get_element_css_size=(target,width,height)=>(target=findEventTarget(target))?(target=getBoundingClientRect(target),HEAPF64[width>>3]=target.width,HEAPF64[height>>3]=target.height,0):-4,fillGamepadEventData=(eventStruct,e)=>{HEAPF64[eventStruct>>3]=e.timestamp;for(var i=0;i<e.axes.length;++i)HEAPF64[eventStruct+8*i+16>>3]=e.axes[i];for(i=0;i<e.buttons.length;++i)"object"==typeof e.buttons[i]?HEAPF64[eventStruct+8*i+528>>3]=e.buttons[i].value:HEAPF64[eventStruct+8*i+528>>3]=e.buttons[i];for(i=0;i<e.buttons.length;++i)"object"==typeof e.buttons[i]?HEAP8[eventStruct+i+1040]=e.buttons[i].pressed:HEAP8[eventStruct+i+1040]=1==e.buttons[i];HEAP8[eventStruct+1104]=e.connected,HEAP32[eventStruct+1108>>2]=e.index,HEAP32[eventStruct+8>>2]=e.axes.length,HEAP32[eventStruct+12>>2]=e.buttons.length,stringToUTF8(e.id,eventStruct+1112,64),stringToUTF8(e.mapping,eventStruct+1176,64)},_emscripten_get_gamepad_status=(index,gamepadState)=>{if(JSEvents.lastGamepadState)return index<0||index>=JSEvents.lastGamepadState.length?-5:JSEvents.lastGamepadState[index]?(fillGamepadEventData(gamepadState,JSEvents.lastGamepadState[index]),0):-7;throw"emscripten_get_gamepad_status() can only be called after having first called emscripten_sample_gamepad_data() and that function has returned EMSCRIPTEN_RESULT_SUCCESS!"},_emscripten_get_num_gamepads=()=>{if(JSEvents.lastGamepadState)return JSEvents.lastGamepadState.length;throw"emscripten_get_num_gamepads() can only be called after having first called emscripten_sample_gamepad_data() and that function has returned EMSCRIPTEN_RESULT_SUCCESS!"},_emscripten_get_screen_size=(width,height)=>{HEAP32[width>>2]=screen.width,HEAP32[height>>2]=screen.height},_glActiveTexture=x0=>GLctx.activeTexture(x0),_emscripten_glActiveTexture=_glActiveTexture,_glAttachShader=(program,shader)=>{GLctx.attachShader(GL.programs[program],GL.shaders[shader])},_emscripten_glAttachShader=_glAttachShader,_glBeginQueryEXT=(target,id)=>{GLctx.disjointTimerQueryExt.beginQueryEXT(target,GL.queries[id])},_emscripten_glBeginQueryEXT=_glBeginQueryEXT,_glBindAttribLocation=(program,index,name)=>{GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))},_emscripten_glBindAttribLocation=_glBindAttribLocation,_glBindBuffer=(target,buffer)=>{GLctx.bindBuffer(target,GL.buffers[buffer])},_emscripten_glBindBuffer=_glBindBuffer,_glBindFramebuffer=(target,framebuffer)=>{GLctx.bindFramebuffer(target,GL.framebuffers[framebuffer])},_emscripten_glBindFramebuffer=_glBindFramebuffer,_glBindRenderbuffer=(target,renderbuffer)=>{GLctx.bindRenderbuffer(target,GL.renderbuffers[renderbuffer])},_emscripten_glBindRenderbuffer=_glBindRenderbuffer,_glBindTexture=(target,texture)=>{GLctx.bindTexture(target,GL.textures[texture])},_emscripten_glBindTexture=_glBindTexture,_glBindVertexArray=vao=>{GLctx.bindVertexArray(GL.vaos[vao])},_glBindVertexArrayOES=_glBindVertexArray,_emscripten_glBindVertexArrayOES=_glBindVertexArray,_glBlendColor=(x0,x1,x2,x3)=>GLctx.blendColor(x0,x1,x2,x3),_emscripten_glBlendColor=_glBlendColor,_glBlendEquation=x0=>GLctx.blendEquation(x0),_emscripten_glBlendEquation=_glBlendEquation,_glBlendEquationSeparate=(x0,x1)=>GLctx.blendEquationSeparate(x0,x1),_emscripten_glBlendEquationSeparate=_glBlendEquationSeparate,_glBlendFunc=(x0,x1)=>GLctx.blendFunc(x0,x1),_emscripten_glBlendFunc=_glBlendFunc,_glBlendFuncSeparate=(x0,x1,x2,x3)=>GLctx.blendFuncSeparate(x0,x1,x2,x3),_emscripten_glBlendFuncSeparate=_glBlendFuncSeparate,_glBufferData=(target,size,data,usage)=>{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)},_emscripten_glBufferData=_glBufferData,_glBufferSubData=(target,offset,size,data)=>{GLctx.bufferSubData(target,offset,HEAPU8.subarray(data,data+size))},_emscripten_glBufferSubData=_glBufferSubData,_glCheckFramebufferStatus=x0=>GLctx.checkFramebufferStatus(x0),_emscripten_glCheckFramebufferStatus=_glCheckFramebufferStatus,_glClear=x0=>GLctx.clear(x0),_emscripten_glClear=_glClear,_glClearColor=(x0,x1,x2,x3)=>GLctx.clearColor(x0,x1,x2,x3),_emscripten_glClearColor=_glClearColor,_glClearDepthf=x0=>GLctx.clearDepth(x0),_emscripten_glClearDepthf=_glClearDepthf,_glClearStencil=x0=>GLctx.clearStencil(x0),_emscripten_glClearStencil=_glClearStencil,_glClipControlEXT=(origin,depth)=>{GLctx.extClipControl.clipControlEXT(origin,depth)},_emscripten_glClipControlEXT=_glClipControlEXT,_glColorMask=(red,green,blue,alpha)=>{GLctx.colorMask(!!red,!!green,!!blue,!!alpha)},_emscripten_glColorMask=_glColorMask,_glCompileShader=shader=>{GLctx.compileShader(GL.shaders[shader])},_emscripten_glCompileShader=_glCompileShader,_glCompressedTexImage2D=(target,level,internalFormat,width,height,border,imageSize,data)=>{GLctx.compressedTexImage2D(target,level,internalFormat,width,height,border,HEAPU8.subarray(data,data+imageSize))},_emscripten_glCompressedTexImage2D=_glCompressedTexImage2D,_glCompressedTexSubImage2D=(target,level,xoffset,yoffset,width,height,format,imageSize,data)=>{GLctx.compressedTexSubImage2D(target,level,xoffset,yoffset,width,height,format,HEAPU8.subarray(data,data+imageSize))},_emscripten_glCompressedTexSubImage2D=_glCompressedTexSubImage2D,_glCopyTexImage2D=(x0,x1,x2,x3,x4,x5,x6,x7)=>GLctx.copyTexImage2D(x0,x1,x2,x3,x4,x5,x6,x7),_emscripten_glCopyTexImage2D=_glCopyTexImage2D,_glCopyTexSubImage2D=(x0,x1,x2,x3,x4,x5,x6,x7)=>GLctx.copyTexSubImage2D(x0,x1,x2,x3,x4,x5,x6,x7),_emscripten_glCopyTexSubImage2D=_glCopyTexSubImage2D,_glCreateProgram=()=>{var id=GL.getNewId(GL.programs),program=GLctx.createProgram();return program.name=id,program.maxUniformLength=program.maxAttributeLength=program.maxUniformBlockNameLength=0,program.uniformIdCounter=1,GL.programs[id]=program,id},_emscripten_glCreateProgram=_glCreateProgram,_glCreateShader=shaderType=>{var id=GL.getNewId(GL.shaders);return GL.shaders[id]=GLctx.createShader(shaderType),id},_emscripten_glCreateShader=_glCreateShader,_glCullFace=x0=>GLctx.cullFace(x0),_emscripten_glCullFace=_glCullFace,_glDeleteBuffers=(n,buffers)=>{for(var i=0;i<n;i++){var id=HEAP32[buffers+4*i>>2],buffer=GL.buffers[id];buffer&&(GLctx.deleteBuffer(buffer),buffer.name=0,GL.buffers[id]=null)}},_emscripten_glDeleteBuffers=_glDeleteBuffers,_glDeleteFramebuffers=(n,framebuffers)=>{for(var i=0;i<n;++i){var id=HEAP32[framebuffers+4*i>>2],framebuffer=GL.framebuffers[id];framebuffer&&(GLctx.deleteFramebuffer(framebuffer),framebuffer.name=0,GL.framebuffers[id]=null)}},_emscripten_glDeleteFramebuffers=_glDeleteFramebuffers,_glDeleteProgram=id=>{var program;id&&((program=GL.programs[id])?(GLctx.deleteProgram(program),program.name=0,GL.programs[id]=null):GL.recordError(1281))},_emscripten_glDeleteProgram=_glDeleteProgram,_glDeleteQueriesEXT=(n,ids)=>{for(var i=0;i<n;i++){var id=HEAP32[ids+4*i>>2],query=GL.queries[id];query&&(GLctx.disjointTimerQueryExt.deleteQueryEXT(query),GL.queries[id]=null)}},_emscripten_glDeleteQueriesEXT=_glDeleteQueriesEXT,_glDeleteRenderbuffers=(n,renderbuffers)=>{for(var i=0;i<n;i++){var id=HEAP32[renderbuffers+4*i>>2],renderbuffer=GL.renderbuffers[id];renderbuffer&&(GLctx.deleteRenderbuffer(renderbuffer),renderbuffer.name=0,GL.renderbuffers[id]=null)}},_emscripten_glDeleteRenderbuffers=_glDeleteRenderbuffers,_glDeleteShader=id=>{var shader;id&&((shader=GL.shaders[id])?(GLctx.deleteShader(shader),GL.shaders[id]=null):GL.recordError(1281))},_emscripten_glDeleteShader=_glDeleteShader,_glDeleteTextures=(n,textures)=>{for(var i=0;i<n;i++){var id=HEAP32[textures+4*i>>2],texture=GL.textures[id];texture&&(GLctx.deleteTexture(texture),texture.name=0,GL.textures[id]=null)}},_emscripten_glDeleteTextures=_glDeleteTextures,_glDeleteVertexArrays=(n,vaos)=>{for(var i=0;i<n;i++){var id=HEAP32[vaos+4*i>>2];GLctx.deleteVertexArray(GL.vaos[id]),GL.vaos[id]=null}},_glDeleteVertexArraysOES=_glDeleteVertexArrays,_emscripten_glDeleteVertexArraysOES=_glDeleteVertexArrays,_glDepthFunc=x0=>GLctx.depthFunc(x0),_emscripten_glDepthFunc=_glDepthFunc,_glDepthMask=flag=>{GLctx.depthMask(!!flag)},_emscripten_glDepthMask=_glDepthMask,_glDepthRangef=(x0,x1)=>GLctx.depthRange(x0,x1),_emscripten_glDepthRangef=_glDepthRangef,_glDetachShader=(program,shader)=>{GLctx.detachShader(GL.programs[program],GL.shaders[shader])},_emscripten_glDetachShader=_glDetachShader,_glDisable=x0=>GLctx.disable(x0),_emscripten_glDisable=_glDisable,_glDisableVertexAttribArray=index=>{GLctx.disableVertexAttribArray(index)},_emscripten_glDisableVertexAttribArray=_glDisableVertexAttribArray,_glDrawArrays=(mode,first,count)=>{GLctx.drawArrays(mode,first,count)},_emscripten_glDrawArrays=_glDrawArrays,_glDrawArraysInstanced=(mode,first,count,primcount)=>{GLctx.drawArraysInstanced(mode,first,count,primcount)},_glDrawArraysInstancedANGLE=_glDrawArraysInstanced,_emscripten_glDrawArraysInstancedANGLE=_glDrawArraysInstanced,tempFixedLengthArray=[],_glDrawBuffers=(n,bufs)=>{for(var bufArray=tempFixedLengthArray[n],i=0;i<n;i++)bufArray[i]=HEAP32[bufs+4*i>>2];GLctx.drawBuffers(bufArray)},_glDrawBuffersWEBGL=_glDrawBuffers,_emscripten_glDrawBuffersWEBGL=_glDrawBuffers,_glDrawElements=(mode,count,type,indices)=>{GLctx.drawElements(mode,count,type,indices)},_emscripten_glDrawElements=_glDrawElements,_glDrawElementsInstanced=(mode,count,type,indices,primcount)=>{GLctx.drawElementsInstanced(mode,count,type,indices,primcount)},_glDrawElementsInstancedANGLE=_glDrawElementsInstanced,_emscripten_glDrawElementsInstancedANGLE=_glDrawElementsInstanced,_glEnable=x0=>GLctx.enable(x0),_emscripten_glEnable=_glEnable,_glEnableVertexAttribArray=index=>{GLctx.enableVertexAttribArray(index)},_emscripten_glEnableVertexAttribArray=_glEnableVertexAttribArray,_glEndQueryEXT=target=>{GLctx.disjointTimerQueryExt.endQueryEXT(target)},_emscripten_glEndQueryEXT=_glEndQueryEXT,_glFinish=()=>GLctx.finish(),_emscripten_glFinish=_glFinish,_glFlush=()=>GLctx.flush(),_emscripten_glFlush=_glFlush,_glFramebufferRenderbuffer=(target,attachment,renderbuffertarget,renderbuffer)=>{GLctx.framebufferRenderbuffer(target,attachment,renderbuffertarget,GL.renderbuffers[renderbuffer])},_emscripten_glFramebufferRenderbuffer=_glFramebufferRenderbuffer,_glFramebufferTexture2D=(target,attachment,textarget,texture,level)=>{GLctx.framebufferTexture2D(target,attachment,textarget,GL.textures[texture],level)},_emscripten_glFramebufferTexture2D=_glFramebufferTexture2D,_glFrontFace=x0=>GLctx.frontFace(x0),_emscripten_glFrontFace=_glFrontFace,_glGenBuffers=(n,buffers)=>{GL.genObject(n,buffers,"createBuffer",GL.buffers)},_emscripten_glGenBuffers=_glGenBuffers,_glGenFramebuffers=(n,ids)=>{GL.genObject(n,ids,"createFramebuffer",GL.framebuffers)},_emscripten_glGenFramebuffers=_glGenFramebuffers,_glGenQueriesEXT=(n,ids)=>{for(var i=0;i<n;i++){var query=GLctx.disjointTimerQueryExt.createQueryEXT();if(!query){for(GL.recordError(1282);i<n;)HEAP32[ids+4*i++>>2]=0;return}var id=GL.getNewId(GL.queries);query.name=id,GL.queries[id]=query,HEAP32[ids+4*i>>2]=id}},_emscripten_glGenQueriesEXT=_glGenQueriesEXT,_glGenRenderbuffers=(n,renderbuffers)=>{GL.genObject(n,renderbuffers,"createRenderbuffer",GL.renderbuffers)},_emscripten_glGenRenderbuffers=_glGenRenderbuffers,_glGenTextures=(n,textures)=>{GL.genObject(n,textures,"createTexture",GL.textures)},_emscripten_glGenTextures=_glGenTextures,_glGenVertexArrays=(n,arrays)=>{GL.genObject(n,arrays,"createVertexArray",GL.vaos)},_glGenVertexArraysOES=_glGenVertexArrays,_emscripten_glGenVertexArraysOES=_glGenVertexArrays,_glGenerateMipmap=x0=>GLctx.generateMipmap(x0),_emscripten_glGenerateMipmap=_glGenerateMipmap,__glGetActiveAttribOrUniform=(funcName,program,index,bufSize,length,size,type,name)=>{program=GL.programs[program];funcName=GLctx[funcName](program,index);funcName&&(program=name&&stringToUTF8(funcName.name,name,bufSize),length&&(HEAP32[length>>2]=program),size&&(HEAP32[size>>2]=funcName.size),type)&&(HEAP32[type>>2]=funcName.type)},_glGetActiveAttrib=(program,index,bufSize,length,size,type,name)=>{__glGetActiveAttribOrUniform("getActiveAttrib",program,index,bufSize,length,size,type,name)},_emscripten_glGetActiveAttrib=_glGetActiveAttrib,_glGetActiveUniform=(program,index,bufSize,length,size,type,name)=>{__glGetActiveAttribOrUniform("getActiveUniform",program,index,bufSize,length,size,type,name)},_emscripten_glGetActiveUniform=_glGetActiveUniform,_glGetAttachedShaders=(program,maxCount,count,shaders)=>{var result=GLctx.getAttachedShaders(GL.programs[program]),len=result.length;HEAP32[count>>2]=len=maxCount<len?maxCount:len;for(var i=0;i<len;++i){var id=GL.shaders.indexOf(result[i]);HEAP32[shaders+4*i>>2]=id}},_emscripten_glGetAttachedShaders=_glGetAttachedShaders,_glGetAttribLocation=(program,name)=>GLctx.getAttribLocation(GL.programs[program],UTF8ToString(name)),_emscripten_glGetAttribLocation=_glGetAttribLocation,readI53FromI64=ptr=>HEAPU32[ptr>>2]+4294967296*HEAP32[ptr+4>>2],readI53FromU64=ptr=>HEAPU32[ptr>>2]+4294967296*HEAPU32[ptr+4>>2],writeI53ToI64=(ptr,num)=>{HEAPU32[ptr>>2]=num;var lower=HEAPU32[ptr>>2],lower=(HEAPU32[ptr+4>>2]=(num-lower)/4294967296,(0<=num?readI53FromU64:readI53FromI64)(ptr)),ptr=ptr>>2;lower!=num&&warnOnce(`writeI53ToI64() out of range: serialized JS Number ${num} to Wasm heap as bytes lo=${ptrToString(HEAPU32[ptr])}, hi=${ptrToString(HEAPU32[1+ptr])}, which deserializes back to ${lower} instead!`)},emscriptenWebGLGet=(name_,p,type)=>{if(p){var ret=void 0;switch(name_){case 36346:ret=1;break;case 36344:return void(0!=type&&1!=type&&GL.recordError(1280));case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467),ret=formats?formats.length:0}if(void 0===ret){var result=GLctx.getParameter(name_);switch(typeof result){case"number":ret=result;break;case"boolean":ret=result?1:0;break;case"string":return void GL.recordError(1280);case"object":if(null===result)switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:ret=0;break;default:return void GL.recordError(1280)}else{if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i)switch(type){case 0:HEAP32[p+4*i>>2]=result[i];break;case 2:HEAPF32[p+4*i>>2]=result[i];break;case 4:HEAP8[p+i]=result[i]?1:0}return}try{ret=0|result.name}catch(e){return GL.recordError(1280),void err(`GL_INVALID_ENUM in glGet${type}v: Unknown object returned from WebGL getParameter(${name_})! (error: ${e})`)}}break;default:return GL.recordError(1280),void err(`GL_INVALID_ENUM in glGet${type}v: Native code calling glGet${type}v(${name_}) and it returns ${result} of type ${typeof result}!`)}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p]=ret?1:0}}else GL.recordError(1281)},_glGetBooleanv=(name_,p)=>emscriptenWebGLGet(name_,p,4),_emscripten_glGetBooleanv=_glGetBooleanv,_glGetBufferParameteriv=(target,value,data)=>{data?HEAP32[data>>2]=GLctx.getBufferParameter(target,value):GL.recordError(1281)},_emscripten_glGetBufferParameteriv=_glGetBufferParameteriv,_glGetError=()=>{var error=GLctx.getError()||GL.lastError;return GL.lastError=0,error},_emscripten_glGetError=_glGetError,_glGetFloatv=(name_,p)=>emscriptenWebGLGet(name_,p,2),_emscripten_glGetFloatv=_glGetFloatv,_glGetFramebufferAttachmentParameteriv=(target,attachment,pname,params)=>{target=GLctx.getFramebufferAttachmentParameter(target,attachment,pname);(target instanceof WebGLRenderbuffer||target instanceof WebGLTexture)&&(target=0|target.name),HEAP32[params>>2]=target},_emscripten_glGetFramebufferAttachmentParameteriv=_glGetFramebufferAttachmentParameteriv,_glGetIntegerv=(name_,p)=>emscriptenWebGLGet(name_,p,0),_emscripten_glGetIntegerv=_glGetIntegerv,_glGetProgramInfoLog=(program,maxLength,length,infoLog)=>{program=GLctx.getProgramInfoLog(GL.programs[program]),null===program&&(program="(unknown error)"),program=0<maxLength&&infoLog?stringToUTF8(program,infoLog,maxLength):0;length&&(HEAP32[length>>2]=program)},_emscripten_glGetProgramInfoLog=_glGetProgramInfoLog,_glGetProgramiv=(program,pname,p)=>{if(p)if(program>=GL.counter)GL.recordError(1281);else if(program=GL.programs[program],35716==pname){var log=GLctx.getProgramInfoLog(program);HEAP32[p>>2]=(log=null===log?"(unknown error)":log).length+1}else if(35719==pname){if(!program.maxUniformLength)for(var numActiveUniforms=GLctx.getProgramParameter(program,35718),i=0;i<numActiveUniforms;++i)program.maxUniformLength=Math.max(program.maxUniformLength,GLctx.getActiveUniform(program,i).name.length+1);HEAP32[p>>2]=program.maxUniformLength}else if(35722==pname){if(!program.maxAttributeLength)for(var numActiveAttributes=GLctx.getProgramParameter(program,35721),i=0;i<numActiveAttributes;++i)program.maxAttributeLength=Math.max(program.maxAttributeLength,GLctx.getActiveAttrib(program,i).name.length+1);HEAP32[p>>2]=program.maxAttributeLength}else if(35381==pname){if(!program.maxUniformBlockNameLength)for(var numActiveUniformBlocks=GLctx.getProgramParameter(program,35382),i=0;i<numActiveUniformBlocks;++i)program.maxUniformBlockNameLength=Math.max(program.maxUniformBlockNameLength,GLctx.getActiveUniformBlockName(program,i).length+1);HEAP32[p>>2]=program.maxUniformBlockNameLength}else HEAP32[p>>2]=GLctx.getProgramParameter(program,pname);else GL.recordError(1281)},_emscripten_glGetProgramiv=_glGetProgramiv,_glGetQueryObjecti64vEXT=(id,pname,params)=>{params?(id=GL.queries[id],id=GLctx.disjointTimerQueryExt.getQueryObjectEXT(id,pname),writeI53ToI64(params,"boolean"==typeof id?id?1:0:id)):GL.recordError(1281)},_emscripten_glGetQueryObjecti64vEXT=_glGetQueryObjecti64vEXT,_glGetQueryObjectivEXT=(id,pname,params)=>{params?(id=GL.queries[id],id=GLctx.disjointTimerQueryExt.getQueryObjectEXT(id,pname),HEAP32[params>>2]="boolean"==typeof id?id?1:0:id):GL.recordError(1281)},_emscripten_glGetQueryObjectivEXT=_glGetQueryObjectivEXT,_glGetQueryObjectui64vEXT=_glGetQueryObjecti64vEXT,_emscripten_glGetQueryObjectui64vEXT=_glGetQueryObjecti64vEXT,_glGetQueryObjectuivEXT=_glGetQueryObjectivEXT,_emscripten_glGetQueryObjectuivEXT=_glGetQueryObjectivEXT,_glGetQueryivEXT=(target,pname,params)=>{params?HEAP32[params>>2]=GLctx.disjointTimerQueryExt.getQueryEXT(target,pname):GL.recordError(1281)},_emscripten_glGetQueryivEXT=_glGetQueryivEXT,_glGetRenderbufferParameteriv=(target,pname,params)=>{params?HEAP32[params>>2]=GLctx.getRenderbufferParameter(target,pname):GL.recordError(1281)},_emscripten_glGetRenderbufferParameteriv=_glGetRenderbufferParameteriv,_glGetShaderInfoLog=(shader,maxLength,length,infoLog)=>{shader=GLctx.getShaderInfoLog(GL.shaders[shader]),null===shader&&(shader="(unknown error)"),shader=0<maxLength&&infoLog?stringToUTF8(shader,infoLog,maxLength):0;length&&(HEAP32[length>>2]=shader)},_emscripten_glGetShaderInfoLog=_glGetShaderInfoLog,_glGetShaderPrecisionFormat=(shaderType,precisionType,range,precision)=>{shaderType=GLctx.getShaderPrecisionFormat(shaderType,precisionType);HEAP32[range>>2]=shaderType.rangeMin,HEAP32[range+4>>2]=shaderType.rangeMax,HEAP32[precision>>2]=shaderType.precision},_emscripten_glGetShaderPrecisionFormat=_glGetShaderPrecisionFormat,_glGetShaderSource=(shader,bufSize,length,source)=>{var shader=GLctx.getShaderSource(GL.shaders[shader]);shader&&(shader=0<bufSize&&source?stringToUTF8(shader,source,bufSize):0,length)&&(HEAP32[length>>2]=shader)},_emscripten_glGetShaderSource=_glGetShaderSource,_glGetShaderiv=(shader,pname,p)=>{var log;p?35716==pname?(log=(log=null===(log=GLctx.getShaderInfoLog(GL.shaders[shader]))?"(unknown error)":log)?log.length+1:0,HEAP32[p>>2]=log):35720==pname?(log=(log=GLctx.getShaderSource(GL.shaders[shader]))?log.length+1:0,HEAP32[p>>2]=log):HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname):GL.recordError(1281)},_emscripten_glGetShaderiv=_glGetShaderiv,webglGetExtensions=function(){var exts=getEmscriptenSupportedExtensions(GLctx);return exts=exts.concat(exts.map(e=>"GL_"+e))},_glGetString=name_=>{if(!(ret=GL.stringCache[name_])){switch(name_){case 7939:ret=stringToNewUTF8(webglGetExtensions().join(" "));break;case 7936:case 7937:case 37445:case 37446:var s=GLctx.getParameter(name_);s||GL.recordError(1280),ret=s?stringToNewUTF8(s):0;break;case 7938:var s=GLctx.getParameter(7938),ret=stringToNewUTF8(`OpenGL ES 2.0 (${s})`);break;case 35724:var s=GLctx.getParameter(35724),ver_num=s.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==ver_num&&(3==ver_num[1].length&&(ver_num[1]=ver_num[1]+"0"),s=`OpenGL ES GLSL ES ${ver_num[1]} (${s})`),ret=stringToNewUTF8(s);break;default:GL.recordError(1280)}GL.stringCache[name_]=ret}return ret},_emscripten_glGetString=_glGetString,_glGetTexParameterfv=(target,pname,params)=>{params?HEAPF32[params>>2]=GLctx.getTexParameter(target,pname):GL.recordError(1281)},_emscripten_glGetTexParameterfv=_glGetTexParameterfv,_glGetTexParameteriv=(target,pname,params)=>{params?HEAP32[params>>2]=GLctx.getTexParameter(target,pname):GL.recordError(1281)},_emscripten_glGetTexParameteriv=_glGetTexParameteriv,jstoi_q=str=>parseInt(str),webglGetLeftBracePos=name=>"]"==name.slice(-1)&&name.lastIndexOf("["),webglPrepareUniformLocationsBeforeFirstUse=program=>{var j,uniformLocsById=program.uniformLocsById,uniformSizeAndIdsByName=program.uniformSizeAndIdsByName;if(!uniformLocsById){program.uniformLocsById=uniformLocsById={},program.uniformArrayNamesById={};for(var numActiveUniforms=GLctx.getProgramParameter(program,35718),i=0;i<numActiveUniforms;++i){var u=GLctx.getActiveUniform(program,i),nm=u.name,sz=u.size,u=webglGetLeftBracePos(nm),arrayName=0<u?nm.slice(0,u):nm,id=program.uniformIdCounter;for(program.uniformIdCounter+=sz,uniformSizeAndIdsByName[arrayName]=[sz,id],j=0;j<sz;++j)uniformLocsById[id]=j,program.uniformArrayNamesById[id++]=arrayName}}},_glGetUniformLocation=(program,name)=>{if(name=UTF8ToString(name),program=GL.programs[program]){webglPrepareUniformLocationsBeforeFirstUse(program);var uniformLocsById=program.uniformLocsById,arrayIndex=0,uniformBaseName=name,leftBrace=webglGetLeftBracePos(name),leftBrace=(0<leftBrace&&(arrayIndex=jstoi_q(name.slice(leftBrace+1))>>>0,uniformBaseName=name.slice(0,leftBrace)),program.uniformSizeAndIdsByName[uniformBaseName]);if(leftBrace&&arrayIndex<leftBrace[0]&&(uniformLocsById[arrayIndex+=leftBrace[1]]=uniformLocsById[arrayIndex]||GLctx.getUniformLocation(program,name)))return arrayIndex}else GL.recordError(1281);return-1},_emscripten_glGetUniformLocation=_glGetUniformLocation,webglGetUniformLocation=location=>{var webglLoc,p=GLctx.currentProgram;if(p)return"number"==typeof(webglLoc=p.uniformLocsById[location])&&(p.uniformLocsById[location]=webglLoc=GLctx.getUniformLocation(p,p.uniformArrayNamesById[location]+(0<webglLoc?`[${webglLoc}]`:""))),webglLoc;GL.recordError(1282)},emscriptenWebGLGetUniform=(program,location,params,type)=>{if(params){program=GL.programs[program],webglPrepareUniformLocationsBeforeFirstUse(program);var data=GLctx.getUniform(program,webglGetUniformLocation(location));if("number"==typeof data||"boolean"==typeof data)switch(type){case 0:HEAP32[params>>2]=data;break;case 2:HEAPF32[params>>2]=data}else for(var i=0;i<data.length;i++)switch(type){case 0:HEAP32[params+4*i>>2]=data[i];break;case 2:HEAPF32[params+4*i>>2]=data[i]}}else GL.recordError(1281)},_glGetUniformfv=(program,location,params)=>{emscriptenWebGLGetUniform(program,location,params,2)},_emscripten_glGetUniformfv=_glGetUniformfv,_glGetUniformiv=(program,location,params)=>{emscriptenWebGLGetUniform(program,location,params,0)},_emscripten_glGetUniformiv=_glGetUniformiv,_glGetVertexAttribPointerv=(index,pname,pointer)=>{pointer?HEAP32[pointer>>2]=GLctx.getVertexAttribOffset(index,pname):GL.recordError(1281)},_emscripten_glGetVertexAttribPointerv=_glGetVertexAttribPointerv,emscriptenWebGLGetVertexAttrib=(index,pname,params,type)=>{if(params){var data=GLctx.getVertexAttrib(index,pname);if(34975==pname)HEAP32[params>>2]=data&&data.name;else if("number"==typeof data||"boolean"==typeof data)switch(type){case 0:HEAP32[params>>2]=data;break;case 2:HEAPF32[params>>2]=data;break;case 5:HEAP32[params>>2]=Math.fround(data)}else for(var i=0;i<data.length;i++)switch(type){case 0:HEAP32[params+4*i>>2]=data[i];break;case 2:HEAPF32[params+4*i>>2]=data[i];break;case 5:HEAP32[params+4*i>>2]=Math.fround(data[i])}}else GL.recordError(1281)},_glGetVertexAttribfv=(index,pname,params)=>{emscriptenWebGLGetVertexAttrib(index,pname,params,2)},_emscripten_glGetVertexAttribfv=_glGetVertexAttribfv,_glGetVertexAttribiv=(index,pname,params)=>{emscriptenWebGLGetVertexAttrib(index,pname,params,5)},_emscripten_glGetVertexAttribiv=_glGetVertexAttribiv,_glHint=(x0,x1)=>GLctx.hint(x0,x1),_emscripten_glHint=_glHint,_glIsBuffer=buffer=>{buffer=GL.buffers[buffer];return buffer?GLctx.isBuffer(buffer):0},_emscripten_glIsBuffer=_glIsBuffer,_glIsEnabled=x0=>GLctx.isEnabled(x0),_emscripten_glIsEnabled=_glIsEnabled,_glIsFramebuffer=framebuffer=>{framebuffer=GL.framebuffers[framebuffer];return framebuffer?GLctx.isFramebuffer(framebuffer):0},_emscripten_glIsFramebuffer=_glIsFramebuffer,_glIsProgram=program=>(program=GL.programs[program])?GLctx.isProgram(program):0,_emscripten_glIsProgram=_glIsProgram,_glIsQueryEXT=id=>{id=GL.queries[id];return id?GLctx.disjointTimerQueryExt.isQueryEXT(id):0},_emscripten_glIsQueryEXT=_glIsQueryEXT,_glIsRenderbuffer=renderbuffer=>{renderbuffer=GL.renderbuffers[renderbuffer];return renderbuffer?GLctx.isRenderbuffer(renderbuffer):0},_emscripten_glIsRenderbuffer=_glIsRenderbuffer,_glIsShader=shader=>{shader=GL.shaders[shader];return shader?GLctx.isShader(shader):0},_emscripten_glIsShader=_glIsShader,_glIsTexture=id=>{id=GL.textures[id];return id?GLctx.isTexture(id):0},_emscripten_glIsTexture=_glIsTexture,_glIsVertexArray=array=>{array=GL.vaos[array];return array?GLctx.isVertexArray(array):0},_glIsVertexArrayOES=_glIsVertexArray,_emscripten_glIsVertexArrayOES=_glIsVertexArray,_glLineWidth=x0=>GLctx.lineWidth(x0),_emscripten_glLineWidth=_glLineWidth,_glLinkProgram=program=>{program=GL.programs[program],GLctx.linkProgram(program),program.uniformLocsById=0,program.uniformSizeAndIdsByName={}},_emscripten_glLinkProgram=_glLinkProgram,_glPixelStorei=(pname,param)=>{3317==pname?GL.unpackAlignment=param:3314==pname&&(GL.unpackRowLength=param),GLctx.pixelStorei(pname,param)},_emscripten_glPixelStorei=_glPixelStorei,_glPolygonModeWEBGL=(face,mode)=>{GLctx.webglPolygonMode.polygonModeWEBGL(face,mode)},_emscripten_glPolygonModeWEBGL=_glPolygonModeWEBGL,_glPolygonOffset=(x0,x1)=>GLctx.polygonOffset(x0,x1),_emscripten_glPolygonOffset=_glPolygonOffset,_glPolygonOffsetClampEXT=(factor,units,clamp)=>{GLctx.extPolygonOffsetClamp.polygonOffsetClampEXT(factor,units,clamp)},_emscripten_glPolygonOffsetClampEXT=_glPolygonOffsetClampEXT,_glQueryCounterEXT=(id,target)=>{GLctx.disjointTimerQueryExt.queryCounterEXT(GL.queries[id],target)},_emscripten_glQueryCounterEXT=_glQueryCounterEXT,computeUnpackAlignedImageSize=(width,height,sizePerPixel)=>height*((GL.unpackRowLength||width)*sizePerPixel+(height=GL.unpackAlignment)-1&-height),colorChannelsInGlTextureFormat=format=>({5:3,6:4,8:2,29502:3,29504:4})[format-6402]||1,heapObjectForWebGLType=type=>1==(type-=5120)?HEAPU8:4==type?HEAP32:6==type?HEAPF32:5==type||28922==type?HEAPU32:HEAPU16,toTypedArrayIndex=(pointer,heap)=>pointer>>>31-Math.clz32(heap.BYTES_PER_ELEMENT),emscriptenWebGLGetTexPixelData=(type,format,width,height,pixels,internalFormat)=>{type=heapObjectForWebGLType(type),format=colorChannelsInGlTextureFormat(format)*type.BYTES_PER_ELEMENT,width=computeUnpackAlignedImageSize(width,height,format);return type.subarray(toTypedArrayIndex(pixels,type),toTypedArrayIndex(pixels+width,type))},_glReadPixels=(x,y,width,height,format,type,pixels)=>{pixels=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,format);pixels?GLctx.readPixels(x,y,width,height,format,type,pixels):GL.recordError(1280)},_emscripten_glReadPixels=_glReadPixels,_glReleaseShaderCompiler=()=>{},_emscripten_glReleaseShaderCompiler=_glReleaseShaderCompiler,_glRenderbufferStorage=(x0,x1,x2,x3)=>GLctx.renderbufferStorage(x0,x1,x2,x3),_emscripten_glRenderbufferStorage=_glRenderbufferStorage,_glSampleCoverage=(value,invert)=>{GLctx.sampleCoverage(value,!!invert)},_emscripten_glSampleCoverage=_glSampleCoverage,_glScissor=(x0,x1,x2,x3)=>GLctx.scissor(x0,x1,x2,x3),_emscripten_glScissor=_glScissor,_glShaderBinary=(count,shaders,binaryformat,binary,length)=>{GL.recordError(1280)},_emscripten_glShaderBinary=_glShaderBinary,_glShaderSource=(shader,count,string,length)=>{count=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],count)},_emscripten_glShaderSource=_glShaderSource,_glStencilFunc=(x0,x1,x2)=>GLctx.stencilFunc(x0,x1,x2),_emscripten_glStencilFunc=_glStencilFunc,_glStencilFuncSeparate=(x0,x1,x2,x3)=>GLctx.stencilFuncSeparate(x0,x1,x2,x3),_emscripten_glStencilFuncSeparate=_glStencilFuncSeparate,_glStencilMask=x0=>GLctx.stencilMask(x0),_emscripten_glStencilMask=_glStencilMask,_glStencilMaskSeparate=(x0,x1)=>GLctx.stencilMaskSeparate(x0,x1),_emscripten_glStencilMaskSeparate=_glStencilMaskSeparate,_glStencilOp=(x0,x1,x2)=>GLctx.stencilOp(x0,x1,x2),_emscripten_glStencilOp=_glStencilOp,_glStencilOpSeparate=(x0,x1,x2,x3)=>GLctx.stencilOpSeparate(x0,x1,x2,x3),_emscripten_glStencilOpSeparate=_glStencilOpSeparate,_glTexImage2D=(target,level,internalFormat,width,height,border,format,type,pixels)=>{pixels=pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null;GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)},_emscripten_glTexImage2D=_glTexImage2D,_glTexParameterf=(x0,x1,x2)=>GLctx.texParameterf(x0,x1,x2),_emscripten_glTexParameterf=_glTexParameterf,_glTexParameterfv=(target,pname,params)=>{params=HEAPF32[params>>2];GLctx.texParameterf(target,pname,params)},_emscripten_glTexParameterfv=_glTexParameterfv,_glTexParameteri=(x0,x1,x2)=>GLctx.texParameteri(x0,x1,x2),_emscripten_glTexParameteri=_glTexParameteri,_glTexParameteriv=(target,pname,params)=>{params=HEAP32[params>>2];GLctx.texParameteri(target,pname,params)},_emscripten_glTexParameteriv=_glTexParameteriv,_glTexSubImage2D=(target,level,xoffset,yoffset,width,height,format,type,pixels)=>{pixels=pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0):null;GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)},_emscripten_glTexSubImage2D=_glTexSubImage2D,_glUniform1f=(location,v0)=>{GLctx.uniform1f(webglGetUniformLocation(location),v0)},_emscripten_glUniform1f=_glUniform1f,miniTempWebGLFloatBuffers=[],_glUniform1fv=(location,count,value)=>{if(count<=288)for(var view=miniTempWebGLFloatBuffers[count],i=0;i<count;++i)view[i]=HEAPF32[value+4*i>>2];else view=HEAPF32.subarray(value>>2,value+4*count>>2);GLctx.uniform1fv(webglGetUniformLocation(location),view)},_emscripten_glUniform1fv=_glUniform1fv,_glUniform1i=(location,v0)=>{GLctx.uniform1i(webglGetUniformLocation(location),v0)},_emscripten_glUniform1i=_glUniform1i,miniTempWebGLIntBuffers=[],_glUniform1iv=(location,count,value)=>{if(count<=288)for(var view=miniTempWebGLIntBuffers[count],i=0;i<count;++i)view[i]=HEAP32[value+4*i>>2];else view=HEAP32.subarray(value>>2,value+4*count>>2);GLctx.uniform1iv(webglGetUniformLocation(location),view)},_emscripten_glUniform1iv=_glUniform1iv,_glUniform2f=(location,v0,v1)=>{GLctx.uniform2f(webglGetUniformLocation(location),v0,v1)},_emscripten_glUniform2f=_glUniform2f,_glUniform2fv=(location,count,value)=>{if(count<=144)for(var view=miniTempWebGLFloatBuffers[count*=2],i=0;i<count;i+=2)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2];else view=HEAPF32.subarray(value>>2,value+8*count>>2);GLctx.uniform2fv(webglGetUniformLocation(location),view)},_emscripten_glUniform2fv=_glUniform2fv,_glUniform2i=(location,v0,v1)=>{GLctx.uniform2i(webglGetUniformLocation(location),v0,v1)},_emscripten_glUniform2i=_glUniform2i,_glUniform2iv=(location,count,value)=>{if(count<=144)for(var view=miniTempWebGLIntBuffers[count*=2],i=0;i<count;i+=2)view[i]=HEAP32[value+4*i>>2],view[i+1]=HEAP32[value+(4*i+4)>>2];else view=HEAP32.subarray(value>>2,value+8*count>>2);GLctx.uniform2iv(webglGetUniformLocation(location),view)},_emscripten_glUniform2iv=_glUniform2iv,_glUniform3f=(location,v0,v1,v2)=>{GLctx.uniform3f(webglGetUniformLocation(location),v0,v1,v2)},_emscripten_glUniform3f=_glUniform3f,_glUniform3fv=(location,count,value)=>{if(count<=96)for(var view=miniTempWebGLFloatBuffers[count*=3],i=0;i<count;i+=3)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2],view[i+2]=HEAPF32[value+(4*i+8)>>2];else view=HEAPF32.subarray(value>>2,value+12*count>>2);GLctx.uniform3fv(webglGetUniformLocation(location),view)},_emscripten_glUniform3fv=_glUniform3fv,_glUniform3i=(location,v0,v1,v2)=>{GLctx.uniform3i(webglGetUniformLocation(location),v0,v1,v2)},_emscripten_glUniform3i=_glUniform3i,_glUniform3iv=(location,count,value)=>{if(count<=96)for(var view=miniTempWebGLIntBuffers[count*=3],i=0;i<count;i+=3)view[i]=HEAP32[value+4*i>>2],view[i+1]=HEAP32[value+(4*i+4)>>2],view[i+2]=HEAP32[value+(4*i+8)>>2];else view=HEAP32.subarray(value>>2,value+12*count>>2);GLctx.uniform3iv(webglGetUniformLocation(location),view)},_emscripten_glUniform3iv=_glUniform3iv,_glUniform4f=(location,v0,v1,v2,v3)=>{GLctx.uniform4f(webglGetUniformLocation(location),v0,v1,v2,v3)},_emscripten_glUniform4f=_glUniform4f,_glUniform4fv=(location,count,value)=>{if(count<=72){var view=miniTempWebGLFloatBuffers[4*count],heap=HEAPF32;value>>=2,count*=4;for(var i=0;i<count;i+=4){var dst=value+i;view[i]=heap[dst],view[i+1]=heap[dst+1],view[i+2]=heap[dst+2],view[i+3]=heap[dst+3]}}else view=HEAPF32.subarray(value>>2,value+16*count>>2);GLctx.uniform4fv(webglGetUniformLocation(location),view)},_emscripten_glUniform4fv=_glUniform4fv,_glUniform4i=(location,v0,v1,v2,v3)=>{GLctx.uniform4i(webglGetUniformLocation(location),v0,v1,v2,v3)},_emscripten_glUniform4i=_glUniform4i,_glUniform4iv=(location,count,value)=>{if(count<=72)for(var view=miniTempWebGLIntBuffers[count*=4],i=0;i<count;i+=4)view[i]=HEAP32[value+4*i>>2],view[i+1]=HEAP32[value+(4*i+4)>>2],view[i+2]=HEAP32[value+(4*i+8)>>2],view[i+3]=HEAP32[value+(4*i+12)>>2];else view=HEAP32.subarray(value>>2,value+16*count>>2);GLctx.uniform4iv(webglGetUniformLocation(location),view)},_emscripten_glUniform4iv=_glUniform4iv,_glUniformMatrix2fv=(location,count,transpose,value)=>{if(count<=72)for(var view=miniTempWebGLFloatBuffers[count*=4],i=0;i<count;i+=4)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2],view[i+2]=HEAPF32[value+(4*i+8)>>2],view[i+3]=HEAPF32[value+(4*i+12)>>2];else view=HEAPF32.subarray(value>>2,value+16*count>>2);GLctx.uniformMatrix2fv(webglGetUniformLocation(location),!!transpose,view)},_emscripten_glUniformMatrix2fv=_glUniformMatrix2fv,_glUniformMatrix3fv=(location,count,transpose,value)=>{if(count<=32)for(var view=miniTempWebGLFloatBuffers[count*=9],i=0;i<count;i+=9)view[i]=HEAPF32[value+4*i>>2],view[i+1]=HEAPF32[value+(4*i+4)>>2],view[i+2]=HEAPF32[value+(4*i+8)>>2],view[i+3]=HEAPF32[value+(4*i+12)>>2],view[i+4]=HEAPF32[value+(4*i+16)>>2],view[i+5]=HEAPF32[value+(4*i+20)>>2],view[i+6]=HEAPF32[value+(4*i+24)>>2],view[i+7]=HEAPF32[value+(4*i+28)>>2],view[i+8]=HEAPF32[value+(4*i+32)>>2];else view=HEAPF32.subarray(value>>2,value+36*count>>2);GLctx.uniformMatrix3fv(webglGetUniformLocation(location),!!transpose,view)},_emscripten_glUniformMatrix3fv=_glUniformMatrix3fv,_glUniformMatrix4fv=(location,count,transpose,value)=>{if(count<=18){var view=miniTempWebGLFloatBuffers[16*count],heap=HEAPF32;value>>=2,count*=16;for(var i=0;i<count;i+=16){var dst=value+i;view[i]=heap[dst],view[i+1]=heap[dst+1],view[i+2]=heap[dst+2],view[i+3]=heap[dst+3],view[i+4]=heap[dst+4],view[i+5]=heap[dst+5],view[i+6]=heap[dst+6],view[i+7]=heap[dst+7],view[i+8]=heap[dst+8],view[i+9]=heap[dst+9],view[i+10]=heap[dst+10],view[i+11]=heap[dst+11],view[i+12]=heap[dst+12],view[i+13]=heap[dst+13],view[i+14]=heap[dst+14],view[i+15]=heap[dst+15]}}else view=HEAPF32.subarray(value>>2,value+64*count>>2);GLctx.uniformMatrix4fv(webglGetUniformLocation(location),!!transpose,view)},_emscripten_glUniformMatrix4fv=_glUniformMatrix4fv,_glUseProgram=program=>{program=GL.programs[program],GLctx.useProgram(program),GLctx.currentProgram=program},_emscripten_glUseProgram=_glUseProgram,_glValidateProgram=program=>{GLctx.validateProgram(GL.programs[program])},_emscripten_glValidateProgram=_glValidateProgram,_glVertexAttrib1f=(x0,x1)=>GLctx.vertexAttrib1f(x0,x1),_emscripten_glVertexAttrib1f=_glVertexAttrib1f,_glVertexAttrib1fv=(index,v)=>{GLctx.vertexAttrib1f(index,HEAPF32[v>>2])},_emscripten_glVertexAttrib1fv=_glVertexAttrib1fv,_glVertexAttrib2f=(x0,x1,x2)=>GLctx.vertexAttrib2f(x0,x1,x2),_emscripten_glVertexAttrib2f=_glVertexAttrib2f,_glVertexAttrib2fv=(index,v)=>{GLctx.vertexAttrib2f(index,HEAPF32[v>>2],HEAPF32[v+4>>2])},_emscripten_glVertexAttrib2fv=_glVertexAttrib2fv,_glVertexAttrib3f=(x0,x1,x2,x3)=>GLctx.vertexAttrib3f(x0,x1,x2,x3),_emscripten_glVertexAttrib3f=_glVertexAttrib3f,_glVertexAttrib3fv=(index,v)=>{GLctx.vertexAttrib3f(index,HEAPF32[v>>2],HEAPF32[v+4>>2],HEAPF32[v+8>>2])},_emscripten_glVertexAttrib3fv=_glVertexAttrib3fv,_glVertexAttrib4f=(x0,x1,x2,x3,x4)=>GLctx.vertexAttrib4f(x0,x1,x2,x3,x4),_emscripten_glVertexAttrib4f=_glVertexAttrib4f,_glVertexAttrib4fv=(index,v)=>{GLctx.vertexAttrib4f(index,HEAPF32[v>>2],HEAPF32[v+4>>2],HEAPF32[v+8>>2],HEAPF32[v+12>>2])},_emscripten_glVertexAttrib4fv=_glVertexAttrib4fv,_glVertexAttribDivisor=(index,divisor)=>{GLctx.vertexAttribDivisor(index,divisor)},_glVertexAttribDivisorANGLE=_glVertexAttribDivisor,_emscripten_glVertexAttribDivisorANGLE=_glVertexAttribDivisor,_glVertexAttribPointer=(index,size,type,normalized,stride,ptr)=>{GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)},_emscripten_glVertexAttribPointer=_glVertexAttribPointer,_glViewport=(x0,x1,x2,x3)=>GLctx.viewport(x0,x1,x2,x3),_emscripten_glViewport=_glViewport,_emscripten_has_asyncify=()=>0,doRequestFullscreen=(target,strategy)=>JSEvents.fullscreenEnabled()?(target=findEventTarget(target))?target.requestFullscreen||target.webkitRequestFullscreen?JSEvents.canPerformEventHandlerRequests()?JSEvents_requestFullscreen(target,strategy):strategy.deferUntilInEventHandler?(JSEvents.deferCall(JSEvents_requestFullscreen,1,[target,strategy]),1):-2:-3:-4:-1,_emscripten_request_fullscreen_strategy=(target,deferUntilInEventHandler,fullscreenStrategy)=>{deferUntilInEventHandler={scaleMode:HEAP32[fullscreenStrategy>>2],canvasResolutionScaleMode:HEAP32[fullscreenStrategy+4>>2],filteringMode:HEAP32[fullscreenStrategy+8>>2],deferUntilInEventHandler:deferUntilInEventHandler,canvasResizedCallback:HEAP32[fullscreenStrategy+12>>2],canvasResizedCallbackUserData:HEAP32[fullscreenStrategy+16>>2]};return doRequestFullscreen(target,deferUntilInEventHandler)},_emscripten_request_pointerlock=(target,deferUntilInEventHandler)=>(target=findEventTarget(target))?target.requestPointerLock?JSEvents.canPerformEventHandlerRequests()?requestPointerLock(target):deferUntilInEventHandler?(JSEvents.deferCall(requestPointerLock,2,[target]),1):-2:-1:-4,getHeapMax=()=>HEAPU8.length,abortOnCannotGrowMemory=requestedSize=>{abort(`Cannot enlarge memory arrays to size ${requestedSize} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${HEAP8.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},_emscripten_resize_heap=requestedSize=>{HEAPU8.length;abortOnCannotGrowMemory(requestedSize>>>=0)},_emscripten_sample_gamepad_data=()=>{try{if(navigator.getGamepads)return(JSEvents.lastGamepadState=navigator.getGamepads())?0:-1}catch(e){err(`navigator.getGamepads() exists, but failed to execute with exception ${e}. Disabling Gamepad access.`),navigator.getGamepads=null}return-1},registerBeforeUnloadEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString)=>{target={target:findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var confirmationMessage=getWasmTableEntry(callbackfunc)(eventTypeId,0,userData);if(confirmationMessage=confirmationMessage&&UTF8ToString(confirmationMessage))return e.preventDefault(),e.returnValue=confirmationMessage},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_beforeunload_callback_on_thread=(userData,callbackfunc,targetThread)=>"undefined"==typeof onbeforeunload?-1:1!==targetThread?-5:registerBeforeUnloadEventCallback(2,userData,!0,callbackfunc,28,"beforeunload"),registerFocusEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.focusEvent||=_malloc(256);target={target:findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var nodeName=JSEvents.getNodeNameForTarget(e.target),id=e.target.id||"",focusEvent=JSEvents.focusEvent;stringToUTF8(nodeName,focusEvent+0,128),stringToUTF8(id,focusEvent+128,128),getWasmTableEntry(callbackfunc)(eventTypeId,focusEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_blur_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerFocusEventCallback(target,userData,useCapture,callbackfunc,12,"blur",targetThread),_emscripten_set_element_css_size=(target,width,height)=>(target=findEventTarget(target))?(target.style.width=width+"px",target.style.height=height+"px",0):-4,_emscripten_set_focus_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerFocusEventCallback(target,userData,useCapture,callbackfunc,13,"focus",targetThread),fillFullscreenChangeEventData=eventStruct=>{var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,isFullscreen=!!fullscreenElement,reportedElement=(HEAP8[eventStruct]=isFullscreen,HEAP8[eventStruct+1]=JSEvents.fullscreenEnabled(),isFullscreen?fullscreenElement:JSEvents.previousFullscreenElement),nodeName=JSEvents.getNodeNameForTarget(reportedElement),id=reportedElement?.id||"";stringToUTF8(nodeName,eventStruct+2,128),stringToUTF8(id,eventStruct+130,128),HEAP32[eventStruct+260>>2]=reportedElement?reportedElement.clientWidth:0,HEAP32[eventStruct+264>>2]=reportedElement?reportedElement.clientHeight:0,HEAP32[eventStruct+268>>2]=screen.width,HEAP32[eventStruct+272>>2]=screen.height,isFullscreen&&(JSEvents.previousFullscreenElement=fullscreenElement)},registerFullscreenChangeEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.fullscreenChangeEvent||=_malloc(276);return JSEvents.registerOrRemoveHandler({target:target,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var fullscreenChangeEvent=JSEvents.fullscreenChangeEvent;fillFullscreenChangeEventData(fullscreenChangeEvent),getWasmTableEntry(callbackfunc)(eventTypeId,fullscreenChangeEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_fullscreenchange_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>JSEvents.fullscreenEnabled()?(target=findEventTarget(target))?(registerFullscreenChangeEventCallback(target,userData,useCapture,callbackfunc,19,"webkitfullscreenchange",targetThread),registerFullscreenChangeEventCallback(target,userData,useCapture,callbackfunc,19,"fullscreenchange",targetThread)):-4:-1,registerGamepadEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.gamepadEvent||=_malloc(1240);target={target:findEventTarget(target),allowsDeferredCalls:!0,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var gamepadEvent=JSEvents.gamepadEvent;fillGamepadEventData(gamepadEvent,e.gamepad),getWasmTableEntry(callbackfunc)(eventTypeId,gamepadEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_gamepadconnected_callback_on_thread=(userData,useCapture,callbackfunc,targetThread)=>_emscripten_sample_gamepad_data()?-1:registerGamepadEventCallback(2,userData,useCapture,callbackfunc,26,"gamepadconnected",targetThread),_emscripten_set_gamepaddisconnected_callback_on_thread=(userData,useCapture,callbackfunc,targetThread)=>_emscripten_sample_gamepad_data()?-1:registerGamepadEventCallback(2,userData,useCapture,callbackfunc,27,"gamepaddisconnected",targetThread),registerKeyEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.keyEvent||=_malloc(160);target={target:findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:e=>{assert(e);var keyEventData=JSEvents.keyEvent,idx=(HEAPF64[keyEventData>>3]=e.timeStamp,keyEventData>>2);HEAP32[2+idx]=e.location,HEAP8[keyEventData+12]=e.ctrlKey,HEAP8[keyEventData+13]=e.shiftKey,HEAP8[keyEventData+14]=e.altKey,HEAP8[keyEventData+15]=e.metaKey,HEAP8[keyEventData+16]=e.repeat,HEAP32[5+idx]=e.charCode,HEAP32[6+idx]=e.keyCode,HEAP32[7+idx]=e.which,stringToUTF8(e.key||"",keyEventData+32,32),stringToUTF8(e.code||"",keyEventData+64,32),stringToUTF8(e.char||"",keyEventData+96,32),stringToUTF8(e.locale||"",keyEventData+128,32),getWasmTableEntry(callbackfunc)(eventTypeId,keyEventData,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(target)},_emscripten_set_keydown_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerKeyEventCallback(target,userData,useCapture,callbackfunc,2,"keydown",targetThread),_emscripten_set_keypress_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerKeyEventCallback(target,userData,useCapture,callbackfunc,1,"keypress",targetThread),_emscripten_set_keyup_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerKeyEventCallback(target,userData,useCapture,callbackfunc,3,"keyup",targetThread),_emscripten_set_main_loop=(func,fps,simulateInfiniteLoop)=>{func=getWasmTableEntry(func);setMainLoop(func,fps,simulateInfiniteLoop)},fillMouseEventData=(eventStruct,e,target)=>{assert(eventStruct%4==0),HEAPF64[eventStruct>>3]=e.timeStamp;var idx=eventStruct>>2,eventStruct=(HEAP32[2+idx]=e.screenX,HEAP32[3+idx]=e.screenY,HEAP32[4+idx]=e.clientX,HEAP32[5+idx]=e.clientY,HEAP8[eventStruct+24]=e.ctrlKey,HEAP8[eventStruct+25]=e.shiftKey,HEAP8[eventStruct+26]=e.altKey,HEAP8[eventStruct+27]=e.metaKey,HEAP16[2*idx+14]=e.button,HEAP16[2*idx+15]=e.buttons,HEAP32[8+idx]=e.movementX,HEAP32[9+idx]=e.movementY,getBoundingClientRect(target));HEAP32[10+idx]=e.clientX-(0|eventStruct.left),HEAP32[11+idx]=e.clientY-(0|eventStruct.top)},registerMouseEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.mouseEvent||=_malloc(64);eventTypeString={target:target=findEventTarget(target),allowsDeferredCalls:"mousemove"!=eventTypeString&&"mouseenter"!=eventTypeString&&"mouseleave"!=eventTypeString,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{fillMouseEventData(JSEvents.mouseEvent,e,target),getWasmTableEntry(callbackfunc)(eventTypeId,JSEvents.mouseEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(eventTypeString)},_emscripten_set_mousedown_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,5,"mousedown",targetThread),_emscripten_set_mouseenter_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,33,"mouseenter",targetThread),_emscripten_set_mouseleave_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,34,"mouseleave",targetThread),_emscripten_set_mousemove_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,8,"mousemove",targetThread),_emscripten_set_mouseup_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerMouseEventCallback(target,userData,useCapture,callbackfunc,6,"mouseup",targetThread),fillPointerlockChangeEventData=eventStruct=>{var pointerLockElement=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,nodeName=(HEAP8[eventStruct]=!!pointerLockElement,JSEvents.getNodeNameForTarget(pointerLockElement)),pointerLockElement=pointerLockElement?.id||"";stringToUTF8(nodeName,eventStruct+1,128),stringToUTF8(pointerLockElement,eventStruct+129,128)},registerPointerlockChangeEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.pointerlockChangeEvent||=_malloc(257);return JSEvents.registerOrRemoveHandler({target:target,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var pointerlockChangeEvent=JSEvents.pointerlockChangeEvent;fillPointerlockChangeEventData(pointerlockChangeEvent),getWasmTableEntry(callbackfunc)(eventTypeId,pointerlockChangeEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_pointerlockchange_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>document&&document.body&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(target=findEventTarget(target))?(registerPointerlockChangeEventCallback(target,userData,useCapture,callbackfunc,20,"mozpointerlockchange",targetThread),registerPointerlockChangeEventCallback(target,userData,useCapture,callbackfunc,20,"webkitpointerlockchange",targetThread),registerPointerlockChangeEventCallback(target,userData,useCapture,callbackfunc,20,"mspointerlockchange",targetThread),registerPointerlockChangeEventCallback(target,userData,useCapture,callbackfunc,20,"pointerlockchange",targetThread)):-4:-1,registerUiEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.uiEvent||=_malloc(36);eventTypeString={target:target=findEventTarget(target),eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var b,uiEvent;e.target==target&&(b=document.body)&&(uiEvent=JSEvents.uiEvent,HEAP32[uiEvent>>2]=0,HEAP32[uiEvent+4>>2]=b.clientWidth,HEAP32[uiEvent+8>>2]=b.clientHeight,HEAP32[uiEvent+12>>2]=innerWidth,HEAP32[uiEvent+16>>2]=innerHeight,HEAP32[uiEvent+20>>2]=outerWidth,HEAP32[uiEvent+24>>2]=outerHeight,HEAP32[uiEvent+28>>2]=0|pageXOffset,HEAP32[uiEvent+32>>2]=0|pageYOffset,getWasmTableEntry(callbackfunc)(eventTypeId,uiEvent,userData))&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(eventTypeString)},_emscripten_set_resize_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerUiEventCallback(target,userData,useCapture,callbackfunc,10,"resize",targetThread),registerTouchEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.touchEvent||=_malloc(1552);eventTypeString={target:target=findEventTarget(target),allowsDeferredCalls:"touchstart"==eventTypeString||"touchend"==eventTypeString,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:e=>{assert(e);var touches={};for(let t of e.touches)t.isChanged=t.onTarget=0,touches[t.identifier]=t;for(let t of e.changedTouches)t.isChanged=1,touches[t.identifier]=t;for(let t of e.targetTouches)touches[t.identifier].onTarget=1;var touchEvent=JSEvents.touchEvent,idx=(HEAPF64[touchEvent>>3]=e.timeStamp,HEAP8[touchEvent+12]=e.ctrlKey,HEAP8[touchEvent+13]=e.shiftKey,HEAP8[touchEvent+14]=e.altKey,HEAP8[touchEvent+15]=e.metaKey,touchEvent+16),targetRect=getBoundingClientRect(target),numTouches=0;for(let t of Object.values(touches)){var idx32=idx>>2;if(HEAP32[idx32]=t.identifier,HEAP32[1+idx32]=t.screenX,HEAP32[2+idx32]=t.screenY,HEAP32[3+idx32]=t.clientX,HEAP32[4+idx32]=t.clientY,HEAP32[5+idx32]=t.pageX,HEAP32[6+idx32]=t.pageY,HEAP8[idx+28]=t.isChanged,HEAP8[idx+29]=t.onTarget,HEAP32[8+idx32]=t.clientX-(0|targetRect.left),HEAP32[9+idx32]=t.clientY-(0|targetRect.top),idx+=48,31<++numTouches)break}HEAP32[touchEvent+8>>2]=numTouches,getWasmTableEntry(callbackfunc)(eventTypeId,touchEvent,userData)&&e.preventDefault()},useCapture:useCapture};return JSEvents.registerOrRemoveHandler(eventTypeString)},_emscripten_set_touchcancel_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,25,"touchcancel",targetThread),_emscripten_set_touchend_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,23,"touchend",targetThread),_emscripten_set_touchmove_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,24,"touchmove",targetThread),_emscripten_set_touchstart_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>registerTouchEventCallback(target,userData,useCapture,callbackfunc,22,"touchstart",targetThread),fillVisibilityChangeEventData=eventStruct=>{var visibilityState=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState);HEAP8[eventStruct]=document.hidden,HEAP32[eventStruct+4>>2]=visibilityState},registerVisibilityChangeEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.visibilityChangeEvent||=_malloc(8);return JSEvents.registerOrRemoveHandler({target:target,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var visibilityChangeEvent=JSEvents.visibilityChangeEvent;fillVisibilityChangeEventData(visibilityChangeEvent),getWasmTableEntry(callbackfunc)(eventTypeId,visibilityChangeEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_visibilitychange_callback_on_thread=(userData,useCapture,callbackfunc,targetThread)=>specialHTMLTargets[1]?registerVisibilityChangeEventCallback(specialHTMLTargets[1],userData,useCapture,callbackfunc,21,"visibilitychange",targetThread):-4,registerWheelEventCallback=(target,userData,useCapture,callbackfunc,eventTypeId,eventTypeString,targetThread)=>{JSEvents.wheelEvent||=_malloc(96);return JSEvents.registerOrRemoveHandler({target:target,allowsDeferredCalls:!0,eventTypeString:eventTypeString,callbackfunc:callbackfunc,handlerFunc:(e=event)=>{var wheelEvent=JSEvents.wheelEvent;fillMouseEventData(wheelEvent,e,target),HEAPF64[wheelEvent+64>>3]=e.deltaX,HEAPF64[wheelEvent+72>>3]=e.deltaY,HEAPF64[wheelEvent+80>>3]=e.deltaZ,HEAP32[wheelEvent+88>>2]=e.deltaMode,getWasmTableEntry(callbackfunc)(eventTypeId,wheelEvent,userData)&&e.preventDefault()},useCapture:useCapture})},_emscripten_set_wheel_callback_on_thread=(target,userData,useCapture,callbackfunc,targetThread)=>(target=findEventTarget(target))?void 0!==target.onwheel?registerWheelEventCallback(target,userData,useCapture,callbackfunc,9,"wheel",targetThread):-1:-4,_emscripten_set_window_title=title=>document.title=UTF8ToString(title),_emscripten_sleep=()=>{throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},ENV={},getExecutableName=()=>thisProgram||"./this.program",getEnvStrings=()=>{if(!getEnvStrings.strings){var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:getExecutableName()};for(x in ENV)void 0===ENV[x]?delete env[x]:env[x]=ENV[x];var x,strings=[];for(x in env)strings.push(x+"="+env[x]);getEnvStrings.strings=strings}return getEnvStrings.strings},stringToAscii=(str,buffer)=>{for(var i=0;i<str.length;++i)assert(str.charCodeAt(i)===(255&str.charCodeAt(i))),HEAP8[buffer++]=str.charCodeAt(i);HEAP8[buffer]=0},_environ_get=(__environ,environ_buf)=>{var bufSize=0;return getEnvStrings().forEach((string,i)=>{var ptr=environ_buf+bufSize;HEAPU32[__environ+4*i>>2]=ptr,stringToAscii(string,ptr),bufSize+=string.length+1}),0},_environ_sizes_get=(penviron_count,penviron_buf_size)=>{var strings=getEnvStrings(),bufSize=(HEAPU32[penviron_count>>2]=strings.length,0);return strings.forEach(string=>bufSize+=string.length+1),HEAPU32[penviron_buf_size>>2]=bufSize,0};function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);return FS.close(stream),0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}function _fd_fdstat_get(fd,pbuf){try{var stream=SYSCALLS.getStreamFromFD(fd),type=stream.tty?2:FS.isDir(stream.mode)?3:FS.isLink(stream.mode)?7:4;return HEAP8[pbuf]=type,HEAP16[pbuf+2>>1]=0,tempI64=[0,(tempDouble=0,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[pbuf+8>>2]=tempI64[0],HEAP32[pbuf+12>>2]=tempI64[1],tempI64=[0,(tempDouble=0,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[pbuf+16>>2]=tempI64[0],HEAP32[pbuf+20>>2]=tempI64[1],0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}var doReadv=(stream,iov,iovcnt,offset)=>{for(var ret=0,i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2],len=HEAPU32[iov+4>>2],ptr=(iov+=8,FS.read(stream,HEAP8,ptr,len,offset));if(ptr<0)return-1;if(ret+=ptr,ptr<len)break;void 0!==offset&&(offset+=ptr)}return ret};function _fd_read(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd),num=doReadv(stream,iov,iovcnt);return HEAPU32[pnum>>2]=num,0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var stream,offset_low=convertI32PairToI53Checked(offset_low,offset_high);try{return isNaN(offset_low)?61:(stream=SYSCALLS.getStreamFromFD(fd),FS.llseek(stream,offset_low,whence),tempI64=[stream.position>>>0,(tempDouble=stream.position,1<=+Math.abs(tempDouble)?0<tempDouble?+Math.floor(tempDouble/4294967296)>>>0:~~+Math.ceil((tempDouble-(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[newOffset>>2]=tempI64[0],HEAP32[newOffset+4>>2]=tempI64[1],stream.getdents&&0===offset_low&&0===whence&&(stream.getdents=null),0)}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}function _fd_sync(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);return stream.stream_ops?.fsync?stream.stream_ops.fsync(stream):0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}var doWritev=(stream,iov,iovcnt,offset)=>{for(var ret=0,i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2],len=HEAPU32[iov+4>>2],ptr=(iov+=8,FS.write(stream,HEAP8,ptr,len,offset));if(ptr<0)return-1;if(ret+=ptr,ptr<len)break;void 0!==offset&&(offset+=ptr)}return ret};function _fd_write(fd,iov,iovcnt,pnum){try{var stream=SYSCALLS.getStreamFromFD(fd),num=doWritev(stream,iov,iovcnt);return HEAPU32[pnum>>2]=num,0}catch(e){if(void 0===FS||"ErrnoError"!==e.name)throw e;return e.errno}}var listenOnce=(object,event,func)=>{object.addEventListener(event,func,{once:!0})},autoResumeAudioContext=(ctx,elements)=>{elements=elements||[document,document.getElementById("canvas")],["keydown","mousedown","touchstart"].forEach(event=>{elements.forEach(element=>{element&&listenOnce(element,event,()=>{"suspended"===ctx.state&&ctx.resume()})})})},dynCallLegacy=(sig,ptr,args)=>(assert("dynCall_"+(sig=sig.replace(/p/g,"i"))in Module,`bad function pointer type - dynCall function not found for sig '${sig}'`),args?.length?assert(args.length===sig.substring(1).replace(/j/g,"--").length):assert(1==sig.length),(0,Module["dynCall_"+sig])(ptr,...args)),dynCall=(sig,ptr,args=[])=>sig.includes("j")?dynCallLegacy(sig,ptr,args):(assert(getWasmTableEntry(ptr),"missing table entry in dynCall: "+ptr),getWasmTableEntry(ptr)(...args)),FS_createPath=FS.createPath,FS_unlink=path=>FS.unlink(path),FS_createLazyFile=FS.createLazyFile,FS_createDevice=FS.createDevice;FS.createPreloadedFile=FS_createPreloadedFile,FS.staticInit(),Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_unlink=FS.unlink,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createDevice=FS.createDevice,Module.requestFullscreen=Browser.requestFullscreen,Module.requestFullScreen=Browser.requestFullScreen,Module.setCanvasSize=Browser.setCanvasSize,Module.getUserMedia=Browser.getUserMedia,Module.createContext=Browser.createContext,Module.requestAnimationFrame=MainLoop.requestAnimationFrame,Module.pauseMainLoop=MainLoop.pause,Module.resumeMainLoop=MainLoop.resume,MainLoop.init();for(var i=0;i<32;++i)tempFixedLengthArray.push(new Array(i));for(var miniTempWebGLFloatBuffersStorage=new Float32Array(288),i=0;i<=288;++i)miniTempWebGLFloatBuffers[i]=miniTempWebGLFloatBuffersStorage.subarray(0,i);for(var miniTempWebGLIntBuffersStorage=new Int32Array(288),i=0;i<=288;++i)miniTempWebGLIntBuffers[i]=miniTempWebGLIntBuffersStorage.subarray(0,i);function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings")}var calledRun,wasmImports={__assert_fail:___assert_fail,__syscall_faccessat:___syscall_faccessat,__syscall_fcntl64:___syscall_fcntl64,__syscall_fstat64:___syscall_fstat64,__syscall_getdents64:___syscall_getdents64,__syscall_ioctl:___syscall_ioctl,__syscall_lstat64:___syscall_lstat64,__syscall_mkdirat:___syscall_mkdirat,__syscall_newfstatat:___syscall_newfstatat,__syscall_openat:___syscall_openat,__syscall_readlinkat:___syscall_readlinkat,__syscall_rmdir:___syscall_rmdir,__syscall_stat64:___syscall_stat64,__syscall_unlinkat:___syscall_unlinkat,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,_localtime_js:__localtime_js,_mktime_js:__mktime_js,_tzset_js:__tzset_js,eglBindAPI:_eglBindAPI,eglChooseConfig:_eglChooseConfig,eglCreateContext:_eglCreateContext,eglCreateWindowSurface:_eglCreateWindowSurface,eglDestroyContext:_eglDestroyContext,eglDestroySurface:_eglDestroySurface,eglGetConfigAttrib:_eglGetConfigAttrib,eglGetDisplay:_eglGetDisplay,eglGetError:_eglGetError,eglInitialize:_eglInitialize,eglMakeCurrent:_eglMakeCurrent,eglQueryString:_eglQueryString,eglSwapBuffers:_eglSwapBuffers,eglSwapInterval:_eglSwapInterval,eglTerminate:_eglTerminate,eglWaitGL:_eglWaitGL,eglWaitNative:_eglWaitNative,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_asm_const_int_sync_on_main_thread:_emscripten_asm_const_int_sync_on_main_thread,emscripten_asm_const_ptr_sync_on_main_thread:_emscripten_asm_const_ptr_sync_on_main_thread,emscripten_cancel_main_loop:_emscripten_cancel_main_loop,emscripten_date_now:_emscripten_date_now,emscripten_exit_fullscreen:_emscripten_exit_fullscreen,emscripten_exit_pointerlock:_emscripten_exit_pointerlock,emscripten_force_exit:_emscripten_force_exit,emscripten_get_device_pixel_ratio:_emscripten_get_device_pixel_ratio,emscripten_get_element_css_size:_emscripten_get_element_css_size,emscripten_get_gamepad_status:_emscripten_get_gamepad_status,emscripten_get_now:_emscripten_get_now,emscripten_get_num_gamepads:_emscripten_get_num_gamepads,emscripten_get_screen_size:_emscripten_get_screen_size,emscripten_glActiveTexture:_emscripten_glActiveTexture,emscripten_glAttachShader:_emscripten_glAttachShader,emscripten_glBeginQueryEXT:_emscripten_glBeginQueryEXT,emscripten_glBindAttribLocation:_emscripten_glBindAttribLocation,emscripten_glBindBuffer:_emscripten_glBindBuffer,emscripten_glBindFramebuffer:_emscripten_glBindFramebuffer,emscripten_glBindRenderbuffer:_emscripten_glBindRenderbuffer,emscripten_glBindTexture:_emscripten_glBindTexture,emscripten_glBindVertexArrayOES:_emscripten_glBindVertexArrayOES,emscripten_glBlendColor:_emscripten_glBlendColor,emscripten_glBlendEquation:_emscripten_glBlendEquation,emscripten_glBlendEquationSeparate:_emscripten_glBlendEquationSeparate,emscripten_glBlendFunc:_emscripten_glBlendFunc,emscripten_glBlendFuncSeparate:_emscripten_glBlendFuncSeparate,emscripten_glBufferData:_emscripten_glBufferData,emscripten_glBufferSubData:_emscripten_glBufferSubData,emscripten_glCheckFramebufferStatus:_emscripten_glCheckFramebufferStatus,emscripten_glClear:_emscripten_glClear,emscripten_glClearColor:_emscripten_glClearColor,emscripten_glClearDepthf:_emscripten_glClearDepthf,emscripten_glClearStencil:_emscripten_glClearStencil,emscripten_glClipControlEXT:_emscripten_glClipControlEXT,emscripten_glColorMask:_emscripten_glColorMask,emscripten_glCompileShader:_emscripten_glCompileShader,emscripten_glCompressedTexImage2D:_emscripten_glCompressedTexImage2D,emscripten_glCompressedTexSubImage2D:_emscripten_glCompressedTexSubImage2D,emscripten_glCopyTexImage2D:_emscripten_glCopyTexImage2D,emscripten_glCopyTexSubImage2D:_emscripten_glCopyTexSubImage2D,emscripten_glCreateProgram:_emscripten_glCreateProgram,emscripten_glCreateShader:_emscripten_glCreateShader,emscripten_glCullFace:_emscripten_glCullFace,emscripten_glDeleteBuffers:_emscripten_glDeleteBuffers,emscripten_glDeleteFramebuffers:_emscripten_glDeleteFramebuffers,emscripten_glDeleteProgram:_emscripten_glDeleteProgram,emscripten_glDeleteQueriesEXT:_emscripten_glDeleteQueriesEXT,emscripten_glDeleteRenderbuffers:_emscripten_glDeleteRenderbuffers,emscripten_glDeleteShader:_emscripten_glDeleteShader,emscripten_glDeleteTextures:_emscripten_glDeleteTextures,emscripten_glDeleteVertexArraysOES:_emscripten_glDeleteVertexArraysOES,emscripten_glDepthFunc:_emscripten_glDepthFunc,emscripten_glDepthMask:_emscripten_glDepthMask,emscripten_glDepthRangef:_emscripten_glDepthRangef,emscripten_glDetachShader:_emscripten_glDetachShader,emscripten_glDisable:_emscripten_glDisable,emscripten_glDisableVertexAttribArray:_emscripten_glDisableVertexAttribArray,emscripten_glDrawArrays:_emscripten_glDrawArrays,emscripten_glDrawArraysInstancedANGLE:_emscripten_glDrawArraysInstancedANGLE,emscripten_glDrawBuffersWEBGL:_emscripten_glDrawBuffersWEBGL,emscripten_glDrawElements:_emscripten_glDrawElements,emscripten_glDrawElementsInstancedANGLE:_emscripten_glDrawElementsInstancedANGLE,emscripten_glEnable:_emscripten_glEnable,emscripten_glEnableVertexAttribArray:_emscripten_glEnableVertexAttribArray,emscripten_glEndQueryEXT:_emscripten_glEndQueryEXT,emscripten_glFinish:_emscripten_glFinish,emscripten_glFlush:_emscripten_glFlush,emscripten_glFramebufferRenderbuffer:_emscripten_glFramebufferRenderbuffer,emscripten_glFramebufferTexture2D:_emscripten_glFramebufferTexture2D,emscripten_glFrontFace:_emscripten_glFrontFace,emscripten_glGenBuffers:_emscripten_glGenBuffers,emscripten_glGenFramebuffers:_emscripten_glGenFramebuffers,emscripten_glGenQueriesEXT:_emscripten_glGenQueriesEXT,emscripten_glGenRenderbuffers:_emscripten_glGenRenderbuffers,emscripten_glGenTextures:_emscripten_glGenTextures,emscripten_glGenVertexArraysOES:_emscripten_glGenVertexArraysOES,emscripten_glGenerateMipmap:_emscripten_glGenerateMipmap,emscripten_glGetActiveAttrib:_emscripten_glGetActiveAttrib,emscripten_glGetActiveUniform:_emscripten_glGetActiveUniform,emscripten_glGetAttachedShaders:_emscripten_glGetAttachedShaders,emscripten_glGetAttribLocation:_emscripten_glGetAttribLocation,emscripten_glGetBooleanv:_emscripten_glGetBooleanv,emscripten_glGetBufferParameteriv:_emscripten_glGetBufferParameteriv,emscripten_glGetError:_emscripten_glGetError,emscripten_glGetFloatv:_emscripten_glGetFloatv,emscripten_glGetFramebufferAttachmentParameteriv:_emscripten_glGetFramebufferAttachmentParameteriv,emscripten_glGetIntegerv:_emscripten_glGetIntegerv,emscripten_glGetProgramInfoLog:_emscripten_glGetProgramInfoLog,emscripten_glGetProgramiv:_emscripten_glGetProgramiv,emscripten_glGetQueryObjecti64vEXT:_emscripten_glGetQueryObjecti64vEXT,emscripten_glGetQueryObjectivEXT:_emscripten_glGetQueryObjectivEXT,emscripten_glGetQueryObjectui64vEXT:_emscripten_glGetQueryObjectui64vEXT,emscripten_glGetQueryObjectuivEXT:_emscripten_glGetQueryObjectuivEXT,emscripten_glGetQueryivEXT:_emscripten_glGetQueryivEXT,emscripten_glGetRenderbufferParameteriv:_emscripten_glGetRenderbufferParameteriv,emscripten_glGetShaderInfoLog:_emscripten_glGetShaderInfoLog,emscripten_glGetShaderPrecisionFormat:_emscripten_glGetShaderPrecisionFormat,emscripten_glGetShaderSource:_emscripten_glGetShaderSource,emscripten_glGetShaderiv:_emscripten_glGetShaderiv,emscripten_glGetString:_emscripten_glGetString,emscripten_glGetTexParameterfv:_emscripten_glGetTexParameterfv,emscripten_glGetTexParameteriv:_emscripten_glGetTexParameteriv,emscripten_glGetUniformLocation:_emscripten_glGetUniformLocation,emscripten_glGetUniformfv:_emscripten_glGetUniformfv,emscripten_glGetUniformiv:_emscripten_glGetUniformiv,emscripten_glGetVertexAttribPointerv:_emscripten_glGetVertexAttribPointerv,emscripten_glGetVertexAttribfv:_emscripten_glGetVertexAttribfv,emscripten_glGetVertexAttribiv:_emscripten_glGetVertexAttribiv,emscripten_glHint:_emscripten_glHint,emscripten_glIsBuffer:_emscripten_glIsBuffer,emscripten_glIsEnabled:_emscripten_glIsEnabled,emscripten_glIsFramebuffer:_emscripten_glIsFramebuffer,emscripten_glIsProgram:_emscripten_glIsProgram,emscripten_glIsQueryEXT:_emscripten_glIsQueryEXT,emscripten_glIsRenderbuffer:_emscripten_glIsRenderbuffer,emscripten_glIsShader:_emscripten_glIsShader,emscripten_glIsTexture:_emscripten_glIsTexture,emscripten_glIsVertexArrayOES:_emscripten_glIsVertexArrayOES,emscripten_glLineWidth:_emscripten_glLineWidth,emscripten_glLinkProgram:_emscripten_glLinkProgram,emscripten_glPixelStorei:_emscripten_glPixelStorei,emscripten_glPolygonModeWEBGL:_emscripten_glPolygonModeWEBGL,emscripten_glPolygonOffset:_emscripten_glPolygonOffset,emscripten_glPolygonOffsetClampEXT:_emscripten_glPolygonOffsetClampEXT,emscripten_glQueryCounterEXT:_emscripten_glQueryCounterEXT,emscripten_glReadPixels:_emscripten_glReadPixels,emscripten_glReleaseShaderCompiler:_emscripten_glReleaseShaderCompiler,emscripten_glRenderbufferStorage:_emscripten_glRenderbufferStorage,emscripten_glSampleCoverage:_emscripten_glSampleCoverage,emscripten_glScissor:_emscripten_glScissor,emscripten_glShaderBinary:_emscripten_glShaderBinary,emscripten_glShaderSource:_emscripten_glShaderSource,emscripten_glStencilFunc:_emscripten_glStencilFunc,emscripten_glStencilFuncSeparate:_emscripten_glStencilFuncSeparate,emscripten_glStencilMask:_emscripten_glStencilMask,emscripten_glStencilMaskSeparate:_emscripten_glStencilMaskSeparate,emscripten_glStencilOp:_emscripten_glStencilOp,emscripten_glStencilOpSeparate:_emscripten_glStencilOpSeparate,emscripten_glTexImage2D:_emscripten_glTexImage2D,emscripten_glTexParameterf:_emscripten_glTexParameterf,emscripten_glTexParameterfv:_emscripten_glTexParameterfv,emscripten_glTexParameteri:_emscripten_glTexParameteri,emscripten_glTexParameteriv:_emscripten_glTexParameteriv,emscripten_glTexSubImage2D:_emscripten_glTexSubImage2D,emscripten_glUniform1f:_emscripten_glUniform1f,emscripten_glUniform1fv:_emscripten_glUniform1fv,emscripten_glUniform1i:_emscripten_glUniform1i,emscripten_glUniform1iv:_emscripten_glUniform1iv,emscripten_glUniform2f:_emscripten_glUniform2f,emscripten_glUniform2fv:_emscripten_glUniform2fv,emscripten_glUniform2i:_emscripten_glUniform2i,emscripten_glUniform2iv:_emscripten_glUniform2iv,emscripten_glUniform3f:_emscripten_glUniform3f,emscripten_glUniform3fv:_emscripten_glUniform3fv,emscripten_glUniform3i:_emscripten_glUniform3i,emscripten_glUniform3iv:_emscripten_glUniform3iv,emscripten_glUniform4f:_emscripten_glUniform4f,emscripten_glUniform4fv:_emscripten_glUniform4fv,emscripten_glUniform4i:_emscripten_glUniform4i,emscripten_glUniform4iv:_emscripten_glUniform4iv,emscripten_glUniformMatrix2fv:_emscripten_glUniformMatrix2fv,emscripten_glUniformMatrix3fv:_emscripten_glUniformMatrix3fv,emscripten_glUniformMatrix4fv:_emscripten_glUniformMatrix4fv,emscripten_glUseProgram:_emscripten_glUseProgram,emscripten_glValidateProgram:_emscripten_glValidateProgram,emscripten_glVertexAttrib1f:_emscripten_glVertexAttrib1f,emscripten_glVertexAttrib1fv:_emscripten_glVertexAttrib1fv,emscripten_glVertexAttrib2f:_emscripten_glVertexAttrib2f,emscripten_glVertexAttrib2fv:_emscripten_glVertexAttrib2fv,emscripten_glVertexAttrib3f:_emscripten_glVertexAttrib3f,emscripten_glVertexAttrib3fv:_emscripten_glVertexAttrib3fv,emscripten_glVertexAttrib4f:_emscripten_glVertexAttrib4f,emscripten_glVertexAttrib4fv:_emscripten_glVertexAttrib4fv,emscripten_glVertexAttribDivisorANGLE:_emscripten_glVertexAttribDivisorANGLE,emscripten_glVertexAttribPointer:_emscripten_glVertexAttribPointer,emscripten_glViewport:_emscripten_glViewport,emscripten_has_asyncify:_emscripten_has_asyncify,emscripten_request_fullscreen_strategy:_emscripten_request_fullscreen_strategy,emscripten_request_pointerlock:_emscripten_request_pointerlock,emscripten_resize_heap:_emscripten_resize_heap,emscripten_sample_gamepad_data:_emscripten_sample_gamepad_data,emscripten_set_beforeunload_callback_on_thread:_emscripten_set_beforeunload_callback_on_thread,emscripten_set_blur_callback_on_thread:_emscripten_set_blur_callback_on_thread,emscripten_set_canvas_element_size:_emscripten_set_canvas_element_size,emscripten_set_element_css_size:_emscripten_set_element_css_size,emscripten_set_focus_callback_on_thread:_emscripten_set_focus_callback_on_thread,emscripten_set_fullscreenchange_callback_on_thread:_emscripten_set_fullscreenchange_callback_on_thread,emscripten_set_gamepadconnected_callback_on_thread:_emscripten_set_gamepadconnected_callback_on_thread,emscripten_set_gamepaddisconnected_callback_on_thread:_emscripten_set_gamepaddisconnected_callback_on_thread,emscripten_set_keydown_callback_on_thread:_emscripten_set_keydown_callback_on_thread,emscripten_set_keypress_callback_on_thread:_emscripten_set_keypress_callback_on_thread,emscripten_set_keyup_callback_on_thread:_emscripten_set_keyup_callback_on_thread,emscripten_set_main_loop:_emscripten_set_main_loop,emscripten_set_mousedown_callback_on_thread:_emscripten_set_mousedown_callback_on_thread,emscripten_set_mouseenter_callback_on_thread:_emscripten_set_mouseenter_callback_on_thread,emscripten_set_mouseleave_callback_on_thread:_emscripten_set_mouseleave_callback_on_thread,emscripten_set_mousemove_callback_on_thread:_emscripten_set_mousemove_callback_on_thread,emscripten_set_mouseup_callback_on_thread:_emscripten_set_mouseup_callback_on_thread,emscripten_set_pointerlockchange_callback_on_thread:_emscripten_set_pointerlockchange_callback_on_thread,emscripten_set_resize_callback_on_thread:_emscripten_set_resize_callback_on_thread,emscripten_set_touchcancel_callback_on_thread:_emscripten_set_touchcancel_callback_on_thread,emscripten_set_touchend_callback_on_thread:_emscripten_set_touchend_callback_on_thread,emscripten_set_touchmove_callback_on_thread:_emscripten_set_touchmove_callback_on_thread,emscripten_set_touchstart_callback_on_thread:_emscripten_set_touchstart_callback_on_thread,emscripten_set_visibilitychange_callback_on_thread:_emscripten_set_visibilitychange_callback_on_thread,emscripten_set_wheel_callback_on_thread:_emscripten_set_wheel_callback_on_thread,emscripten_set_window_title:_emscripten_set_window_title,emscripten_sleep:_emscripten_sleep,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,exit:_exit,fd_close:_fd_close,fd_fdstat_get:_fd_fdstat_get,fd_read:_fd_read,fd_seek:_fd_seek,fd_sync:_fd_sync,fd_write:_fd_write},wasmExports=createWasm(),___wasm_call_ctors=createExportWrapper("__wasm_call_ctors",0),_main=Module._main=createExportWrapper("__main_argc_argv",2),_malloc=createExportWrapper("malloc",1),_strerror=createExportWrapper("strerror",1),_fflush=createExportWrapper("fflush",1),__emscripten_tempret_set=createExportWrapper("_emscripten_tempret_set",1),_emscripten_stack_init=()=>(_emscripten_stack_init=wasmExports.emscripten_stack_init)(),_emscripten_stack_get_free=()=>(_emscripten_stack_get_free=wasmExports.emscripten_stack_get_free)(),_emscripten_stack_get_base=()=>(_emscripten_stack_get_base=wasmExports.emscripten_stack_get_base)(),_emscripten_stack_get_end=()=>(_emscripten_stack_get_end=wasmExports.emscripten_stack_get_end)(),__emscripten_stack_restore=a0=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(a0),__emscripten_stack_alloc=a0=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(a0),_emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)(),dynCall_ij=Module.dynCall_ij=createExportWrapper("dynCall_ij",3),dynCall_iij=Module.dynCall_iij=createExportWrapper("dynCall_iij",4),dynCall_ji=Module.dynCall_ji=createExportWrapper("dynCall_ji",2),dynCall_jiji=Module.dynCall_jiji=createExportWrapper("dynCall_jiji",5),dynCall_jiij=Module.dynCall_jiij=createExportWrapper("dynCall_jiij",5),dynCall_viiijji=Module.dynCall_viiijji=createExportWrapper("dynCall_viiijji",9),dynCall_viijii=Module.dynCall_viijii=createExportWrapper("dynCall_viijii",7),dynCall_iiiiij=Module.dynCall_iiiiij=createExportWrapper("dynCall_iiiiij",7),dynCall_iiiiijj=Module.dynCall_iiiiijj=createExportWrapper("dynCall_iiiiijj",9),dynCall_iiiiiijj=Module.dynCall_iiiiiijj=createExportWrapper("dynCall_iiiiiijj",10),missingLibrarySymbols=(Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.FS_createPreloadedFile=FS_createPreloadedFile,Module.FS_unlink=FS_unlink,Module.FS_createPath=FS_createPath,Module.FS_createDevice=FS_createDevice,Module.FS_createDataFile=FS_createDataFile,Module.FS_createLazyFile=FS_createLazyFile,["writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","convertI32PairToI53","convertU32PairToI53","getTempRet0","growMemory","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","getDynCaller","runtimeKeepalivePush","runtimeKeepalivePop","asmjsMangle","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","writeArrayToMemory","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","hideEverythingExceptGivenElement","restoreHiddenElements","softFullscreenResizeWebGLRenderTarget","registerPointerlockErrorEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","polyfillSetImmediate","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace"]),unexportedSymbols=(missingLibrarySymbols.forEach(missingLibrarySymbol),["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","writeI53ToI64","readI53FromI64","readI53FromU64","convertI32PairToI53Checked","stackSave","stackRestore","stackAlloc","setTempRet0","ptrToString","zeroMemory","exitJS","getHeapMax","abortOnCannotGrowMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","dynCall","handleException","keepRuntimeAlive","callUserCallback","maybeExit","asyncLoad","alignMemory","mmapAlloc","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","stringToAscii","UTF16Decoder","stringToNewUTF8","stringToUTF8OnStack","JSEvents","registerKeyEventCallback","specialHTMLTargets","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","setLetterbox","currentFullscreenStrategy","restoreOldWindowedStyle","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","setCanvasElementSize","getCanvasElementSize","UNWIND_CACHE","ExitStatus","getEnvStrings","doReadv","doWritev","initRandomFill","randomFill","safeSetTimeout","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","ydayFromDate","SYSCALLS","preloadPlugins","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_readFile","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","GL","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","AL","GLUT","EGL","GLEW","IDBStore","allocateUTF8","allocateUTF8OnStack","print","printErr"]);function callMain(args=[]){assert(0==runDependencies,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called");var entryFunction=_main,argc=(args.unshift(thisProgram),args.length),argv=stackAlloc(4*(argc+1)),argv_ptr=argv;args.forEach(arg=>{HEAPU32[argv_ptr>>2]=stringToUTF8OnStack(arg),argv_ptr+=4}),HEAPU32[argv_ptr>>2]=0;try{var ret=entryFunction(argc,argv);return exitJS(ret,!0),ret}catch(e){return handleException(e)}}function stackCheckInit(){_emscripten_stack_init(),writeStackCookie()}function run(args=arguments_){function doRun(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT)||(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(args),postRun())}0<runDependencies||(stackCheckInit(),preRun(),0<runDependencies)||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>Module.setStatus(""),1),doRun()},1)):doRun(),checkStackCookie())}function checkUnflushedContent(){var oldOut=out,oldErr=err,has=!1;out=err=x=>{has=!0};try{_fflush(0),["stdout","stderr"].forEach(name=>{var name=FS.analyzePath("/dev/"+name);name&&(name=name.object.rdev,TTY.ttys[name]?.output?.length)&&(has=!0)})}catch(e){}out=oldOut,err=oldErr,has&&warnOnce("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.")}if(unexportedSymbols.forEach(unexportedRuntimeSymbol),dependenciesFulfilled=function runCaller(){calledRun||run(),calledRun||(dependenciesFulfilled=runCaller)},Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);0<Module.preInit.length;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();
